2025-06-26 19:03:20,219 - INFO - AI Chess Arena starting up...
2025-06-26 19:03:20,221 - INFO - Loaded 150 previous game results from results.txt
2025-06-26 19:07:00,010 - INFO - AI Chess Arena starting up...
2025-06-26 19:07:00,012 - INFO - Loaded 150 previous game results from results.txt
2025-06-26 19:07:04,365 - INFO - New game created: google/gemini-2.5-flash-preview:thinking (White) vs aion-labs/aion-rp-llama-3.1-8b (Black)
2025-06-26 19:07:04,371 - INFO - WebSocket connection established for game game_1750957624_3126
2025-06-26 19:07:04,372 - INFO - Starting game: google/gemini-2.5-flash-preview:thinking vs aion-labs/aion-rp-llama-3.1-8b
2025-06-26 19:07:04,373 - INFO - Calling OpenRouter API with model: google/gemini-2.5-flash-preview:thinking
2025-06-26 19:07:04,373 - INFO - Model has suffix: base=google/gemini-2.5-flash-preview, suffix=:thinking
2025-06-26 19:07:04,373 - INFO - OpenRouter Request for google/gemini-2.5-flash-preview:thinking (attempt 1): {"model": "google/gemini-2.5-flash-preview:thinking", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:07:08,474 - INFO - OpenRouter response for google/gemini-2.5-flash-preview:thinking (attempt 1): {"id": "gen-1750957624-HZTRduj1t72XZquWzWLw", "model": "google/gemini-2.5-flash-preview:thinking", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:07:08,474 - INFO - Received raw move 'e2e4' from model google/gemini-2.5-flash-preview:thinking
2025-06-26 19:07:08,475 - INFO - Using default board with active color: w
2025-06-26 19:07:08,475 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-06-26 19:07:08,476 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:07:09,320 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a strong opening move...
2025-06-26 19:07:09,478 - INFO - Calling OpenRouter API with model: aion-labs/aion-rp-llama-3.1-8b
2025-06-26 19:07:09,478 - INFO - Detected 0.5 move pairs already made in the game
2025-06-26 19:07:09,478 - INFO - OpenRouter Request for aion-labs/aion-rp-llama-3.1-8b (attempt 1): {"model": "aion-labs/aion-rp-llama-3.1-8b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:07:10,670 - INFO - OpenRouter response for aion-labs/aion-rp-llama-3.1-8b (attempt 1): {"id": "gen-1750957629-TNAklBoBKedu5OVWygZ0", "model": "aion-labs/aion-rp-llama-3.1-8b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:07:10,672 - INFO - Received raw move 'f6' from model aion-labs/aion-rp-llama-3.1-8b
2025-06-26 19:07:10,673 - INFO - Using default board with active color: b
2025-06-26 19:07:10,673 - INFO - Expanded pawn shorthand f6 to f7f6
2025-06-26 19:07:10,673 - INFO - Processed move: Raw 'f6' -> Interpreted 'f7f6' -> UCI 'f7f6' -> SAN 'f6'
2025-06-26 19:07:10,676 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:07:11,559 - INFO - Received commentary from openai/gpt-4.1-mini: 1...f6?! Weakens Black's kings...
2025-06-26 19:07:11,678 - INFO - Calling OpenRouter API with model: google/gemini-2.5-flash-preview:thinking
2025-06-26 19:07:11,678 - INFO - Detected 1 move pairs already made in the game
2025-06-26 19:07:11,680 - INFO - Model has suffix: base=google/gemini-2.5-flash-preview, suffix=:thinking
2025-06-26 19:07:11,681 - INFO - OpenRouter Request for google/gemini-2.5-flash-preview:thinking (attempt 1): {"model": "google/gemini-2.5-flash-preview:thinking", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p . p p\n. . . . . p . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 f7f6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:07:19,895 - INFO - OpenRouter response for google/gemini-2.5-flash-preview:thinking (attempt 1): {"id": "gen-1750957631-csdQNhSabHlhAg5Eatw3", "model": "google/gemini-2.5-flash-preview:thinking", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:07:19,897 - INFO - Received raw move 'd2d4' from model google/gemini-2.5-flash-preview:thinking
2025-06-26 19:07:19,898 - INFO - Using default board with active color: w
2025-06-26 19:07:19,898 - INFO - Processed move: Raw 'd2d4' -> Interpreted 'd2d4' -> UCI 'd2d4' -> SAN 'd4'
2025-06-26 19:07:19,900 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:07:21,907 - INFO - Received commentary from openai/gpt-4.1-mini: 2. d4 is a solid response chal...
2025-06-26 19:07:22,404 - INFO - Calling OpenRouter API with model: aion-labs/aion-rp-llama-3.1-8b
2025-06-26 19:07:22,405 - INFO - Detected 1.5 move pairs already made in the game
2025-06-26 19:07:22,405 - INFO - OpenRouter Request for aion-labs/aion-rp-llama-3.1-8b (attempt 1): {"model": "aion-labs/aion-rp-llama-3.1-8b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p . p p\n. . . . . p . .\n. . . . . . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 f7f6\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:07:23,703 - INFO - OpenRouter response for aion-labs/aion-rp-llama-3.1-8b (attempt 1): {"id": "gen-1750957642-wFYqXywoNJT7JPmKbYtt", "model": "aion-labs/aion-rp-llama-3.1-8b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:07:23,705 - INFO - Received raw move 'f6g5' from model aion-labs/aion-rp-llama-3.1-8b
2025-06-26 19:07:23,706 - INFO - Using default board with active color: b
2025-06-26 19:07:23,706 - INFO - Attempting to interpret ambiguous move with API: 'f6g5'
2025-06-26 19:07:23,737 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'f6g5'
2025-06-26 19:07:24,462 - INFO - Interpreted move 'f6g5' as 'f6g5'
2025-06-26 19:07:24,462 - WARNING - Interpreted move 'f6g5' is not legal on the current board
2025-06-26 19:07:24,463 - WARNING - Model aion-labs/aion-rp-llama-3.1-8b made an invalid move: 'f6g5' that couldn't be interpreted (attempt 1/5)
2025-06-26 19:07:24,464 - INFO - Calling OpenRouter API with model: aion-labs/aion-rp-llama-3.1-8b
2025-06-26 19:07:24,464 - INFO - Detected 1.5 move pairs already made in the game
2025-06-26 19:07:24,464 - INFO - OpenRouter Request for aion-labs/aion-rp-llama-3.1-8b (attempt 1): {"model": "aion-labs/aion-rp-llama-3.1-8b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p . p p\n. . . . . p . .\n. . . . . . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 f7f6\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:07:29,637 - INFO - OpenRouter response for aion-labs/aion-rp-llama-3.1-8b (attempt 1): {"id": "gen-1750957644-ceFM4Cb2HK5iRoFknaAt", "model": "aion-labs/aion-rp-llama-3.1-8b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:07:29,638 - INFO - Retry 1: Received raw move 'f6g5
When it is your move, res' from model aion-labs/aion-rp-llama-3.1-8b
2025-06-26 19:07:29,639 - INFO - Model returned multiline response. Using first line: 'f6g5'
2025-06-26 19:07:29,639 - INFO - Using default board with active color: b
2025-06-26 19:07:29,640 - INFO - Attempting to interpret ambiguous move with API: 'f6g5'
2025-06-26 19:07:29,674 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'f6g5'
2025-06-26 19:07:30,200 - INFO - Interpreted move 'f6g5' as 'f6g5'
2025-06-26 19:07:30,200 - WARNING - Interpreted move 'f6g5' is not legal on the current board
2025-06-26 19:07:30,201 - WARNING - Model aion-labs/aion-rp-llama-3.1-8b made an invalid move: 'f6g5
When it is your move, res' that couldn't be interpreted (attempt 2/5)
2025-06-26 19:07:30,201 - INFO - Calling OpenRouter API with model: aion-labs/aion-rp-llama-3.1-8b
2025-06-26 19:07:30,201 - INFO - Detected 1.5 move pairs already made in the game
2025-06-26 19:07:30,201 - INFO - OpenRouter Request for aion-labs/aion-rp-llama-3.1-8b (attempt 1): {"model": "aion-labs/aion-rp-llama-3.1-8b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p . p p\n. . . . . p . .\n. . . . . . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 f7f6\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:07:31,256 - INFO - OpenRouter response for aion-labs/aion-rp-llama-3.1-8b (attempt 1): {"id": "gen-1750957650-gvRzNp7Jmek8DvWiA3sQ", "model": "aion-labs/aion-rp-llama-3.1-8b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:07:31,256 - INFO - Retry 2: Received raw move 'Na6' from model aion-labs/aion-rp-llama-3.1-8b
2025-06-26 19:07:31,257 - INFO - Using default board with active color: b
2025-06-26 19:07:31,257 - INFO - Converted SAN Na6 to UCI b8a6
2025-06-26 19:07:31,257 - INFO - Processed move: Raw 'Na6' -> Interpreted 'b8a6' -> UCI 'b8a6' -> SAN 'Na6'
2025-06-26 19:07:31,259 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:07:32,515 - INFO - Received commentary from openai/gpt-4.1-mini: The move Na6?! is somewhat pas...
2025-06-26 19:07:32,763 - INFO - Calling OpenRouter API with model: google/gemini-2.5-flash-preview:thinking
2025-06-26 19:07:32,764 - INFO - Detected 2 move pairs already made in the game
2025-06-26 19:07:32,765 - INFO - Model has suffix: base=google/gemini-2.5-flash-preview, suffix=:thinking
2025-06-26 19:07:32,765 - INFO - OpenRouter Request for google/gemini-2.5-flash-preview:thinking (attempt 1): {"model": "google/gemini-2.5-flash-preview:thinking", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr . b q k b n r\np p p p p . p p\nn . . . . p . .\n. . . . . . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 f7f6\n2. d2d4 b8a6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:07:51,128 - INFO - OpenRouter response for google/gemini-2.5-flash-preview:thinking (attempt 1): {"id": "gen-1750957652-2hILgqjQ2KEBT4EOeWu0", "model": "google/gemini-2.5-flash-preview:thinking", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:07:51,129 - INFO - Received raw move 'g1f3' from model google/gemini-2.5-flash-preview:thinking
2025-06-26 19:07:51,129 - INFO - Using default board with active color: w
2025-06-26 19:07:51,129 - INFO - Processed move: Raw 'g1f3' -> Interpreted 'g1f3' -> UCI 'g1f3' -> SAN 'Nf3'
2025-06-26 19:07:51,130 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:07:52,128 - INFO - Received commentary from openai/gpt-4.1-mini: 3. Nf3 develops a knight towar...
2025-06-26 19:07:52,131 - INFO - Calling OpenRouter API with model: aion-labs/aion-rp-llama-3.1-8b
2025-06-26 19:07:52,131 - INFO - Detected 2.5 move pairs already made in the game
2025-06-26 19:07:52,132 - INFO - OpenRouter Request for aion-labs/aion-rp-llama-3.1-8b (attempt 1): {"model": "aion-labs/aion-rp-llama-3.1-8b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr . b q k b n r\np p p p p . p p\nn . . . . p . .\n. . . . . . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 f7f6\n2. d2d4 b8a6\n3. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:07:53,242 - INFO - OpenRouter response for aion-labs/aion-rp-llama-3.1-8b (attempt 1): {"id": "gen-1750957672-p9BAWuRrKDlrbuJzMlS6", "model": "aion-labs/aion-rp-llama-3.1-8b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:07:53,243 - INFO - Received raw move 'g8f6' from model aion-labs/aion-rp-llama-3.1-8b
2025-06-26 19:07:53,243 - INFO - Using default board with active color: b
2025-06-26 19:07:53,244 - ERROR - Failed to convert move 'g8f6': ValueError: Illegal move: g8f6
2025-06-26 19:07:53,244 - WARNING - Move parsing attempt 1/5 failed, retrying...
2025-06-26 19:07:53,244 - INFO - Calling OpenRouter API with model: aion-labs/aion-rp-llama-3.1-8b
2025-06-26 19:07:53,244 - INFO - Detected 2.5 move pairs already made in the game
2025-06-26 19:07:53,244 - INFO - OpenRouter Request for aion-labs/aion-rp-llama-3.1-8b (attempt 1): {"model": "aion-labs/aion-rp-llama-3.1-8b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr . b q k b n r\np p p p p . p p\nn . . . . p . .\n. . . . . . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 f7f6\n2. d2d4 b8a6\n3. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:07:54,257 - INFO - OpenRouter response for aion-labs/aion-rp-llama-3.1-8b (attempt 1): {"id": "gen-1750957673-7Y3njv6jHdZHaVrcZoTn", "model": "aion-labs/aion-rp-llama-3.1-8b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:07:54,258 - INFO - Move retry 1: Received raw move 'c7c5' from model aion-labs/aion-rp-llama-3.1-8b
2025-06-26 19:07:54,258 - INFO - Using default board with active color: b
2025-06-26 19:07:54,259 - INFO - Processed move: Raw 'c7c5' -> Interpreted 'c7c5' -> UCI 'c7c5' -> SAN 'c5'
2025-06-26 19:07:54,261 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:07:55,308 - INFO - Received commentary from openai/gpt-4.1-mini: 3...c5 is a thematic break in ...
2025-06-26 19:07:55,764 - INFO - Calling OpenRouter API with model: google/gemini-2.5-flash-preview:thinking
2025-06-26 19:07:55,764 - INFO - Detected 3 move pairs already made in the game
2025-06-26 19:07:55,764 - INFO - Model has suffix: base=google/gemini-2.5-flash-preview, suffix=:thinking
2025-06-26 19:07:55,764 - INFO - OpenRouter Request for google/gemini-2.5-flash-preview:thinking (attempt 1): {"model": "google/gemini-2.5-flash-preview:thinking", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr . b q k b n r\np p . p p . p p\nn . . . . p . .\n. . p . . . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 f7f6\n2. d2d4 b8a6\n3. g1f3 c7c5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:08:11,880 - INFO - OpenRouter response for google/gemini-2.5-flash-preview:thinking (attempt 1): {"id": "gen-1750957675-68Unp0H6CqP0KttoTDPB", "model": "google/gemini-2.5-flash-preview:thinking", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:08:11,882 - INFO - Received raw move 'b1c3' from model google/gemini-2.5-flash-preview:thinking
2025-06-26 19:08:11,882 - INFO - Using default board with active color: w
2025-06-26 19:08:11,883 - INFO - Processed move: Raw 'b1c3' -> Interpreted 'b1c3' -> UCI 'b1c3' -> SAN 'Nc3'
2025-06-26 19:08:11,885 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:08:13,081 - INFO - Received commentary from openai/gpt-4.1-mini: Nc3 develops a knight to contr...
2025-06-26 19:08:13,388 - INFO - Calling OpenRouter API with model: aion-labs/aion-rp-llama-3.1-8b
2025-06-26 19:08:13,389 - INFO - Detected 3.5 move pairs already made in the game
2025-06-26 19:08:13,390 - INFO - OpenRouter Request for aion-labs/aion-rp-llama-3.1-8b (attempt 1): {"model": "aion-labs/aion-rp-llama-3.1-8b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr . b q k b n r\np p . p p . p p\nn . . . . p . .\n. . p . . . . .\n. . . P P . . .\n. . N . . N . .\nP P P . . P P P\nR . B Q K B . R\n\nPrevious moves:\n1. e2e4 f7f6\n2. d2d4 b8a6\n3. g1f3 c7c5\n4. b1c3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:08:14,589 - INFO - OpenRouter response for aion-labs/aion-rp-llama-3.1-8b (attempt 1): {"id": "gen-1750957693-SHzNt1o9fWm8QQ6v19Ot", "model": "aion-labs/aion-rp-llama-3.1-8b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:08:14,590 - INFO - Received raw move 'Be6' from model aion-labs/aion-rp-llama-3.1-8b
2025-06-26 19:08:14,591 - INFO - Using default board with active color: b
2025-06-26 19:08:14,591 - INFO - Attempting to interpret ambiguous move with API: 'Be6'
2025-06-26 19:08:14,622 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'Be6'
2025-06-26 19:08:15,155 - INFO - Interpreted move 'Be6' as 'INVALID'
2025-06-26 19:08:15,156 - WARNING - Model aion-labs/aion-rp-llama-3.1-8b made an invalid move: 'Be6' that couldn't be interpreted (attempt 1/5)
2025-06-26 19:08:15,156 - INFO - Calling OpenRouter API with model: aion-labs/aion-rp-llama-3.1-8b
2025-06-26 19:08:15,157 - INFO - Detected 3.5 move pairs already made in the game
2025-06-26 19:08:15,157 - INFO - OpenRouter Request for aion-labs/aion-rp-llama-3.1-8b (attempt 1): {"model": "aion-labs/aion-rp-llama-3.1-8b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr . b q k b n r\np p . p p . p p\nn . . . . p . .\n. . p . . . . .\n. . . P P . . .\n. . N . . N . .\nP P P . . P P P\nR . B Q K B . R\n\nPrevious moves:\n1. e2e4 f7f6\n2. d2d4 b8a6\n3. g1f3 c7c5\n4. b1c3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:08:16,455 - INFO - OpenRouter response for aion-labs/aion-rp-llama-3.1-8b (attempt 1): {"id": "gen-1750957695-3nsj4oufpfVUyUGoGzbd", "model": "aion-labs/aion-rp-llama-3.1-8b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:08:16,456 - INFO - Retry 1: Received raw move 'e4' from model aion-labs/aion-rp-llama-3.1-8b
2025-06-26 19:08:16,457 - INFO - Using default board with active color: b
2025-06-26 19:08:16,457 - INFO - Attempting to interpret ambiguous move with API: 'e4'
2025-06-26 19:08:16,489 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e4'
2025-06-26 19:08:17,092 - INFO - Interpreted move 'e4' as 'e7e4'
2025-06-26 19:08:17,093 - WARNING - Interpreted move 'e7e4' is not legal on the current board
2025-06-26 19:08:17,093 - WARNING - Model aion-labs/aion-rp-llama-3.1-8b made an invalid move: 'e4' that couldn't be interpreted (attempt 2/5)
2025-06-26 19:08:17,094 - INFO - Calling OpenRouter API with model: aion-labs/aion-rp-llama-3.1-8b
2025-06-26 19:08:17,094 - INFO - Detected 3.5 move pairs already made in the game
2025-06-26 19:08:17,094 - INFO - OpenRouter Request for aion-labs/aion-rp-llama-3.1-8b (attempt 1): {"model": "aion-labs/aion-rp-llama-3.1-8b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr . b q k b n r\np p . p p . p p\nn . . . . p . .\n. . p . . . . .\n. . . P P . . .\n. . N . . N . .\nP P P . . P P P\nR . B Q K B . R\n\nPrevious moves:\n1. e2e4 f7f6\n2. d2d4 b8a6\n3. g1f3 c7c5\n4. b1c3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:08:18,309 - INFO - OpenRouter response for aion-labs/aion-rp-llama-3.1-8b (attempt 1): {"id": "gen-1750957697-uLaQ2X2xPZukhax2tfST", "model": "aion-labs/aion-rp-llama-3.1-8b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:08:18,309 - INFO - Retry 2: Received raw move 'Be6' from model aion-labs/aion-rp-llama-3.1-8b
2025-06-26 19:08:18,310 - INFO - Using default board with active color: b
2025-06-26 19:08:18,310 - INFO - Attempting to interpret ambiguous move with API: 'Be6'
2025-06-26 19:08:18,344 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'Be6'
2025-06-26 19:08:18,842 - INFO - Interpreted move 'Be6' as 'INVALID'
2025-06-26 19:08:18,843 - WARNING - Model aion-labs/aion-rp-llama-3.1-8b made an invalid move: 'Be6' that couldn't be interpreted (attempt 3/5)
2025-06-26 19:08:18,843 - INFO - Calling OpenRouter API with model: aion-labs/aion-rp-llama-3.1-8b
2025-06-26 19:08:18,843 - INFO - Detected 3.5 move pairs already made in the game
2025-06-26 19:08:18,844 - INFO - OpenRouter Request for aion-labs/aion-rp-llama-3.1-8b (attempt 1): {"model": "aion-labs/aion-rp-llama-3.1-8b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr . b q k b n r\np p . p p . p p\nn . . . . p . .\n. . p . . . . .\n. . . P P . . .\n. . N . . N . .\nP P P . . P P P\nR . B Q K B . R\n\nPrevious moves:\n1. e2e4 f7f6\n2. d2d4 b8a6\n3. g1f3 c7c5\n4. b1c3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:08:19,788 - INFO - OpenRouter response for aion-labs/aion-rp-llama-3.1-8b (attempt 1): {"id": "gen-1750957698-eVw7j97ap05Qct6yv6Wm", "model": "aion-labs/aion-rp-llama-3.1-8b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:08:19,789 - INFO - Retry 3: Received raw move 'e5' from model aion-labs/aion-rp-llama-3.1-8b
2025-06-26 19:08:19,790 - INFO - Using default board with active color: b
2025-06-26 19:08:19,790 - INFO - Expanded pawn shorthand e5 to e7e5
2025-06-26 19:08:19,791 - INFO - Processed move: Raw 'e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-06-26 19:08:19,793 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:08:20,684 - INFO - Received commentary from openai/gpt-4.1-mini: 4... e5?! weakens d5 and opens...
2025-06-26 19:08:20,795 - INFO - Calling OpenRouter API with model: google/gemini-2.5-flash-preview:thinking
2025-06-26 19:08:20,795 - INFO - Detected 4 move pairs already made in the game
2025-06-26 19:08:20,795 - INFO - Model has suffix: base=google/gemini-2.5-flash-preview, suffix=:thinking
2025-06-26 19:08:20,795 - INFO - OpenRouter Request for google/gemini-2.5-flash-preview:thinking (attempt 1): {"model": "google/gemini-2.5-flash-preview:thinking", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr . b q k b n r\np p . p . . p p\nn . . . . p . .\n. . p . p . . .\n. . . P P . . .\n. . N . . N . .\nP P P . . P P P\nR . B Q K B . R\n\nPrevious moves:\n1. e2e4 f7f6\n2. d2d4 b8a6\n3. g1f3 c7c5\n4. b1c3 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:08:51,823 - INFO - OpenRouter response for google/gemini-2.5-flash-preview:thinking (attempt 1): {"id": "gen-1750957700-PQ5mQ3YcbH0VROV0Z11c", "model": "google/gemini-2.5-flash-preview:thinking", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:08:51,823 - INFO - Received raw move 'd4d5' from model google/gemini-2.5-flash-preview:thinking
2025-06-26 19:08:51,824 - INFO - Using default board with active color: w
2025-06-26 19:08:51,824 - INFO - Attempting to interpret ambiguous move with API: 'd4d5'
2025-06-26 19:08:51,853 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd4d5'
2025-06-26 19:08:52,390 - INFO - Interpreted move 'd4d5' as 'd2d4'
2025-06-26 19:08:52,391 - ERROR - Failed to convert move 'd2d4': ValueError: Illegal move: d2d4
2025-06-26 19:08:52,391 - WARNING - Move parsing attempt 1/5 failed, retrying...
2025-06-26 19:08:52,391 - INFO - Calling OpenRouter API with model: google/gemini-2.5-flash-preview:thinking
2025-06-26 19:08:52,391 - INFO - Detected 4 move pairs already made in the game
2025-06-26 19:08:52,391 - INFO - Model has suffix: base=google/gemini-2.5-flash-preview, suffix=:thinking
2025-06-26 19:08:52,392 - INFO - OpenRouter Request for google/gemini-2.5-flash-preview:thinking (attempt 1): {"model": "google/gemini-2.5-flash-preview:thinking", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr . b q k b n r\np p . p . . p p\nn . . . . p . .\n. . p . p . . .\n. . . P P . . .\n. . N . . N . .\nP P P . . P P P\nR . B Q K B . R\n\nPrevious moves:\n1. e2e4 f7f6\n2. d2d4 b8a6\n3. g1f3 c7c5\n4. b1c3 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:09:48,149 - INFO - OpenRouter response for google/gemini-2.5-flash-preview:thinking (attempt 1): {"id": "gen-1750957732-P1rdBmLVzHyCdZhDcEzX", "model": "google/gemini-2.5-flash-preview:thinking", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:09:48,149 - INFO - Move retry 1: Received raw move 'd4d5' from model google/gemini-2.5-flash-preview:thinking
2025-06-26 19:09:48,149 - INFO - Using default board with active color: w
2025-06-26 19:09:48,150 - INFO - Attempting to interpret ambiguous move with API: 'd4d5'
2025-06-26 19:09:48,178 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd4d5'
2025-06-26 19:09:48,798 - INFO - Interpreted move 'd4d5' as 'd2d4'
2025-06-26 19:09:48,799 - ERROR - Failed to convert move 'd2d4': ValueError: Illegal move: d2d4
2025-06-26 19:09:48,799 - WARNING - Move parsing attempt 2/5 failed, retrying...
2025-06-26 19:09:48,799 - INFO - Calling OpenRouter API with model: google/gemini-2.5-flash-preview:thinking
2025-06-26 19:09:48,799 - INFO - Detected 4 move pairs already made in the game
2025-06-26 19:09:48,799 - INFO - Model has suffix: base=google/gemini-2.5-flash-preview, suffix=:thinking
2025-06-26 19:09:48,799 - INFO - OpenRouter Request for google/gemini-2.5-flash-preview:thinking (attempt 1): {"model": "google/gemini-2.5-flash-preview:thinking", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr . b q k b n r\np p . p . . p p\nn . . . . p . .\n. . p . p . . .\n. . . P P . . .\n. . N . . N . .\nP P P . . P P P\nR . B Q K B . R\n\nPrevious moves:\n1. e2e4 f7f6\n2. d2d4 b8a6\n3. g1f3 c7c5\n4. b1c3 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:10:16,880 - INFO - OpenRouter response for google/gemini-2.5-flash-preview:thinking (attempt 1): {"id": "gen-1750957789-G0N6XUn8w4dFxz1EyuWI", "model": "google/gemini-2.5-flash-preview:thinking", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:10:16,881 - INFO - Move retry 2: Received raw move 'd4d5' from model google/gemini-2.5-flash-preview:thinking
2025-06-26 19:10:16,881 - INFO - Using default board with active color: w
2025-06-26 19:10:16,881 - INFO - Attempting to interpret ambiguous move with API: 'd4d5'
2025-06-26 19:10:16,901 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd4d5'
2025-06-26 19:10:17,590 - INFO - Interpreted move 'd4d5' as 'd4d5'
2025-06-26 19:10:17,591 - WARNING - Interpreted move 'd4d5' is not legal on the current board
2025-06-26 19:10:17,592 - WARNING - Interpreted move is still invalid during retry 2
2025-06-26 19:10:17,592 - ERROR - Failed to parse 'INVALID' as SAN: invalid san: 'INVALID'
2025-06-26 19:10:17,592 - ERROR - Failed to convert move 'INVALID': InvalidMoveError: invalid san: 'INVALID'
2025-06-26 19:10:17,592 - WARNING - Move parsing attempt 3/5 failed, retrying...
2025-06-26 19:10:17,593 - INFO - Calling OpenRouter API with model: google/gemini-2.5-flash-preview:thinking
2025-06-26 19:10:17,593 - INFO - Detected 4 move pairs already made in the game
2025-06-26 19:10:17,594 - INFO - Model has suffix: base=google/gemini-2.5-flash-preview, suffix=:thinking
2025-06-26 19:10:17,595 - INFO - OpenRouter Request for google/gemini-2.5-flash-preview:thinking (attempt 1): {"model": "google/gemini-2.5-flash-preview:thinking", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr . b q k b n r\np p . p . . p p\nn . . . . p . .\n. . p . p . . .\n. . . P P . . .\n. . N . . N . .\nP P P . . P P P\nR . B Q K B . R\n\nPrevious moves:\n1. e2e4 f7f6\n2. d2d4 b8a6\n3. g1f3 c7c5\n4. b1c3 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:11:31,608 - INFO - OpenRouter response for google/gemini-2.5-flash-preview:thinking (attempt 1): {"id": "gen-1750957817-9tVmk1j7WfpoevhnZD6M", "model": "google/gemini-2.5-flash-preview:thinking", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:11:31,609 - INFO - Move retry 3: Received raw move 'd4d5' from model google/gemini-2.5-flash-preview:thinking
2025-06-26 19:11:31,609 - INFO - Using default board with active color: w
2025-06-26 19:11:31,609 - INFO - Attempting to interpret ambiguous move with API: 'd4d5'
2025-06-26 19:11:31,628 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd4d5'
2025-06-26 19:11:32,263 - INFO - Interpreted move 'd4d5' as 'd2d4'
2025-06-26 19:11:32,263 - ERROR - Failed to convert move 'd2d4': ValueError: Illegal move: d2d4
2025-06-26 19:11:32,264 - WARNING - Move parsing attempt 4/5 failed, retrying...
2025-06-26 19:11:32,264 - INFO - Calling OpenRouter API with model: google/gemini-2.5-flash-preview:thinking
2025-06-26 19:11:32,264 - INFO - Detected 4 move pairs already made in the game
2025-06-26 19:11:32,264 - INFO - Model has suffix: base=google/gemini-2.5-flash-preview, suffix=:thinking
2025-06-26 19:11:32,264 - INFO - OpenRouter Request for google/gemini-2.5-flash-preview:thinking (attempt 1): {"model": "google/gemini-2.5-flash-preview:thinking", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr . b q k b n r\np p . p . . p p\nn . . . . p . .\n. . p . p . . .\n. . . P P . . .\n. . N . . N . .\nP P P . . P P P\nR . B Q K B . R\n\nPrevious moves:\n1. e2e4 f7f6\n2. d2d4 b8a6\n3. g1f3 c7c5\n4. b1c3 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:34:33,165 - INFO - AI Chess Arena starting up...
2025-06-26 19:34:33,167 - INFO - Loaded 150 previous game results from results.txt
2025-06-26 19:34:33,757 - INFO - New game created: google/palm-2-chat-bison (White) vs neversleep/llama-3-lumimaid-70b (Black)
2025-06-26 19:34:33,766 - INFO - WebSocket connection established for game game_1750959273_1918
2025-06-26 19:34:33,767 - INFO - Starting game: google/palm-2-chat-bison vs neversleep/llama-3-lumimaid-70b
2025-06-26 19:34:33,769 - INFO - Calling OpenRouter API with model: google/palm-2-chat-bison
2025-06-26 19:34:33,769 - INFO - OpenRouter Request for google/palm-2-chat-bison (attempt 1): {"model": "google/palm-2-chat-bison", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:34:34,055 - ERROR - Error calling model google/palm-2-chat-bison (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-06-26 19:34:34,055 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for google/palm-2-chat-bison.","code":404},"user_id":"user_2tfm399gTYJ5m1qzptLGHDu7tbT"}
2025-06-26 19:34:35,557 - INFO - Retry attempt 1/3 for model google/palm-2-chat-bison
2025-06-26 19:34:35,559 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-06-26 19:34:35,559 - INFO - OpenRouter Request for google/palm-2-chat-bison (attempt 2): {"model": "google/palm-2-chat-bison", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-06-26 19:34:35,860 - ERROR - Error calling model google/palm-2-chat-bison (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-06-26 19:34:35,860 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for google/palm-2-chat-bison.","code":404},"user_id":"user_2tfm399gTYJ5m1qzptLGHDu7tbT"}
2025-06-26 19:34:37,362 - INFO - Retry attempt 2/3 for model google/palm-2-chat-bison
2025-06-26 19:34:37,362 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-06-26 19:34:37,362 - INFO - OpenRouter Request for google/palm-2-chat-bison (attempt 3): {"model": "google/palm-2-chat-bison", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-06-26 19:34:37,550 - ERROR - Error calling model google/palm-2-chat-bison (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-06-26 19:34:37,551 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for google/palm-2-chat-bison.","code":404},"user_id":"user_2tfm399gTYJ5m1qzptLGHDu7tbT"}
2025-06-26 19:34:38,169 - INFO - New game created: qwen/qwen-turbo (White) vs openai/gpt-4o:extended (Black)
2025-06-26 19:34:38,185 - INFO - WebSocket connection established for game game_1750959278_9305
2025-06-26 19:34:38,185 - INFO - Starting game: qwen/qwen-turbo vs openai/gpt-4o:extended
2025-06-26 19:34:38,187 - INFO - Calling OpenRouter API with model: qwen/qwen-turbo
2025-06-26 19:34:38,187 - INFO - OpenRouter Request for qwen/qwen-turbo (attempt 1): {"model": "qwen/qwen-turbo", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:34:39,052 - INFO - Retry attempt 3/3 for model google/palm-2-chat-bison
2025-06-26 19:34:39,052 - INFO - Using fallback prompt 3: Reply with only four character...
2025-06-26 19:34:39,052 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-06-26 19:34:39,052 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as WHITE.\nCurrent board:\n\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-06-26 19:34:39,086 - INFO - OpenRouter response for qwen/qwen-turbo (attempt 1): {"id": "gen-1750959278-eOIIqQnMTtuJmbNSNfz7", "model": "qwen/qwen-turbo", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:34:39,087 - INFO - Received raw move 'e2e4' from model qwen/qwen-turbo
2025-06-26 19:34:39,087 - INFO - Using default board with active color: w
2025-06-26 19:34:39,087 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-06-26 19:34:39,087 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:34:39,761 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1750959279-1TB9PxA11HTP8JXwduFr", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:34:39,762 - INFO - Received raw move 'e2e4' from model google/palm-2-chat-bison
2025-06-26 19:34:39,762 - INFO - Using default board with active color: w
2025-06-26 19:34:39,763 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-06-26 19:34:39,763 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-06-26 19:34:39,764 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:34:40,212 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a strong and classica...
2025-06-26 19:34:40,590 - INFO - Calling OpenRouter API with model: openai/gpt-4o:extended
2025-06-26 19:34:40,590 - INFO - Detected 0.5 move pairs already made in the game
2025-06-26 19:34:40,591 - INFO - Model has suffix: base=openai/gpt-4o, suffix=:extended
2025-06-26 19:34:40,591 - INFO - OpenRouter Request for openai/gpt-4o:extended (attempt 1): {"model": "openai/gpt-4o:extended", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:34:40,855 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 ! The King's Pawn Openin...
2025-06-26 19:34:42,336 - INFO - OpenRouter response for openai/gpt-4o:extended (attempt 1): {"id": "gen-1750959280-hCxwunBrWtkCkighVTxx", "model": "openai/gpt-4o:extended", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:34:42,337 - INFO - Received raw move 'e7e5' from model openai/gpt-4o:extended
2025-06-26 19:34:42,337 - INFO - Using default board with active color: b
2025-06-26 19:34:42,337 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-06-26 19:34:42,338 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:34:43,189 - INFO - Received commentary from openai/gpt-4.1-mini: 1...e5 is a classical response...
2025-06-26 19:34:43,339 - INFO - Calling OpenRouter API with model: qwen/qwen-turbo
2025-06-26 19:34:43,339 - INFO - Detected 1 move pairs already made in the game
2025-06-26 19:34:43,340 - INFO - OpenRouter Request for qwen/qwen-turbo (attempt 1): {"model": "qwen/qwen-turbo", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:34:44,127 - INFO - OpenRouter response for qwen/qwen-turbo (attempt 1): {"id": "gen-1750959283-FZCGu3g9zPBX2vtFETIq", "model": "qwen/qwen-turbo", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:34:44,127 - INFO - Received raw move 'd2d4' from model qwen/qwen-turbo
2025-06-26 19:34:44,127 - INFO - Using default board with active color: w
2025-06-26 19:34:44,128 - INFO - Processed move: Raw 'd2d4' -> Interpreted 'd2d4' -> UCI 'd2d4' -> SAN 'd4'
2025-06-26 19:34:44,129 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:34:45,453 - INFO - Received commentary from openai/gpt-4.1-mini: 2. d4!? challenges Black's con...
2025-06-26 19:34:45,632 - INFO - Calling OpenRouter API with model: openai/gpt-4o:extended
2025-06-26 19:34:45,632 - INFO - Detected 1.5 move pairs already made in the game
2025-06-26 19:34:45,632 - INFO - Model has suffix: base=openai/gpt-4o, suffix=:extended
2025-06-26 19:34:45,632 - INFO - OpenRouter Request for openai/gpt-4o:extended (attempt 1): {"model": "openai/gpt-4o:extended", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:34:47,229 - INFO - OpenRouter response for openai/gpt-4o:extended (attempt 1): {"id": "gen-1750959285-xFqaXrp7EMM7FRYgi6aX", "model": "openai/gpt-4o:extended", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:34:47,230 - INFO - Received raw move 'd7d5' from model openai/gpt-4o:extended
2025-06-26 19:34:47,230 - INFO - Using default board with active color: b
2025-06-26 19:34:47,231 - INFO - Processed move: Raw 'd7d5' -> Interpreted 'd7d5' -> UCI 'd7d5' -> SAN 'd5'
2025-06-26 19:34:47,232 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:34:48,252 - INFO - Received commentary from openai/gpt-4.1-mini: Black's last move ...d5 challe...
2025-06-26 19:34:48,734 - INFO - Calling OpenRouter API with model: qwen/qwen-turbo
2025-06-26 19:34:48,735 - INFO - Detected 2 move pairs already made in the game
2025-06-26 19:34:48,735 - INFO - OpenRouter Request for qwen/qwen-turbo (attempt 1): {"model": "qwen/qwen-turbo", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . . . . . .\n. . . p p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:34:49,460 - INFO - OpenRouter response for qwen/qwen-turbo (attempt 1): {"id": "gen-1750959288-fgCGiryF5K3p2SfuWuS9", "model": "qwen/qwen-turbo", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:34:49,461 - INFO - Received raw move 'e1g1' from model qwen/qwen-turbo
2025-06-26 19:34:49,461 - INFO - Using default board with active color: w
2025-06-26 19:34:49,461 - INFO - Attempting to interpret ambiguous move with API: 'e1g1'
2025-06-26 19:34:49,484 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e1g1'
2025-06-26 19:34:50,844 - INFO - Interpreted move 'e1g1' as 'e1g1'
2025-06-26 19:34:50,844 - WARNING - Interpreted move 'e1g1' is not legal on the current board
2025-06-26 19:34:50,845 - WARNING - Model qwen/qwen-turbo made an invalid move: 'e1g1' that couldn't be interpreted (attempt 1/5)
2025-06-26 19:34:50,845 - INFO - Calling OpenRouter API with model: qwen/qwen-turbo
2025-06-26 19:34:50,845 - INFO - Detected 2 move pairs already made in the game
2025-06-26 19:34:50,845 - INFO - OpenRouter Request for qwen/qwen-turbo (attempt 1): {"model": "qwen/qwen-turbo", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . . . . . .\n. . . p p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:34:52,533 - INFO - OpenRouter response for qwen/qwen-turbo (attempt 1): {"id": "gen-1750959290-LggwEDHAGjrnnfZuMYY4", "model": "qwen/qwen-turbo", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:34:52,534 - INFO - Retry 1: Received raw move 'e2e4' from model qwen/qwen-turbo
2025-06-26 19:34:52,534 - INFO - Using default board with active color: w
2025-06-26 19:34:52,535 - ERROR - Failed to convert move 'e2e4': ValueError: Illegal move: e2e4
2025-06-26 19:34:52,535 - WARNING - Move parsing attempt 1/5 failed, retrying...
2025-06-26 19:34:52,535 - INFO - Calling OpenRouter API with model: qwen/qwen-turbo
2025-06-26 19:34:52,535 - INFO - Detected 2 move pairs already made in the game
2025-06-26 19:34:52,535 - INFO - OpenRouter Request for qwen/qwen-turbo (attempt 1): {"model": "qwen/qwen-turbo", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . . . . . .\n. . . p p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:34:54,028 - INFO - OpenRouter response for qwen/qwen-turbo (attempt 1): {"id": "gen-1750959292-vguP3sVR5EXI3DFpbz2N", "model": "qwen/qwen-turbo", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:34:54,028 - INFO - Move retry 1: Received raw move 'f1c4' from model qwen/qwen-turbo
2025-06-26 19:34:54,029 - INFO - Using default board with active color: w
2025-06-26 19:34:54,029 - INFO - Attempting to interpret ambiguous move with API: 'f1c4'
2025-06-26 19:34:54,060 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'f1c4'
2025-06-26 19:34:54,560 - INFO - Interpreted move 'f1c4' as 'f1c4'
2025-06-26 19:34:54,560 - WARNING - Interpreted move 'f1c4' is not legal on the current board
2025-06-26 19:34:54,560 - WARNING - Interpreted move is still invalid during retry 1
2025-06-26 19:34:54,561 - ERROR - Failed to parse 'INVALID' as SAN: invalid san: 'INVALID'
2025-06-26 19:34:54,561 - ERROR - Failed to convert move 'INVALID': InvalidMoveError: invalid san: 'INVALID'
2025-06-26 19:34:54,561 - WARNING - Move parsing attempt 2/5 failed, retrying...
2025-06-26 19:34:54,561 - INFO - Calling OpenRouter API with model: qwen/qwen-turbo
2025-06-26 19:34:54,561 - INFO - Detected 2 move pairs already made in the game
2025-06-26 19:34:54,561 - INFO - OpenRouter Request for qwen/qwen-turbo (attempt 1): {"model": "qwen/qwen-turbo", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . . . . . .\n. . . p p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:34:55,349 - INFO - OpenRouter response for qwen/qwen-turbo (attempt 1): {"id": "gen-1750959294-lniqqQ6KZ4X8T7i5iGrO", "model": "qwen/qwen-turbo", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:34:55,350 - INFO - Move retry 2: Received raw move 'e1g1' from model qwen/qwen-turbo
2025-06-26 19:34:55,350 - INFO - Using default board with active color: w
2025-06-26 19:34:55,350 - INFO - Attempting to interpret ambiguous move with API: 'e1g1'
2025-06-26 19:34:55,380 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e1g1'
2025-06-26 19:34:55,876 - INFO - Interpreted move 'e1g1' as 'e1g1'
2025-06-26 19:34:55,876 - WARNING - Interpreted move 'e1g1' is not legal on the current board
2025-06-26 19:34:55,877 - WARNING - Interpreted move is still invalid during retry 2
2025-06-26 19:34:55,877 - ERROR - Failed to parse 'INVALID' as SAN: invalid san: 'INVALID'
2025-06-26 19:34:55,877 - ERROR - Failed to convert move 'INVALID': InvalidMoveError: invalid san: 'INVALID'
2025-06-26 19:34:55,877 - WARNING - Move parsing attempt 3/5 failed, retrying...
2025-06-26 19:34:55,878 - INFO - Calling OpenRouter API with model: qwen/qwen-turbo
2025-06-26 19:34:55,878 - INFO - Detected 2 move pairs already made in the game
2025-06-26 19:34:55,878 - INFO - OpenRouter Request for qwen/qwen-turbo (attempt 1): {"model": "qwen/qwen-turbo", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . . . . . .\n. . . p p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:34:56,603 - INFO - OpenRouter response for qwen/qwen-turbo (attempt 1): {"id": "gen-1750959295-sxDfRGOmxqAtWhemHeFb", "model": "qwen/qwen-turbo", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:34:56,604 - INFO - Move retry 3: Received raw move 'g1f3' from model qwen/qwen-turbo
2025-06-26 19:34:56,604 - INFO - Using default board with active color: w
2025-06-26 19:34:56,605 - INFO - Processed move: Raw 'g1f3' -> Interpreted 'g1f3' -> UCI 'g1f3' -> SAN 'Nf3'
2025-06-26 19:34:56,609 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:34:57,463 - INFO - Received commentary from openai/gpt-4.1-mini: 3. Nf3 develops a knight towar...
2025-06-26 19:34:57,608 - INFO - Calling OpenRouter API with model: openai/gpt-4o:extended
2025-06-26 19:34:57,608 - INFO - Detected 2.5 move pairs already made in the game
2025-06-26 19:34:57,608 - INFO - Model has suffix: base=openai/gpt-4o, suffix=:extended
2025-06-26 19:34:57,608 - INFO - OpenRouter Request for openai/gpt-4o:extended (attempt 1): {"model": "openai/gpt-4o:extended", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . . . . . .\n. . . p p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4 d7d5\n3. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:34:59,060 - INFO - OpenRouter response for openai/gpt-4o:extended (attempt 1): {"id": "gen-1750959297-qNGqmJ9g2yfMfggf0ivf", "model": "openai/gpt-4o:extended", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:34:59,061 - INFO - Received raw move 'd5e4' from model openai/gpt-4o:extended
2025-06-26 19:34:59,061 - INFO - Using default board with active color: b
2025-06-26 19:34:59,062 - INFO - Attempting to interpret ambiguous move with API: 'd5e4'
2025-06-26 19:34:59,095 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd5e4'
2025-06-26 19:34:59,794 - INFO - Interpreted move 'd5e4' as 'd5e4'
2025-06-26 19:34:59,794 - WARNING - Interpreted move 'd5e4' is not legal on the current board
2025-06-26 19:34:59,794 - WARNING - Model openai/gpt-4o:extended made an invalid move: 'd5e4' that couldn't be interpreted (attempt 1/5)
2025-06-26 19:34:59,794 - INFO - Calling OpenRouter API with model: openai/gpt-4o:extended
2025-06-26 19:34:59,794 - INFO - Detected 2.5 move pairs already made in the game
2025-06-26 19:34:59,794 - INFO - Model has suffix: base=openai/gpt-4o, suffix=:extended
2025-06-26 19:34:59,794 - INFO - OpenRouter Request for openai/gpt-4o:extended (attempt 1): {"model": "openai/gpt-4o:extended", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . . . . . .\n. . . p p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4 d7d5\n3. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:35:01,244 - INFO - OpenRouter response for openai/gpt-4o:extended (attempt 1): {"id": "gen-1750959299-IEOjROXR04VNzZ5AYMRA", "model": "openai/gpt-4o:extended", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:35:01,244 - INFO - Retry 1: Received raw move 'd5e4' from model openai/gpt-4o:extended
2025-06-26 19:35:01,244 - INFO - Using default board with active color: b
2025-06-26 19:35:01,244 - INFO - Attempting to interpret ambiguous move with API: 'd5e4'
2025-06-26 19:35:01,274 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd5e4'
2025-06-26 19:35:01,897 - INFO - Interpreted move 'd5e4' as 'd7d5'
2025-06-26 19:35:01,898 - ERROR - Failed to convert move 'd7d5': ValueError: Illegal move: d7d5
2025-06-26 19:35:01,898 - WARNING - Move parsing attempt 1/5 failed, retrying...
2025-06-26 19:35:01,898 - INFO - Calling OpenRouter API with model: openai/gpt-4o:extended
2025-06-26 19:35:01,899 - INFO - Detected 2.5 move pairs already made in the game
2025-06-26 19:35:01,899 - INFO - Model has suffix: base=openai/gpt-4o, suffix=:extended
2025-06-26 19:35:01,899 - INFO - OpenRouter Request for openai/gpt-4o:extended (attempt 1): {"model": "openai/gpt-4o:extended", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . . . . . .\n. . . p p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4 d7d5\n3. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:35:03,724 - INFO - OpenRouter response for openai/gpt-4o:extended (attempt 1): {"id": "gen-1750959301-m0KHctkzuRCRdotD0YHE", "model": "openai/gpt-4o:extended", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:35:03,725 - INFO - Move retry 1: Received raw move 'd5e4' from model openai/gpt-4o:extended
2025-06-26 19:35:03,725 - INFO - Using default board with active color: b
2025-06-26 19:35:03,725 - INFO - Attempting to interpret ambiguous move with API: 'd5e4'
2025-06-26 19:35:03,744 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd5e4'
2025-06-26 19:35:04,194 - INFO - Interpreted move 'd5e4' as 'd7d5'
2025-06-26 19:35:04,195 - ERROR - Failed to convert move 'd7d5': ValueError: Illegal move: d7d5
2025-06-26 19:35:04,195 - WARNING - Move parsing attempt 2/5 failed, retrying...
2025-06-26 19:35:04,196 - INFO - Calling OpenRouter API with model: openai/gpt-4o:extended
2025-06-26 19:35:04,196 - INFO - Detected 2.5 move pairs already made in the game
2025-06-26 19:35:04,196 - INFO - Model has suffix: base=openai/gpt-4o, suffix=:extended
2025-06-26 19:35:04,196 - INFO - OpenRouter Request for openai/gpt-4o:extended (attempt 1): {"model": "openai/gpt-4o:extended", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . . . . . .\n. . . p p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4 d7d5\n3. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:35:05,825 - INFO - OpenRouter response for openai/gpt-4o:extended (attempt 1): {"id": "gen-1750959304-Z5jd8BEUCHh9fGl2U7uu", "model": "openai/gpt-4o:extended", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:35:05,826 - INFO - Move retry 2: Received raw move 'd5e4' from model openai/gpt-4o:extended
2025-06-26 19:35:05,826 - INFO - Using default board with active color: b
2025-06-26 19:35:05,826 - INFO - Attempting to interpret ambiguous move with API: 'd5e4'
2025-06-26 19:35:05,848 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd5e4'
2025-06-26 19:35:06,385 - INFO - Interpreted move 'd5e4' as 'd5e4'
2025-06-26 19:35:06,386 - WARNING - Interpreted move 'd5e4' is not legal on the current board
2025-06-26 19:35:06,386 - WARNING - Interpreted move is still invalid during retry 2
2025-06-26 19:35:06,386 - ERROR - Failed to parse 'INVALID' as SAN: invalid san: 'INVALID'
2025-06-26 19:35:06,387 - ERROR - Failed to convert move 'INVALID': InvalidMoveError: invalid san: 'INVALID'
2025-06-26 19:35:06,387 - WARNING - Move parsing attempt 3/5 failed, retrying...
2025-06-26 19:35:06,387 - INFO - Calling OpenRouter API with model: openai/gpt-4o:extended
2025-06-26 19:35:06,387 - INFO - Detected 2.5 move pairs already made in the game
2025-06-26 19:35:06,387 - INFO - Model has suffix: base=openai/gpt-4o, suffix=:extended
2025-06-26 19:35:06,387 - INFO - OpenRouter Request for openai/gpt-4o:extended (attempt 1): {"model": "openai/gpt-4o:extended", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . . . . . .\n. . . p p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4 d7d5\n3. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:35:07,787 - INFO - OpenRouter response for openai/gpt-4o:extended (attempt 1): {"id": "gen-1750959306-gEA2thlZgLNRfhrfx2nY", "model": "openai/gpt-4o:extended", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:35:07,788 - INFO - Move retry 3: Received raw move 'd5e4' from model openai/gpt-4o:extended
2025-06-26 19:35:07,788 - INFO - Using default board with active color: b
2025-06-26 19:35:07,789 - INFO - Attempting to interpret ambiguous move with API: 'd5e4'
2025-06-26 19:35:07,811 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd5e4'
2025-06-26 19:35:08,520 - INFO - Interpreted move 'd5e4' as 'd7d5'
2025-06-26 19:35:08,521 - ERROR - Failed to convert move 'd7d5': ValueError: Illegal move: d7d5
2025-06-26 19:35:08,521 - WARNING - Move parsing attempt 4/5 failed, retrying...
2025-06-26 19:35:08,521 - INFO - Calling OpenRouter API with model: openai/gpt-4o:extended
2025-06-26 19:35:08,521 - INFO - Detected 2.5 move pairs already made in the game
2025-06-26 19:35:08,521 - INFO - Model has suffix: base=openai/gpt-4o, suffix=:extended
2025-06-26 19:35:08,521 - INFO - OpenRouter Request for openai/gpt-4o:extended (attempt 1): {"model": "openai/gpt-4o:extended", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . . . . . .\n. . . p p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4 d7d5\n3. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:35:10,100 - INFO - OpenRouter response for openai/gpt-4o:extended (attempt 1): {"id": "gen-1750959308-8xrwJx4ZOshcYnEL9qsT", "model": "openai/gpt-4o:extended", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:35:10,100 - INFO - Move retry 4: Received raw move 'd5e4' from model openai/gpt-4o:extended
2025-06-26 19:35:10,101 - INFO - Using default board with active color: b
2025-06-26 19:35:10,101 - INFO - Attempting to interpret ambiguous move with API: 'd5e4'
2025-06-26 19:35:10,123 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd5e4'
2025-06-26 19:35:10,704 - INFO - Interpreted move 'd5e4' as 'd7d5'
2025-06-26 19:35:10,705 - ERROR - Failed to convert move 'd7d5': ValueError: Illegal move: d7d5
2025-06-26 19:35:10,705 - ERROR - Failed to parse/apply move after 5 attempts
2025-06-26 19:35:10,705 - ERROR - Recovery attempt failed: All move parsing retries failed for 'd7d5'
2025-06-26 19:35:10,706 - INFO - Requesting game over explanation from openai/gpt-4.1-mini
2025-06-26 19:35:12,070 - INFO - Received game over explanation: The game ended because qwen/qwen-turbo tried to ma...
2025-06-26 19:35:20,686 - INFO - New game created: openai/chatgpt-4o-latest (White) vs qwen/qwq-32b-preview:free (Black)
2025-06-26 19:35:20,689 - INFO - WebSocket connection established for game game_1750959320_9026
2025-06-26 19:35:20,689 - INFO - Starting game: openai/chatgpt-4o-latest vs qwen/qwq-32b-preview:free
2025-06-26 19:35:20,690 - INFO - Calling OpenRouter API with model: openai/chatgpt-4o-latest
2025-06-26 19:35:20,690 - INFO - OpenRouter Request for openai/chatgpt-4o-latest (attempt 1): {"model": "openai/chatgpt-4o-latest", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:35:21,273 - INFO - OpenRouter response for openai/chatgpt-4o-latest (attempt 1): {"id": "gen-1750959320-D7tVGEfdwFpyu5ZadDfm", "model": "openai/chatgpt-4o-latest", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:35:21,274 - INFO - Received raw move 'e2e4' from model openai/chatgpt-4o-latest
2025-06-26 19:35:21,274 - INFO - Using default board with active color: w
2025-06-26 19:35:21,274 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-06-26 19:35:21,275 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:35:22,211 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4! White takes control of ...
2025-06-26 19:35:22,277 - INFO - Calling OpenRouter API with model: qwen/qwq-32b-preview:free
2025-06-26 19:35:22,278 - INFO - Detected 0.5 move pairs already made in the game
2025-06-26 19:35:22,278 - INFO - Model has suffix: base=qwen/qwq-32b-preview, suffix=:free
2025-06-26 19:35:22,278 - INFO - OpenRouter Request for qwen/qwq-32b-preview:free (attempt 1): {"model": "qwen/qwq-32b-preview:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:35:22,422 - ERROR - Error calling model qwen/qwq-32b-preview:free (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-06-26 19:35:22,422 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwq-32b-preview:free.","code":404},"user_id":"user_2tfm399gTYJ5m1qzptLGHDu7tbT"}
2025-06-26 19:35:23,923 - INFO - Retry attempt 1/3 for model qwen/qwq-32b-preview:free
2025-06-26 19:35:23,923 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-06-26 19:35:23,923 - INFO - OpenRouter Request for qwen/qwq-32b-preview:free (attempt 2): {"model": "qwen/qwq-32b-preview:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-06-26 19:35:24,079 - ERROR - Error calling model qwen/qwq-32b-preview:free (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-06-26 19:35:24,080 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwq-32b-preview:free.","code":404},"user_id":"user_2tfm399gTYJ5m1qzptLGHDu7tbT"}
2025-06-26 19:35:25,580 - INFO - Retry attempt 2/3 for model qwen/qwq-32b-preview:free
2025-06-26 19:35:25,581 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-06-26 19:35:25,581 - INFO - Trying base model without suffix: qwen/qwq-32b-preview
2025-06-26 19:35:25,581 - INFO - OpenRouter Request for qwen/qwq-32b-preview (attempt 3): {"model": "qwen/qwq-32b-preview", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-06-26 19:35:26,250 - ERROR - Error calling model qwen/qwq-32b-preview (attempt 3): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-06-26 19:35:26,250 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\"object\":\"error\",\"message\":\"Only Qwen/Qwen2.5-72B-Instruct && Qwen/Qwen2.5-VL-72B-Instruct && deepseek-ai/DeepSeek-V3-0324 && meta-llama/Meta-Llama-3-70B-Instruct && meta-llama/Meta-Llama-3.1-70B-Instruct && Qwen/Qwen2.5-VL-7B-Instruct && Qwen/Qwen3-235B-A22B && meta-llama/Meta-Llama-3.1-405B-Instruct && Qwen/QwQ-32B && deepseek-ai/DeepSeek-V3 && meta-llama/Llama-3.3-70B-Instruct && NousResearch/Hermes-3-Llama-3.1-70B && meta-llama/Meta-Llama-3.1-405B && meta-llama/Llama-3.2-3B-Instruct && FLUX.1-dev && mistralai/Pixtral-12B-2409 && StableDiffusion && meta-llama/Meta-Llama-3.1-8B-Instruct && Qwen/Qwen2.5-Coder-32B-Instruct && TTS && deepseek-ai/DeepSeek-R1-0528 && Qwen2.5-VL-72B-Instruct-reveart && test && deepseek-ai/DeepSeek-R1 allowed now, your model Qwen/QwQ-32B-Preview\",\"type\":\"\",\"param\":null,\"code\":40301}","provider_name":"Hyperbolic"}},"user_id":"user_2tfm399gTYJ5m1qzptLGHDu7tbT"}
2025-06-26 19:35:27,751 - INFO - Retry attempt 3/3 for model qwen/qwq-32b-preview:free
2025-06-26 19:35:27,752 - INFO - Using fallback prompt 3: Reply with only four character...
2025-06-26 19:35:27,752 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-06-26 19:35:27,752 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-06-26 19:35:28,762 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1750959327-o0uOgT0aNhFDphPnXWvn", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:35:28,762 - INFO - Received raw move 'e7e5' from model qwen/qwq-32b-preview:free
2025-06-26 19:35:28,763 - INFO - Using default board with active color: b
2025-06-26 19:35:28,763 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-06-26 19:35:28,766 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:35:30,769 - INFO - Received commentary from openai/gpt-4.1-mini: Black's move 1...e5 responds c...
2025-06-26 19:35:31,269 - INFO - Calling OpenRouter API with model: openai/chatgpt-4o-latest
2025-06-26 19:35:31,269 - INFO - Detected 1 move pairs already made in the game
2025-06-26 19:35:31,269 - INFO - OpenRouter Request for openai/chatgpt-4o-latest (attempt 1): {"model": "openai/chatgpt-4o-latest", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:35:33,730 - INFO - OpenRouter response for openai/chatgpt-4o-latest (attempt 1): {"id": "gen-1750959331-PJcQNqaIasuoPq64Jfua", "model": "openai/chatgpt-4o-latest", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:35:33,731 - INFO - Received raw move 'g1f3' from model openai/chatgpt-4o-latest
2025-06-26 19:35:33,731 - INFO - Using default board with active color: w
2025-06-26 19:35:33,732 - INFO - Processed move: Raw 'g1f3' -> Interpreted 'g1f3' -> UCI 'g1f3' -> SAN 'Nf3'
2025-06-26 19:35:33,735 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:35:35,295 - INFO - Received commentary from openai/gpt-4.1-mini: Nf3 develops a knight to a nat...
2025-06-26 19:35:35,738 - INFO - Calling OpenRouter API with model: qwen/qwq-32b-preview:free
2025-06-26 19:35:35,739 - INFO - Detected 1.5 move pairs already made in the game
2025-06-26 19:35:35,739 - INFO - Model has suffix: base=qwen/qwq-32b-preview, suffix=:free
2025-06-26 19:35:35,739 - INFO - OpenRouter Request for qwen/qwq-32b-preview:free (attempt 1): {"model": "qwen/qwq-32b-preview:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:35:35,894 - ERROR - Error calling model qwen/qwq-32b-preview:free (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-06-26 19:35:35,895 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwq-32b-preview:free.","code":404},"user_id":"user_2tfm399gTYJ5m1qzptLGHDu7tbT"}
2025-06-26 19:35:37,396 - INFO - Retry attempt 1/3 for model qwen/qwq-32b-preview:free
2025-06-26 19:35:37,397 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-06-26 19:35:37,397 - INFO - OpenRouter Request for qwen/qwq-32b-preview:free (attempt 2): {"model": "qwen/qwq-32b-preview:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-06-26 19:35:37,536 - ERROR - Error calling model qwen/qwq-32b-preview:free (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-06-26 19:35:37,536 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwq-32b-preview:free.","code":404},"user_id":"user_2tfm399gTYJ5m1qzptLGHDu7tbT"}
2025-06-26 19:35:39,038 - INFO - Retry attempt 2/3 for model qwen/qwq-32b-preview:free
2025-06-26 19:35:39,038 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-06-26 19:35:39,039 - INFO - Trying base model without suffix: qwen/qwq-32b-preview
2025-06-26 19:35:39,039 - INFO - OpenRouter Request for qwen/qwq-32b-preview (attempt 3): {"model": "qwen/qwq-32b-preview", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-06-26 19:35:39,609 - ERROR - Error calling model qwen/qwq-32b-preview (attempt 3): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-06-26 19:35:39,610 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\"object\":\"error\",\"message\":\"Only Qwen/Qwen2.5-72B-Instruct && Qwen/Qwen2.5-VL-72B-Instruct && deepseek-ai/DeepSeek-V3-0324 && meta-llama/Meta-Llama-3-70B-Instruct && meta-llama/Meta-Llama-3.1-70B-Instruct && Qwen/Qwen2.5-VL-7B-Instruct && Qwen/Qwen3-235B-A22B && meta-llama/Meta-Llama-3.1-405B-Instruct && Qwen/QwQ-32B && deepseek-ai/DeepSeek-V3 && meta-llama/Llama-3.3-70B-Instruct && NousResearch/Hermes-3-Llama-3.1-70B && meta-llama/Meta-Llama-3.1-405B && meta-llama/Llama-3.2-3B-Instruct && FLUX.1-dev && mistralai/Pixtral-12B-2409 && StableDiffusion && meta-llama/Meta-Llama-3.1-8B-Instruct && Qwen/Qwen2.5-Coder-32B-Instruct && TTS && deepseek-ai/DeepSeek-R1-0528 && Qwen2.5-VL-72B-Instruct-reveart && test && deepseek-ai/DeepSeek-R1 allowed now, your model Qwen/QwQ-32B-Preview\",\"type\":\"\",\"param\":null,\"code\":40301}","provider_name":"Hyperbolic"}},"user_id":"user_2tfm399gTYJ5m1qzptLGHDu7tbT"}
2025-06-26 19:35:41,111 - INFO - Retry attempt 3/3 for model qwen/qwq-32b-preview:free
2025-06-26 19:35:41,112 - INFO - Using fallback prompt 3: Reply with only four character...
2025-06-26 19:35:41,112 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-06-26 19:35:41,112 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-06-26 19:35:41,699 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1750959341-18poqHRC8hCqzs83LNFk", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:35:41,700 - INFO - Received raw move 'd7d6' from model qwen/qwq-32b-preview:free
2025-06-26 19:35:41,701 - INFO - Using default board with active color: b
2025-06-26 19:35:41,701 - INFO - Processed move: Raw 'd7d6' -> Interpreted 'd7d6' -> UCI 'd7d6' -> SAN 'd6'
2025-06-26 19:35:41,704 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:35:42,499 - INFO - Received commentary from openai/gpt-4.1-mini: 2...d6 is a solid and modest m...
2025-06-26 19:35:42,706 - INFO - Calling OpenRouter API with model: openai/chatgpt-4o-latest
2025-06-26 19:35:42,708 - INFO - Detected 2 move pairs already made in the game
2025-06-26 19:35:42,708 - INFO - OpenRouter Request for openai/chatgpt-4o-latest (attempt 1): {"model": "openai/chatgpt-4o-latest", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:35:43,584 - INFO - OpenRouter response for openai/chatgpt-4o-latest (attempt 1): {"id": "gen-1750959342-0nnCOPCyg2PxJcvXffCS", "model": "openai/chatgpt-4o-latest", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:35:43,585 - INFO - Received raw move 'd2d4' from model openai/chatgpt-4o-latest
2025-06-26 19:35:43,585 - INFO - Using default board with active color: w
2025-06-26 19:35:43,586 - INFO - Processed move: Raw 'd2d4' -> Interpreted 'd2d4' -> UCI 'd2d4' -> SAN 'd4'
2025-06-26 19:35:43,588 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:35:44,594 - INFO - Received commentary from openai/gpt-4.1-mini: 3. d4! White challenges the ce...
2025-06-26 19:35:45,091 - INFO - Calling OpenRouter API with model: qwen/qwq-32b-preview:free
2025-06-26 19:35:45,091 - INFO - Detected 2.5 move pairs already made in the game
2025-06-26 19:35:45,091 - INFO - Model has suffix: base=qwen/qwq-32b-preview, suffix=:free
2025-06-26 19:35:45,091 - INFO - OpenRouter Request for qwen/qwq-32b-preview:free (attempt 1): {"model": "qwen/qwq-32b-preview:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:35:45,266 - ERROR - Error calling model qwen/qwq-32b-preview:free (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-06-26 19:35:45,266 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwq-32b-preview:free.","code":404},"user_id":"user_2tfm399gTYJ5m1qzptLGHDu7tbT"}
2025-06-26 19:35:46,767 - INFO - Retry attempt 1/3 for model qwen/qwq-32b-preview:free
2025-06-26 19:35:46,768 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-06-26 19:35:46,768 - INFO - OpenRouter Request for qwen/qwq-32b-preview:free (attempt 2): {"model": "qwen/qwq-32b-preview:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-06-26 19:35:46,920 - ERROR - Error calling model qwen/qwq-32b-preview:free (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-06-26 19:35:46,921 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwq-32b-preview:free.","code":404},"user_id":"user_2tfm399gTYJ5m1qzptLGHDu7tbT"}
2025-06-26 19:35:48,422 - INFO - Retry attempt 2/3 for model qwen/qwq-32b-preview:free
2025-06-26 19:35:48,422 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-06-26 19:35:48,422 - INFO - Trying base model without suffix: qwen/qwq-32b-preview
2025-06-26 19:35:48,423 - INFO - OpenRouter Request for qwen/qwq-32b-preview (attempt 3): {"model": "qwen/qwq-32b-preview", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-06-26 19:35:49,050 - ERROR - Error calling model qwen/qwq-32b-preview (attempt 3): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-06-26 19:35:49,050 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\"object\":\"error\",\"message\":\"Only Qwen/Qwen2.5-72B-Instruct && Qwen/Qwen2.5-VL-72B-Instruct && deepseek-ai/DeepSeek-V3-0324 && meta-llama/Meta-Llama-3-70B-Instruct && meta-llama/Meta-Llama-3.1-70B-Instruct && Qwen/Qwen2.5-VL-7B-Instruct && Qwen/Qwen3-235B-A22B && meta-llama/Meta-Llama-3.1-405B-Instruct && Qwen/QwQ-32B && deepseek-ai/DeepSeek-V3 && meta-llama/Llama-3.3-70B-Instruct && NousResearch/Hermes-3-Llama-3.1-70B && meta-llama/Meta-Llama-3.1-405B && meta-llama/Llama-3.2-3B-Instruct && FLUX.1-dev && mistralai/Pixtral-12B-2409 && StableDiffusion && meta-llama/Meta-Llama-3.1-8B-Instruct && Qwen/Qwen2.5-Coder-32B-Instruct && TTS && deepseek-ai/DeepSeek-R1-0528 && Qwen2.5-VL-72B-Instruct-reveart && test && deepseek-ai/DeepSeek-R1 allowed now, your model Qwen/QwQ-32B-Preview\",\"type\":\"\",\"param\":null,\"code\":40301}","provider_name":"Hyperbolic"}},"user_id":"user_2tfm399gTYJ5m1qzptLGHDu7tbT"}
2025-06-26 19:35:50,552 - INFO - Retry attempt 3/3 for model qwen/qwq-32b-preview:free
2025-06-26 19:35:50,552 - INFO - Using fallback prompt 3: Reply with only four character...
2025-06-26 19:35:50,552 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-06-26 19:35:50,553 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-06-26 19:35:51,175 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1750959350-1N8lXIuXOZZpbTinuacd", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:35:51,176 - INFO - Received raw move 'd6d5' from model qwen/qwq-32b-preview:free
2025-06-26 19:35:51,176 - INFO - Using default board with active color: b
2025-06-26 19:35:51,177 - INFO - Attempting to interpret ambiguous move with API: 'd6d5'
2025-06-26 19:35:51,204 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd6d5'
2025-06-26 19:35:52,066 - INFO - Interpreted move 'd6d5' as 'd7d5'
2025-06-26 19:35:52,067 - ERROR - Failed to convert move 'd7d5': ValueError: Illegal move: d7d5
2025-06-26 19:35:52,068 - WARNING - Move parsing attempt 1/5 failed, retrying...
2025-06-26 19:35:52,068 - INFO - Calling OpenRouter API with model: qwen/qwq-32b-preview:free
2025-06-26 19:35:52,068 - INFO - Detected 2.5 move pairs already made in the game
2025-06-26 19:35:52,068 - INFO - Model has suffix: base=qwen/qwq-32b-preview, suffix=:free
2025-06-26 19:35:52,068 - INFO - OpenRouter Request for qwen/qwq-32b-preview:free (attempt 1): {"model": "qwen/qwq-32b-preview:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:35:52,283 - ERROR - Error calling model qwen/qwq-32b-preview:free (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-06-26 19:35:52,284 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwq-32b-preview:free.","code":404},"user_id":"user_2tfm399gTYJ5m1qzptLGHDu7tbT"}
2025-06-26 19:35:53,785 - INFO - Retry attempt 1/3 for model qwen/qwq-32b-preview:free
2025-06-26 19:35:53,785 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-06-26 19:35:53,786 - INFO - OpenRouter Request for qwen/qwq-32b-preview:free (attempt 2): {"model": "qwen/qwq-32b-preview:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-06-26 19:35:53,998 - ERROR - Error calling model qwen/qwq-32b-preview:free (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-06-26 19:35:53,999 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwq-32b-preview:free.","code":404},"user_id":"user_2tfm399gTYJ5m1qzptLGHDu7tbT"}
2025-06-26 19:35:55,500 - INFO - Retry attempt 2/3 for model qwen/qwq-32b-preview:free
2025-06-26 19:35:55,500 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-06-26 19:35:55,500 - INFO - Trying base model without suffix: qwen/qwq-32b-preview
2025-06-26 19:35:55,500 - INFO - OpenRouter Request for qwen/qwq-32b-preview (attempt 3): {"model": "qwen/qwq-32b-preview", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-06-26 19:35:56,026 - ERROR - Error calling model qwen/qwq-32b-preview (attempt 3): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-06-26 19:35:56,027 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\"object\":\"error\",\"message\":\"Only Qwen/Qwen2.5-72B-Instruct && Qwen/Qwen2.5-VL-72B-Instruct && deepseek-ai/DeepSeek-V3-0324 && meta-llama/Meta-Llama-3-70B-Instruct && meta-llama/Meta-Llama-3.1-70B-Instruct && Qwen/Qwen2.5-VL-7B-Instruct && Qwen/Qwen3-235B-A22B && meta-llama/Meta-Llama-3.1-405B-Instruct && Qwen/QwQ-32B && deepseek-ai/DeepSeek-V3 && meta-llama/Llama-3.3-70B-Instruct && NousResearch/Hermes-3-Llama-3.1-70B && meta-llama/Meta-Llama-3.1-405B && meta-llama/Llama-3.2-3B-Instruct && FLUX.1-dev && mistralai/Pixtral-12B-2409 && StableDiffusion && meta-llama/Meta-Llama-3.1-8B-Instruct && Qwen/Qwen2.5-Coder-32B-Instruct && TTS && deepseek-ai/DeepSeek-R1-0528 && Qwen2.5-VL-72B-Instruct-reveart && test && deepseek-ai/DeepSeek-R1 allowed now, your model Qwen/QwQ-32B-Preview\",\"type\":\"\",\"param\":null,\"code\":40301}","provider_name":"Hyperbolic"}},"user_id":"user_2tfm399gTYJ5m1qzptLGHDu7tbT"}
2025-06-26 19:35:57,528 - INFO - Retry attempt 3/3 for model qwen/qwq-32b-preview:free
2025-06-26 19:35:57,529 - INFO - Using fallback prompt 3: Reply with only four character...
2025-06-26 19:35:57,530 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-06-26 19:35:57,530 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-06-26 19:35:58,326 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1750959357-yBATG2Esl4qpcKgECWcF", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:35:58,327 - INFO - Move retry 1: Received raw move 'd6d5' from model qwen/qwq-32b-preview:free
2025-06-26 19:35:58,327 - INFO - Using default board with active color: b
2025-06-26 19:35:58,328 - INFO - Attempting to interpret ambiguous move with API: 'd6d5'
2025-06-26 19:35:58,358 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd6d5'
2025-06-26 19:35:59,523 - INFO - Interpreted move 'd6d5' as 'd7d5'
2025-06-26 19:35:59,524 - ERROR - Failed to convert move 'd7d5': ValueError: Illegal move: d7d5
2025-06-26 19:35:59,525 - WARNING - Move parsing attempt 2/5 failed, retrying...
2025-06-26 19:35:59,525 - INFO - Calling OpenRouter API with model: qwen/qwq-32b-preview:free
2025-06-26 19:35:59,525 - INFO - Detected 2.5 move pairs already made in the game
2025-06-26 19:35:59,525 - INFO - Model has suffix: base=qwen/qwq-32b-preview, suffix=:free
2025-06-26 19:35:59,525 - INFO - OpenRouter Request for qwen/qwq-32b-preview:free (attempt 1): {"model": "qwen/qwq-32b-preview:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:35:59,659 - ERROR - Error calling model qwen/qwq-32b-preview:free (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-06-26 19:35:59,659 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwq-32b-preview:free.","code":404},"user_id":"user_2tfm399gTYJ5m1qzptLGHDu7tbT"}
2025-06-26 19:36:01,161 - INFO - Retry attempt 1/3 for model qwen/qwq-32b-preview:free
2025-06-26 19:36:01,161 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-06-26 19:36:01,161 - INFO - OpenRouter Request for qwen/qwq-32b-preview:free (attempt 2): {"model": "qwen/qwq-32b-preview:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-06-26 19:36:01,321 - ERROR - Error calling model qwen/qwq-32b-preview:free (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-06-26 19:36:01,321 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwq-32b-preview:free.","code":404},"user_id":"user_2tfm399gTYJ5m1qzptLGHDu7tbT"}
2025-06-26 19:36:02,823 - INFO - Retry attempt 2/3 for model qwen/qwq-32b-preview:free
2025-06-26 19:36:02,823 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-06-26 19:36:02,824 - INFO - Trying base model without suffix: qwen/qwq-32b-preview
2025-06-26 19:36:02,825 - INFO - OpenRouter Request for qwen/qwq-32b-preview (attempt 3): {"model": "qwen/qwq-32b-preview", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-06-26 19:36:03,419 - ERROR - Error calling model qwen/qwq-32b-preview (attempt 3): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-06-26 19:36:03,419 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\"object\":\"error\",\"message\":\"Only Qwen/Qwen2.5-72B-Instruct && Qwen/Qwen2.5-VL-72B-Instruct && deepseek-ai/DeepSeek-V3-0324 && meta-llama/Meta-Llama-3-70B-Instruct && meta-llama/Meta-Llama-3.1-70B-Instruct && Qwen/Qwen2.5-VL-7B-Instruct && Qwen/Qwen3-235B-A22B && meta-llama/Meta-Llama-3.1-405B-Instruct && Qwen/QwQ-32B && deepseek-ai/DeepSeek-V3 && meta-llama/Llama-3.3-70B-Instruct && NousResearch/Hermes-3-Llama-3.1-70B && meta-llama/Meta-Llama-3.1-405B && meta-llama/Llama-3.2-3B-Instruct && FLUX.1-dev && mistralai/Pixtral-12B-2409 && StableDiffusion && meta-llama/Meta-Llama-3.1-8B-Instruct && Qwen/Qwen2.5-Coder-32B-Instruct && TTS && deepseek-ai/DeepSeek-R1-0528 && Qwen2.5-VL-72B-Instruct-reveart && test && deepseek-ai/DeepSeek-R1 allowed now, your model Qwen/QwQ-32B-Preview\",\"type\":\"\",\"param\":null,\"code\":40301}","provider_name":"Hyperbolic"}},"user_id":"user_2tfm399gTYJ5m1qzptLGHDu7tbT"}
2025-06-26 19:36:04,920 - INFO - Retry attempt 3/3 for model qwen/qwq-32b-preview:free
2025-06-26 19:36:04,920 - INFO - Using fallback prompt 3: Reply with only four character...
2025-06-26 19:36:04,920 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-06-26 19:36:04,921 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-06-26 19:36:06,719 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1750959364-4cDHF1PKTP7h8TzxfXer", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:36:06,720 - INFO - Move retry 2: Received raw move 'd6d5' from model qwen/qwq-32b-preview:free
2025-06-26 19:36:06,721 - INFO - Using default board with active color: b
2025-06-26 19:36:06,721 - INFO - Attempting to interpret ambiguous move with API: 'd6d5'
2025-06-26 19:36:06,752 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd6d5'
2025-06-26 19:36:07,378 - INFO - Interpreted move 'd6d5' as 'd7d5'
2025-06-26 19:36:07,378 - ERROR - Failed to convert move 'd7d5': ValueError: Illegal move: d7d5
2025-06-26 19:36:07,379 - WARNING - Move parsing attempt 3/5 failed, retrying...
2025-06-26 19:36:07,379 - INFO - Calling OpenRouter API with model: qwen/qwq-32b-preview:free
2025-06-26 19:36:07,379 - INFO - Detected 2.5 move pairs already made in the game
2025-06-26 19:36:07,379 - INFO - Model has suffix: base=qwen/qwq-32b-preview, suffix=:free
2025-06-26 19:36:07,379 - INFO - OpenRouter Request for qwen/qwq-32b-preview:free (attempt 1): {"model": "qwen/qwq-32b-preview:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:36:07,568 - ERROR - Error calling model qwen/qwq-32b-preview:free (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-06-26 19:36:07,568 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwq-32b-preview:free.","code":404},"user_id":"user_2tfm399gTYJ5m1qzptLGHDu7tbT"}
2025-06-26 19:36:09,069 - INFO - Retry attempt 1/3 for model qwen/qwq-32b-preview:free
2025-06-26 19:36:09,069 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-06-26 19:36:09,069 - INFO - OpenRouter Request for qwen/qwq-32b-preview:free (attempt 2): {"model": "qwen/qwq-32b-preview:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-06-26 19:36:09,230 - ERROR - Error calling model qwen/qwq-32b-preview:free (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-06-26 19:36:09,231 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwq-32b-preview:free.","code":404},"user_id":"user_2tfm399gTYJ5m1qzptLGHDu7tbT"}
2025-06-26 19:36:10,732 - INFO - Retry attempt 2/3 for model qwen/qwq-32b-preview:free
2025-06-26 19:36:10,733 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-06-26 19:36:10,733 - INFO - Trying base model without suffix: qwen/qwq-32b-preview
2025-06-26 19:36:10,733 - INFO - OpenRouter Request for qwen/qwq-32b-preview (attempt 3): {"model": "qwen/qwq-32b-preview", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-06-26 19:36:11,362 - ERROR - Error calling model qwen/qwq-32b-preview (attempt 3): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-06-26 19:36:11,362 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\"object\":\"error\",\"message\":\"Only Qwen/Qwen2.5-72B-Instruct && Qwen/Qwen2.5-VL-72B-Instruct && deepseek-ai/DeepSeek-V3-0324 && meta-llama/Meta-Llama-3-70B-Instruct && meta-llama/Meta-Llama-3.1-70B-Instruct && Qwen/Qwen2.5-VL-7B-Instruct && Qwen/Qwen3-235B-A22B && meta-llama/Meta-Llama-3.1-405B-Instruct && Qwen/QwQ-32B && deepseek-ai/DeepSeek-V3 && meta-llama/Llama-3.3-70B-Instruct && NousResearch/Hermes-3-Llama-3.1-70B && meta-llama/Meta-Llama-3.1-405B && meta-llama/Llama-3.2-3B-Instruct && FLUX.1-dev && mistralai/Pixtral-12B-2409 && StableDiffusion && meta-llama/Meta-Llama-3.1-8B-Instruct && Qwen/Qwen2.5-Coder-32B-Instruct && TTS && deepseek-ai/DeepSeek-R1-0528 && Qwen2.5-VL-72B-Instruct-reveart && test && deepseek-ai/DeepSeek-R1 allowed now, your model Qwen/QwQ-32B-Preview\",\"type\":\"\",\"param\":null,\"code\":40301}","provider_name":"Hyperbolic"}},"user_id":"user_2tfm399gTYJ5m1qzptLGHDu7tbT"}
2025-06-26 19:36:12,864 - INFO - Retry attempt 3/3 for model qwen/qwq-32b-preview:free
2025-06-26 19:36:12,866 - INFO - Using fallback prompt 3: Reply with only four character...
2025-06-26 19:36:12,866 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-06-26 19:36:12,867 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-06-26 19:36:13,479 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1750959372-5ZN35aXtMv4E7MAQP1vY", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:36:13,480 - INFO - Move retry 3: Received raw move 'd6d5' from model qwen/qwq-32b-preview:free
2025-06-26 19:36:13,480 - INFO - Using default board with active color: b
2025-06-26 19:36:13,481 - INFO - Attempting to interpret ambiguous move with API: 'd6d5'
2025-06-26 19:36:13,510 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd6d5'
2025-06-26 19:36:14,063 - INFO - Interpreted move 'd6d5' as 'd7d5'
2025-06-26 19:36:14,065 - ERROR - Failed to convert move 'd7d5': ValueError: Illegal move: d7d5
2025-06-26 19:36:14,065 - WARNING - Move parsing attempt 4/5 failed, retrying...
2025-06-26 19:36:14,066 - INFO - Calling OpenRouter API with model: qwen/qwq-32b-preview:free
2025-06-26 19:36:14,066 - INFO - Detected 2.5 move pairs already made in the game
2025-06-26 19:36:14,066 - INFO - Model has suffix: base=qwen/qwq-32b-preview, suffix=:free
2025-06-26 19:36:14,066 - INFO - OpenRouter Request for qwen/qwq-32b-preview:free (attempt 1): {"model": "qwen/qwq-32b-preview:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:36:14,271 - ERROR - Error calling model qwen/qwq-32b-preview:free (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-06-26 19:36:14,272 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwq-32b-preview:free.","code":404},"user_id":"user_2tfm399gTYJ5m1qzptLGHDu7tbT"}
2025-06-26 19:36:15,773 - INFO - Retry attempt 1/3 for model qwen/qwq-32b-preview:free
2025-06-26 19:36:15,773 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-06-26 19:36:15,773 - INFO - OpenRouter Request for qwen/qwq-32b-preview:free (attempt 2): {"model": "qwen/qwq-32b-preview:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-06-26 19:36:15,955 - ERROR - Error calling model qwen/qwq-32b-preview:free (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-06-26 19:36:15,955 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwq-32b-preview:free.","code":404},"user_id":"user_2tfm399gTYJ5m1qzptLGHDu7tbT"}
2025-06-26 19:40:44,727 - INFO - AI Chess Arena starting up...
2025-06-26 19:40:44,729 - INFO - Loaded 151 previous game results from results.txt
2025-06-26 19:41:57,387 - INFO - New game created: mistralai/mistral-large (White) vs openai/gpt-4o-mini-search-preview (Black)
2025-06-26 19:41:57,399 - INFO - WebSocket connection established for game game_1750959717_4415
2025-06-26 19:41:57,399 - INFO - Starting game: mistralai/mistral-large vs openai/gpt-4o-mini-search-preview
2025-06-26 19:41:57,401 - INFO - Calling OpenRouter API with model: mistralai/mistral-large
2025-06-26 19:41:57,401 - INFO - OpenRouter Request for mistralai/mistral-large (attempt 1): {"model": "mistralai/mistral-large", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:41:57,798 - INFO - OpenRouter response for mistralai/mistral-large (attempt 1): {"id": "gen-1750959717-br02mOMdHBML7Q79MoQ5", "model": "mistralai/mistral-large", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:41:57,798 - INFO - Received raw move 'e2e4' from model mistralai/mistral-large
2025-06-26 19:41:57,798 - INFO - Using default board with active color: w
2025-06-26 19:41:57,799 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-06-26 19:41:57,800 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:41:59,008 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a classical and stron...
2025-06-26 19:41:59,303 - INFO - Calling OpenRouter API with model: openai/gpt-4o-mini-search-preview
2025-06-26 19:41:59,303 - INFO - Detected 0.5 move pairs already made in the game
2025-06-26 19:41:59,303 - INFO - OpenRouter Request for openai/gpt-4o-mini-search-preview (attempt 1): {"model": "openai/gpt-4o-mini-search-preview", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:42:01,667 - INFO - OpenRouter response for openai/gpt-4o-mini-search-preview (attempt 1): {"id": "gen-1750959719-MNw5XVOmng4QZcC6bcYu", "model": "openai/gpt-4o-mini-search-preview", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:42:01,667 - INFO - Received raw move 'c7c5' from model openai/gpt-4o-mini-search-preview
2025-06-26 19:42:01,667 - INFO - Using default board with active color: b
2025-06-26 19:42:01,668 - INFO - Processed move: Raw 'c7c5' -> Interpreted 'c7c5' -> UCI 'c7c5' -> SAN 'c5'
2025-06-26 19:42:01,669 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:42:02,958 - INFO - Received commentary from openai/gpt-4.1-mini: Black's move 1...c5 challenges...
2025-06-26 19:42:03,171 - INFO - Calling OpenRouter API with model: mistralai/mistral-large
2025-06-26 19:42:03,171 - INFO - Detected 1 move pairs already made in the game
2025-06-26 19:42:03,171 - INFO - OpenRouter Request for mistralai/mistral-large (attempt 1): {"model": "mistralai/mistral-large", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . p p p p p\n. . . . . . . .\n. . p . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 c7c5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:42:03,635 - INFO - OpenRouter response for mistralai/mistral-large (attempt 1): {"id": "gen-1750959723-xFzRZQ3MjlWKs42cufVy", "model": "mistralai/mistral-large", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:42:03,635 - INFO - Received raw move 'Ng1f3' from model mistralai/mistral-large
2025-06-26 19:42:03,635 - INFO - Removed piece prefix from move: g1f3
2025-06-26 19:42:03,635 - INFO - Using default board with active color: w
2025-06-26 19:42:03,635 - INFO - Processed move: Raw 'Ng1f3' -> Interpreted 'g1f3' -> UCI 'g1f3' -> SAN 'Nf3'
2025-06-26 19:42:03,636 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:42:04,718 - INFO - Received commentary from openai/gpt-4.1-mini: Nf3 develops a knight towards ...
2025-06-26 19:42:05,138 - INFO - Calling OpenRouter API with model: openai/gpt-4o-mini-search-preview
2025-06-26 19:42:05,138 - INFO - Detected 1.5 move pairs already made in the game
2025-06-26 19:42:05,138 - INFO - OpenRouter Request for openai/gpt-4o-mini-search-preview (attempt 1): {"model": "openai/gpt-4o-mini-search-preview", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p . p p p p p\n. . . . . . . .\n. . p . . . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 c7c5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:42:08,336 - INFO - OpenRouter response for openai/gpt-4o-mini-search-preview (attempt 1): {"id": "gen-1750959725-IYq8ZgWL6ynOL7VIV4GX", "model": "openai/gpt-4o-mini-search-preview", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:42:08,337 - INFO - Received raw move 'd7d6' from model openai/gpt-4o-mini-search-preview
2025-06-26 19:42:08,338 - INFO - Using default board with active color: b
2025-06-26 19:42:08,338 - INFO - Processed move: Raw 'd7d6' -> Interpreted 'd7d6' -> UCI 'd7d6' -> SAN 'd6'
2025-06-26 19:42:08,339 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:42:10,035 - INFO - Received commentary from openai/gpt-4.1-mini: 2...d6 is a solid move, reinfo...
2025-06-26 19:42:10,342 - INFO - Calling OpenRouter API with model: mistralai/mistral-large
2025-06-26 19:42:10,342 - INFO - Detected 2 move pairs already made in the game
2025-06-26 19:42:10,342 - INFO - OpenRouter Request for mistralai/mistral-large (attempt 1): {"model": "mistralai/mistral-large", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . . p p p p\n. . . p . . . .\n. . p . . . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 c7c5\n2. g1f3 d7d6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:42:10,774 - INFO - OpenRouter response for mistralai/mistral-large (attempt 1): {"id": "gen-1750959730-6zIPTVCfQFM6Q52km2GV", "model": "mistralai/mistral-large", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:42:10,775 - INFO - Received raw move 'e4c5' from model mistralai/mistral-large
2025-06-26 19:42:10,775 - INFO - Using default board with active color: w
2025-06-26 19:42:10,775 - INFO - Attempting to interpret ambiguous move with API: 'e4c5'
2025-06-26 19:42:10,792 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e4c5'
2025-06-26 19:42:11,276 - INFO - Interpreted move 'e4c5' as 'INVALID'
2025-06-26 19:42:11,277 - WARNING - Model mistralai/mistral-large made an invalid move: 'e4c5' that couldn't be interpreted (attempt 1/5)
2025-06-26 19:42:11,278 - INFO - Calling OpenRouter API with model: mistralai/mistral-large
2025-06-26 19:42:11,278 - INFO - Detected 2 move pairs already made in the game
2025-06-26 19:42:11,278 - INFO - OpenRouter Request for mistralai/mistral-large (attempt 1): {"model": "mistralai/mistral-large", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . . p p p p\n. . . p . . . .\n. . p . . . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 c7c5\n2. g1f3 d7d6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:42:11,722 - INFO - OpenRouter response for mistralai/mistral-large (attempt 1): {"id": "gen-1750959731-51eh4apjlX6l6whFMsro", "model": "mistralai/mistral-large", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:42:11,723 - INFO - Retry 1: Received raw move 'd2d4' from model mistralai/mistral-large
2025-06-26 19:42:11,723 - INFO - Using default board with active color: w
2025-06-26 19:42:11,724 - INFO - Processed move: Raw 'd2d4' -> Interpreted 'd2d4' -> UCI 'd2d4' -> SAN 'd4'
2025-06-26 19:42:11,726 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:42:13,395 - INFO - Received commentary from openai/gpt-4.1-mini: 3. d4 ! White challenges Black...
2025-06-26 19:42:13,729 - INFO - Calling OpenRouter API with model: openai/gpt-4o-mini-search-preview
2025-06-26 19:42:13,729 - INFO - Detected 2.5 move pairs already made in the game
2025-06-26 19:42:13,730 - INFO - OpenRouter Request for openai/gpt-4o-mini-search-preview (attempt 1): {"model": "openai/gpt-4o-mini-search-preview", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p . . p p p p\n. . . p . . . .\n. . p . . . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 c7c5\n2. g1f3 d7d6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:42:42,231 - INFO - AI Chess Arena starting up...
2025-06-26 19:42:42,232 - INFO - Loaded 151 previous game results from results.txt
2025-06-26 19:42:43,097 - INFO - New game created: meta-llama/llama-4-maverick:free (White) vs liquid/lfm-40b (Black)
2025-06-26 19:42:43,107 - INFO - WebSocket connection established for game game_1750959763_5625
2025-06-26 19:42:43,107 - INFO - Starting game: meta-llama/llama-4-maverick:free vs liquid/lfm-40b
2025-06-26 19:42:43,110 - INFO - Calling OpenRouter API with model: meta-llama/llama-4-maverick:free
2025-06-26 19:42:43,110 - INFO - Model has suffix: base=meta-llama/llama-4-maverick, suffix=:free
2025-06-26 19:42:43,110 - INFO - OpenRouter Request for meta-llama/llama-4-maverick:free (attempt 1): {"model": "meta-llama/llama-4-maverick:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:42:44,818 - INFO - New game created: meta-llama/llama-3.1-405b-instruct (White) vs qwen/qwen-2-72b-instruct (Black)
2025-06-26 19:42:44,824 - INFO - WebSocket connection established for game game_1750959764_7574
2025-06-26 19:42:44,824 - INFO - Starting game: meta-llama/llama-3.1-405b-instruct vs qwen/qwen-2-72b-instruct
2025-06-26 19:42:44,826 - INFO - Calling OpenRouter API with model: meta-llama/llama-3.1-405b-instruct
2025-06-26 19:42:44,826 - INFO - OpenRouter Request for meta-llama/llama-3.1-405b-instruct (attempt 1): {"model": "meta-llama/llama-3.1-405b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:42:44,945 - INFO - OpenRouter response for meta-llama/llama-4-maverick:free (attempt 1): {"id": "gen-1750959763-4Ac2rN5z97Tup8lsrk7q", "model": "meta-llama/llama-4-maverick:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:42:44,946 - INFO - Received raw move 'e2e4' from model meta-llama/llama-4-maverick:free
2025-06-26 19:42:44,947 - INFO - Using default board with active color: w
2025-06-26 19:42:44,947 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-06-26 19:42:44,947 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-06-26 19:42:44,947 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:42:45,463 - INFO - New game created: inflection/inflection-3-productivity (White) vs google/gemini-2.5-flash-preview:thinking (Black)
2025-06-26 19:42:45,466 - INFO - WebSocket connection established for game game_1750959765_1231
2025-06-26 19:42:45,466 - INFO - Starting game: inflection/inflection-3-productivity vs google/gemini-2.5-flash-preview:thinking
2025-06-26 19:42:45,468 - INFO - Calling OpenRouter API with model: inflection/inflection-3-productivity
2025-06-26 19:42:45,468 - INFO - OpenRouter Request for inflection/inflection-3-productivity (attempt 1): {"model": "inflection/inflection-3-productivity", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:42:45,695 - INFO - OpenRouter response for meta-llama/llama-3.1-405b-instruct (attempt 1): {"id": "gen-1750959764-DQKKobsMGc39aR2EccyI", "model": "meta-llama/llama-3.1-405b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:42:45,695 - INFO - Received raw move 'e2e4' from model meta-llama/llama-3.1-405b-instruct
2025-06-26 19:42:45,696 - INFO - Using default board with active color: w
2025-06-26 19:42:45,696 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-06-26 19:42:45,696 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-06-26 19:42:45,696 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:42:46,071 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a classical opening m...
2025-06-26 19:42:46,243 - INFO - New game created: qwen/qwen-2-72b-instruct (White) vs qwen/qwen-max (Black)
2025-06-26 19:42:46,249 - INFO - WebSocket connection established for game game_1750959766_4854
2025-06-26 19:42:46,249 - INFO - Starting game: qwen/qwen-2-72b-instruct vs qwen/qwen-max
2025-06-26 19:42:46,251 - INFO - Calling OpenRouter API with model: qwen/qwen-2-72b-instruct
2025-06-26 19:42:46,251 - INFO - OpenRouter Request for qwen/qwen-2-72b-instruct (attempt 1): {"model": "qwen/qwen-2-72b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:42:46,517 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a classic opening mov...
2025-06-26 19:42:47,349 - INFO - OpenRouter response for qwen/qwen-2-72b-instruct (attempt 1): {"id": "gen-1750959766-zseqBzihzc8tZQqZPNlh", "model": "qwen/qwen-2-72b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:42:47,349 - INFO - Received raw move 'e2e4' from model qwen/qwen-2-72b-instruct
2025-06-26 19:42:47,349 - INFO - Using default board with active color: w
2025-06-26 19:42:47,350 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-06-26 19:42:47,351 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:42:47,530 - INFO - OpenRouter response for inflection/inflection-3-productivity (attempt 1): {"id": "gen-1750959765-kMMmcA7w9FGHoPYVRQ5D", "model": "inflection/inflection-3-productivity", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:42:47,531 - INFO - Received raw move 'e2e4' from model inflection/inflection-3-productivity
2025-06-26 19:42:47,531 - INFO - Using default board with active color: w
2025-06-26 19:42:47,531 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-06-26 19:42:47,532 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-06-26 19:42:47,532 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:42:48,321 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a strong and classica...
2025-06-26 19:42:48,352 - INFO - Calling OpenRouter API with model: qwen/qwen-max
2025-06-26 19:42:48,352 - INFO - Detected 0.5 move pairs already made in the game
2025-06-26 19:42:48,352 - INFO - OpenRouter Request for qwen/qwen-max (attempt 1): {"model": "qwen/qwen-max", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:42:48,498 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a strong opening move...
2025-06-26 19:42:50,032 - INFO - OpenRouter response for qwen/qwen-max (attempt 1): {"id": "gen-1750959768-lcbjBebxmn1dIZV9LBFq", "model": "qwen/qwen-max", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:42:50,032 - INFO - Received raw move 'e7e5' from model qwen/qwen-max
2025-06-26 19:42:50,033 - INFO - Using default board with active color: b
2025-06-26 19:42:50,033 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-06-26 19:42:50,035 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:42:51,245 - INFO - Received commentary from openai/gpt-4.1-mini: 1... e5 is a classical and sol...
2025-06-26 19:42:51,538 - INFO - Calling OpenRouter API with model: qwen/qwen-2-72b-instruct
2025-06-26 19:42:51,538 - INFO - Detected 1 move pairs already made in the game
2025-06-26 19:42:51,538 - INFO - OpenRouter Request for qwen/qwen-2-72b-instruct (attempt 1): {"model": "qwen/qwen-2-72b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:42:52,618 - INFO - OpenRouter response for qwen/qwen-2-72b-instruct (attempt 1): {"id": "gen-1750959771-k5ffd22YzeSMZVNUs7pZ", "model": "qwen/qwen-2-72b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:42:52,619 - INFO - Received raw move 'g1f3' from model qwen/qwen-2-72b-instruct
2025-06-26 19:42:52,619 - INFO - Using default board with active color: w
2025-06-26 19:42:52,620 - INFO - Processed move: Raw 'g1f3' -> Interpreted 'g1f3' -> UCI 'g1f3' -> SAN 'Nf3'
2025-06-26 19:42:52,621 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:42:54,007 - INFO - Received commentary from openai/gpt-4.1-mini: Nf3 is a natural developing mo...
2025-06-26 19:42:54,123 - INFO - Calling OpenRouter API with model: qwen/qwen-max
2025-06-26 19:42:54,123 - INFO - Detected 1.5 move pairs already made in the game
2025-06-26 19:42:54,123 - INFO - OpenRouter Request for qwen/qwen-max (attempt 1): {"model": "qwen/qwen-max", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:42:55,108 - INFO - OpenRouter response for qwen/qwen-max (attempt 1): {"id": "gen-1750959774-jKituH90fGiBHvElJ7d5", "model": "qwen/qwen-max", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:42:55,111 - INFO - Received raw move 'd7d6' from model qwen/qwen-max
2025-06-26 19:42:55,112 - INFO - Using default board with active color: b
2025-06-26 19:42:55,112 - INFO - Processed move: Raw 'd7d6' -> Interpreted 'd7d6' -> UCI 'd7d6' -> SAN 'd6'
2025-06-26 19:42:55,112 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:42:56,213 - INFO - Received commentary from openai/gpt-4.1-mini: 2...d6 is a solid and classica...
2025-06-26 19:42:56,619 - INFO - Calling OpenRouter API with model: qwen/qwen-2-72b-instruct
2025-06-26 19:42:56,619 - INFO - Detected 2 move pairs already made in the game
2025-06-26 19:42:56,620 - INFO - OpenRouter Request for qwen/qwen-2-72b-instruct (attempt 1): {"model": "qwen/qwen-2-72b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:42:57,407 - INFO - OpenRouter response for qwen/qwen-2-72b-instruct (attempt 1): {"id": "gen-1750959776-jjqRGJTK2Z9TD4bxuEBH", "model": "qwen/qwen-2-72b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:42:57,407 - INFO - Received raw move 'b1c3' from model qwen/qwen-2-72b-instruct
2025-06-26 19:42:57,408 - INFO - Using default board with active color: w
2025-06-26 19:42:57,408 - INFO - Processed move: Raw 'b1c3' -> Interpreted 'b1c3' -> UCI 'b1c3' -> SAN 'Nc3'
2025-06-26 19:42:57,409 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:42:59,140 - INFO - Received commentary from openai/gpt-4.1-mini: Nc3 develops a knight to contr...
2025-06-26 19:42:59,413 - INFO - Calling OpenRouter API with model: qwen/qwen-max
2025-06-26 19:42:59,415 - INFO - Detected 2.5 move pairs already made in the game
2025-06-26 19:42:59,415 - INFO - OpenRouter Request for qwen/qwen-max (attempt 1): {"model": "qwen/qwen-max", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . . . P . . .\n. . N . . N . .\nP P P P . P P P\nR . B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. b1c3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:43:00,486 - INFO - OpenRouter response for qwen/qwen-max (attempt 1): {"id": "gen-1750959779-P9DhPvUjsAhBgbYoWAgA", "model": "qwen/qwen-max", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:43:00,487 - INFO - Received raw move 'g8f6' from model qwen/qwen-max
2025-06-26 19:43:00,487 - INFO - Using default board with active color: b
2025-06-26 19:43:00,487 - INFO - Processed move: Raw 'g8f6' -> Interpreted 'g8f6' -> UCI 'g8f6' -> SAN 'Nf6'
2025-06-26 19:43:00,488 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:43:01,642 - INFO - Received commentary from openai/gpt-4.1-mini: The move Nf6 develops Black's ...
2025-06-26 19:43:01,990 - INFO - Calling OpenRouter API with model: qwen/qwen-2-72b-instruct
2025-06-26 19:43:01,991 - INFO - Detected 3 move pairs already made in the game
2025-06-26 19:43:01,991 - INFO - OpenRouter Request for qwen/qwen-2-72b-instruct (attempt 1): {"model": "qwen/qwen-2-72b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p . . p p p\n. . . p . n . .\n. . . . p . . .\n. . . . P . . .\n. . N . . N . .\nP P P P . P P P\nR . B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. b1c3 g8f6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:43:02,998 - INFO - OpenRouter response for qwen/qwen-2-72b-instruct (attempt 1): {"id": "gen-1750959782-nBUkL2l65Ffgoj4p0UjZ", "model": "qwen/qwen-2-72b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:43:02,999 - INFO - Received raw move 'c2c4' from model qwen/qwen-2-72b-instruct
2025-06-26 19:43:03,000 - INFO - Using default board with active color: w
2025-06-26 19:43:03,000 - ERROR - Failed to convert move 'c2c4': ValueError: Illegal move: c2c4
2025-06-26 19:43:03,000 - WARNING - Move parsing attempt 1/5 failed, retrying...
2025-06-26 19:43:03,001 - INFO - Calling OpenRouter API with model: qwen/qwen-2-72b-instruct
2025-06-26 19:43:03,001 - INFO - Detected 3 move pairs already made in the game
2025-06-26 19:43:03,002 - INFO - OpenRouter Request for qwen/qwen-2-72b-instruct (attempt 1): {"model": "qwen/qwen-2-72b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p . . p p p\n. . . p . n . .\n. . . . p . . .\n. . . . P . . .\n. . N . . N . .\nP P P P . P P P\nR . B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. b1c3 g8f6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:43:04,218 - INFO - OpenRouter response for qwen/qwen-2-72b-instruct (attempt 1): {"id": "gen-1750959783-CKg3tC7r5dYJY2hNUvKy", "model": "qwen/qwen-2-72b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:43:04,222 - INFO - Move retry 1: Received raw move 'c2c4' from model qwen/qwen-2-72b-instruct
2025-06-26 19:43:04,223 - INFO - Using default board with active color: w
2025-06-26 19:43:04,223 - ERROR - Failed to convert move 'c2c4': ValueError: Illegal move: c2c4
2025-06-26 19:43:04,225 - WARNING - Move parsing attempt 2/5 failed, retrying...
2025-06-26 19:43:04,225 - INFO - Calling OpenRouter API with model: qwen/qwen-2-72b-instruct
2025-06-26 19:43:04,225 - INFO - Detected 3 move pairs already made in the game
2025-06-26 19:43:04,226 - INFO - OpenRouter Request for qwen/qwen-2-72b-instruct (attempt 1): {"model": "qwen/qwen-2-72b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p . . p p p\n. . . p . n . .\n. . . . p . . .\n. . . . P . . .\n. . N . . N . .\nP P P P . P P P\nR . B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. b1c3 g8f6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:43:05,830 - INFO - OpenRouter response for qwen/qwen-2-72b-instruct (attempt 1): {"id": "gen-1750959784-T0OIT49DBq2jqloHw0fi", "model": "qwen/qwen-2-72b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:43:05,832 - INFO - Move retry 2: Received raw move 'c2c4' from model qwen/qwen-2-72b-instruct
2025-06-26 19:43:05,832 - INFO - Using default board with active color: w
2025-06-26 19:43:05,832 - ERROR - Failed to convert move 'c2c4': ValueError: Illegal move: c2c4
2025-06-26 19:43:05,832 - WARNING - Move parsing attempt 3/5 failed, retrying...
2025-06-26 19:43:05,832 - INFO - Calling OpenRouter API with model: qwen/qwen-2-72b-instruct
2025-06-26 19:43:05,832 - INFO - Detected 3 move pairs already made in the game
2025-06-26 19:43:05,832 - INFO - OpenRouter Request for qwen/qwen-2-72b-instruct (attempt 1): {"model": "qwen/qwen-2-72b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p . . p p p\n. . . p . n . .\n. . . . p . . .\n. . . . P . . .\n. . N . . N . .\nP P P P . P P P\nR . B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. b1c3 g8f6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:44:45,990 - INFO - AI Chess Arena starting up...
2025-06-26 19:44:45,992 - INFO - Loaded 151 previous game results from results.txt
2025-06-26 19:44:46,822 - INFO - New game created: qwen/qwq-32b-preview (White) vs perplexity/r1-1776 (Black)
2025-06-26 19:44:46,831 - INFO - WebSocket connection established for game game_1750959886_9860
2025-06-26 19:44:46,831 - INFO - Starting game: qwen/qwq-32b-preview vs perplexity/r1-1776
2025-06-26 19:44:46,833 - INFO - Calling OpenRouter API with model: qwen/qwq-32b-preview
2025-06-26 19:44:46,833 - INFO - OpenRouter Request for qwen/qwq-32b-preview (attempt 1): {"model": "qwen/qwq-32b-preview", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:44:47,496 - ERROR - Error calling model qwen/qwq-32b-preview (attempt 1): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-06-26 19:44:47,497 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\"object\":\"error\",\"message\":\"Only Qwen/Qwen2.5-72B-Instruct && Qwen/Qwen2.5-VL-72B-Instruct && deepseek-ai/DeepSeek-V3-0324 && meta-llama/Meta-Llama-3-70B-Instruct && meta-llama/Meta-Llama-3.1-70B-Instruct && Qwen/Qwen2.5-VL-7B-Instruct && Qwen/Qwen3-235B-A22B && meta-llama/Meta-Llama-3.1-405B-Instruct && Qwen/QwQ-32B && deepseek-ai/DeepSeek-V3 && meta-llama/Llama-3.3-70B-Instruct && NousResearch/Hermes-3-Llama-3.1-70B && meta-llama/Meta-Llama-3.1-405B && meta-llama/Llama-3.2-3B-Instruct && FLUX.1-dev && mistralai/Pixtral-12B-2409 && StableDiffusion && meta-llama/Meta-Llama-3.1-8B-Instruct && Qwen/Qwen2.5-Coder-32B-Instruct && TTS && deepseek-ai/DeepSeek-R1-0528 && Qwen2.5-VL-72B-Instruct-reveart && test && deepseek-ai/DeepSeek-R1 allowed now, your model Qwen/QwQ-32B-Preview\",\"type\":\"\",\"param\":null,\"code\":40301}","provider_name":"Hyperbolic"}},"user_id":"user_2tfm399gTYJ5m1qzptLGHDu7tbT"}
2025-06-26 19:44:48,999 - INFO - Retry attempt 1/3 for model qwen/qwq-32b-preview
2025-06-26 19:44:48,999 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-06-26 19:44:48,999 - INFO - OpenRouter Request for qwen/qwq-32b-preview (attempt 2): {"model": "qwen/qwq-32b-preview", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-06-26 19:44:49,771 - ERROR - Error calling model qwen/qwq-32b-preview (attempt 2): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-06-26 19:44:49,771 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\"object\":\"error\",\"message\":\"Only Qwen/Qwen2.5-72B-Instruct && Qwen/Qwen2.5-VL-72B-Instruct && deepseek-ai/DeepSeek-V3-0324 && meta-llama/Meta-Llama-3-70B-Instruct && meta-llama/Meta-Llama-3.1-70B-Instruct && Qwen/Qwen2.5-VL-7B-Instruct && Qwen/Qwen3-235B-A22B && meta-llama/Meta-Llama-3.1-405B-Instruct && Qwen/QwQ-32B && deepseek-ai/DeepSeek-V3 && meta-llama/Llama-3.3-70B-Instruct && NousResearch/Hermes-3-Llama-3.1-70B && meta-llama/Meta-Llama-3.1-405B && meta-llama/Llama-3.2-3B-Instruct && FLUX.1-dev && mistralai/Pixtral-12B-2409 && StableDiffusion && meta-llama/Meta-Llama-3.1-8B-Instruct && Qwen/Qwen2.5-Coder-32B-Instruct && TTS && deepseek-ai/DeepSeek-R1-0528 && Qwen2.5-VL-72B-Instruct-reveart && test && deepseek-ai/DeepSeek-R1 allowed now, your model Qwen/QwQ-32B-Preview\",\"type\":\"\",\"param\":null,\"code\":40301}","provider_name":"Hyperbolic"}},"user_id":"user_2tfm399gTYJ5m1qzptLGHDu7tbT"}
2025-06-26 19:44:51,272 - INFO - Retry attempt 2/3 for model qwen/qwq-32b-preview
2025-06-26 19:44:51,272 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-06-26 19:44:51,273 - INFO - OpenRouter Request for qwen/qwq-32b-preview (attempt 3): {"model": "qwen/qwq-32b-preview", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-06-26 19:44:51,957 - ERROR - Error calling model qwen/qwq-32b-preview (attempt 3): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-06-26 19:44:51,957 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\"object\":\"error\",\"message\":\"Only Qwen/Qwen2.5-72B-Instruct && Qwen/Qwen2.5-VL-72B-Instruct && deepseek-ai/DeepSeek-V3-0324 && meta-llama/Meta-Llama-3-70B-Instruct && meta-llama/Meta-Llama-3.1-70B-Instruct && Qwen/Qwen2.5-VL-7B-Instruct && Qwen/Qwen3-235B-A22B && meta-llama/Meta-Llama-3.1-405B-Instruct && Qwen/QwQ-32B && deepseek-ai/DeepSeek-V3 && meta-llama/Llama-3.3-70B-Instruct && NousResearch/Hermes-3-Llama-3.1-70B && meta-llama/Meta-Llama-3.1-405B && meta-llama/Llama-3.2-3B-Instruct && FLUX.1-dev && mistralai/Pixtral-12B-2409 && StableDiffusion && meta-llama/Meta-Llama-3.1-8B-Instruct && Qwen/Qwen2.5-Coder-32B-Instruct && TTS && deepseek-ai/DeepSeek-R1-0528 && Qwen2.5-VL-72B-Instruct-reveart && test && deepseek-ai/DeepSeek-R1 allowed now, your model Qwen/QwQ-32B-Preview\",\"type\":\"\",\"param\":null,\"code\":40301}","provider_name":"Hyperbolic"}},"user_id":"user_2tfm399gTYJ5m1qzptLGHDu7tbT"}
2025-06-26 19:44:53,458 - INFO - Retry attempt 3/3 for model qwen/qwq-32b-preview
2025-06-26 19:44:53,459 - INFO - Using fallback prompt 3: Reply with only four character...
2025-06-26 19:44:53,459 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-06-26 19:44:53,460 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as WHITE.\nCurrent board:\n\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-06-26 19:44:54,230 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1750959893-rSOKS5NN1lCdkGF5UG4b", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:44:54,232 - INFO - Received raw move 'e2e4' from model qwen/qwq-32b-preview
2025-06-26 19:44:54,237 - INFO - Using default board with active color: w
2025-06-26 19:44:54,237 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-06-26 19:44:54,238 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:44:55,329 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a classic and strong ...
2025-06-26 19:44:55,740 - INFO - Calling OpenRouter API with model: perplexity/r1-1776
2025-06-26 19:44:55,741 - INFO - Detected 0.5 move pairs already made in the game
2025-06-26 19:44:55,741 - INFO - OpenRouter Request for perplexity/r1-1776 (attempt 1): {"model": "perplexity/r1-1776", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:45:11,905 - INFO - New game created: google/gemini-pro-vision (White) vs meta-llama/llama-3.3-70b-instruct:free (Black)
2025-06-26 19:45:11,921 - INFO - WebSocket connection established for game game_1750959911_4035
2025-06-26 19:45:11,921 - INFO - Starting game: google/gemini-pro-vision vs meta-llama/llama-3.3-70b-instruct:free
2025-06-26 19:45:11,923 - INFO - Calling OpenRouter API with model: google/gemini-pro-vision
2025-06-26 19:45:11,923 - INFO - OpenRouter Request for google/gemini-pro-vision (attempt 1): {"model": "google/gemini-pro-vision", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:45:12,102 - ERROR - Error calling model google/gemini-pro-vision (attempt 1): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-06-26 19:45:12,102 - ERROR - OpenRouter Error Response: {"error":{"message":"google/gemini-pro-vision is not a valid model ID","code":400},"user_id":"user_2tfm399gTYJ5m1qzptLGHDu7tbT"}
2025-06-26 19:45:12,102 - ERROR - Model-related error: google/gemini-pro-vision is not a valid model ID
2025-06-26 19:45:13,604 - INFO - Retry attempt 1/3 for model google/gemini-pro-vision
2025-06-26 19:45:13,604 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-06-26 19:45:13,604 - INFO - OpenRouter Request for google/gemini-pro-vision (attempt 2): {"model": "google/gemini-pro-vision", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-06-26 19:45:13,803 - ERROR - Error calling model google/gemini-pro-vision (attempt 2): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-06-26 19:45:13,804 - ERROR - OpenRouter Error Response: {"error":{"message":"google/gemini-pro-vision is not a valid model ID","code":400},"user_id":"user_2tfm399gTYJ5m1qzptLGHDu7tbT"}
2025-06-26 19:45:13,804 - ERROR - Model-related error: google/gemini-pro-vision is not a valid model ID
2025-06-26 19:45:15,306 - INFO - Retry attempt 2/3 for model google/gemini-pro-vision
2025-06-26 19:45:15,306 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-06-26 19:45:15,306 - INFO - OpenRouter Request for google/gemini-pro-vision (attempt 3): {"model": "google/gemini-pro-vision", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-06-26 19:45:15,469 - ERROR - Error calling model google/gemini-pro-vision (attempt 3): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-06-26 19:45:15,469 - ERROR - OpenRouter Error Response: {"error":{"message":"google/gemini-pro-vision is not a valid model ID","code":400},"user_id":"user_2tfm399gTYJ5m1qzptLGHDu7tbT"}
2025-06-26 19:45:15,470 - ERROR - Model-related error: google/gemini-pro-vision is not a valid model ID
2025-06-26 19:45:16,971 - INFO - Retry attempt 3/3 for model google/gemini-pro-vision
2025-06-26 19:45:16,971 - INFO - Using fallback prompt 3: Reply with only four character...
2025-06-26 19:45:16,971 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-06-26 19:45:16,972 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as WHITE.\nCurrent board:\n\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-06-26 19:45:17,750 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1750959917-Qrk2jo9EzW3BffU3l1DQ", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:45:17,751 - INFO - Received raw move 'e2e4' from model google/gemini-pro-vision
2025-06-26 19:45:17,751 - INFO - Using default board with active color: w
2025-06-26 19:45:17,752 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-06-26 19:45:17,753 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:45:18,655 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 ! White takes control of...
2025-06-26 19:45:18,756 - INFO - Calling OpenRouter API with model: meta-llama/llama-3.3-70b-instruct:free
2025-06-26 19:45:18,756 - INFO - Detected 0.5 move pairs already made in the game
2025-06-26 19:45:18,756 - INFO - Model has suffix: base=meta-llama/llama-3.3-70b-instruct, suffix=:free
2025-06-26 19:45:18,757 - INFO - OpenRouter Request for meta-llama/llama-3.3-70b-instruct:free (attempt 1): {"model": "meta-llama/llama-3.3-70b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:45:23,117 - INFO - OpenRouter response for meta-llama/llama-3.3-70b-instruct:free (attempt 1): {"id": "gen-1750959918-4qXVjXWxBZDcKyvanKi5", "model": "meta-llama/llama-3.3-70b-instruct:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:45:23,117 - INFO - Received raw move 'e7e5' from model meta-llama/llama-3.3-70b-instruct:free
2025-06-26 19:45:23,118 - INFO - Using default board with active color: b
2025-06-26 19:45:23,118 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-06-26 19:45:23,118 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:45:24,488 - INFO - Received commentary from openai/gpt-4.1-mini: 1... e5 is a classical respons...
2025-06-26 19:45:24,621 - INFO - Calling OpenRouter API with model: google/gemini-pro-vision
2025-06-26 19:45:24,621 - INFO - Detected 1 move pairs already made in the game
2025-06-26 19:45:24,622 - INFO - OpenRouter Request for google/gemini-pro-vision (attempt 1): {"model": "google/gemini-pro-vision", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:45:24,760 - ERROR - Error calling model google/gemini-pro-vision (attempt 1): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-06-26 19:45:24,760 - ERROR - OpenRouter Error Response: {"error":{"message":"google/gemini-pro-vision is not a valid model ID","code":400},"user_id":"user_2tfm399gTYJ5m1qzptLGHDu7tbT"}
2025-06-26 19:45:24,761 - ERROR - Model-related error: google/gemini-pro-vision is not a valid model ID
2025-06-26 19:45:26,262 - INFO - Retry attempt 1/3 for model google/gemini-pro-vision
2025-06-26 19:45:26,263 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-06-26 19:45:26,263 - INFO - OpenRouter Request for google/gemini-pro-vision (attempt 2): {"model": "google/gemini-pro-vision", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-06-26 19:45:26,459 - ERROR - Error calling model google/gemini-pro-vision (attempt 2): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-06-26 19:45:26,459 - ERROR - OpenRouter Error Response: {"error":{"message":"google/gemini-pro-vision is not a valid model ID","code":400},"user_id":"user_2tfm399gTYJ5m1qzptLGHDu7tbT"}
2025-06-26 19:45:26,460 - ERROR - Model-related error: google/gemini-pro-vision is not a valid model ID
2025-06-26 19:45:27,961 - INFO - Retry attempt 2/3 for model google/gemini-pro-vision
2025-06-26 19:45:27,961 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-06-26 19:45:27,961 - INFO - OpenRouter Request for google/gemini-pro-vision (attempt 3): {"model": "google/gemini-pro-vision", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-06-26 19:45:28,099 - ERROR - Error calling model google/gemini-pro-vision (attempt 3): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-06-26 19:45:28,100 - ERROR - OpenRouter Error Response: {"error":{"message":"google/gemini-pro-vision is not a valid model ID","code":400},"user_id":"user_2tfm399gTYJ5m1qzptLGHDu7tbT"}
2025-06-26 19:45:28,100 - ERROR - Model-related error: google/gemini-pro-vision is not a valid model ID
2025-06-26 19:45:29,601 - INFO - Retry attempt 3/3 for model google/gemini-pro-vision
2025-06-26 19:45:29,601 - INFO - Using fallback prompt 3: Reply with only four character...
2025-06-26 19:45:29,601 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-06-26 19:45:29,601 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as WHITE.\nCurrent board:\n\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-06-26 19:45:30,235 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1750959929-ZX5oR8yvGNF8mFNdSNmu", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:45:30,236 - INFO - Received raw move 'd2d4' from model google/gemini-pro-vision
2025-06-26 19:45:30,236 - INFO - Using default board with active color: w
2025-06-26 19:45:30,237 - INFO - Processed move: Raw 'd2d4' -> Interpreted 'd2d4' -> UCI 'd2d4' -> SAN 'd4'
2025-06-26 19:45:30,239 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:45:31,350 - INFO - Received commentary from openai/gpt-4.1-mini: 2. d4!? challenges Black's cen...
2025-06-26 19:45:31,741 - INFO - Calling OpenRouter API with model: meta-llama/llama-3.3-70b-instruct:free
2025-06-26 19:45:31,741 - INFO - Detected 1.5 move pairs already made in the game
2025-06-26 19:45:31,741 - INFO - Model has suffix: base=meta-llama/llama-3.3-70b-instruct, suffix=:free
2025-06-26 19:45:31,742 - INFO - OpenRouter Request for meta-llama/llama-3.3-70b-instruct:free (attempt 1): {"model": "meta-llama/llama-3.3-70b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:45:37,278 - INFO - OpenRouter response for meta-llama/llama-3.3-70b-instruct:free (attempt 1): {"id": "gen-1750959931-UlfvelQOx24bIBa8PNPS", "model": "meta-llama/llama-3.3-70b-instruct:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:45:37,279 - INFO - Received raw move 'e5d4' from model meta-llama/llama-3.3-70b-instruct:free
2025-06-26 19:45:37,280 - INFO - Using default board with active color: b
2025-06-26 19:45:37,280 - INFO - Attempting to interpret ambiguous move with API: 'e5d4'
2025-06-26 19:45:37,311 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5d4'
2025-06-26 19:45:37,828 - INFO - Interpreted move 'e5d4' as 'e5d4'
2025-06-26 19:45:37,828 - WARNING - Interpreted move 'e5d4' is not legal on the current board
2025-06-26 19:45:37,829 - WARNING - Model meta-llama/llama-3.3-70b-instruct:free made an invalid move: 'e5d4' that couldn't be interpreted (attempt 1/5)
2025-06-26 19:45:37,831 - INFO - Calling OpenRouter API with model: meta-llama/llama-3.3-70b-instruct:free
2025-06-26 19:45:37,831 - INFO - Detected 1.5 move pairs already made in the game
2025-06-26 19:45:37,831 - INFO - Model has suffix: base=meta-llama/llama-3.3-70b-instruct, suffix=:free
2025-06-26 19:45:37,831 - INFO - OpenRouter Request for meta-llama/llama-3.3-70b-instruct:free (attempt 1): {"model": "meta-llama/llama-3.3-70b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:45:38,444 - ERROR - Error calling model meta-llama/llama-3.3-70b-instruct:free (attempt 1): Client error '429 Too Many Requests' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-06-26 19:45:38,444 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":429,"metadata":{"raw":"meta-llama/llama-3.3-70b-instruct:free is temporarily rate-limited upstream. Please retry shortly, or add your own key to accumulate your rate limits: https://openrouter.ai/settings/integrations","provider_name":"Together"}},"user_id":"user_2tfm399gTYJ5m1qzptLGHDu7tbT"}
2025-06-26 19:45:39,946 - INFO - Retry attempt 1/3 for model meta-llama/llama-3.3-70b-instruct:free
2025-06-26 19:45:39,946 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-06-26 19:45:39,947 - INFO - OpenRouter Request for meta-llama/llama-3.3-70b-instruct:free (attempt 2): {"model": "meta-llama/llama-3.3-70b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-06-26 19:45:51,859 - INFO - OpenRouter response for meta-llama/llama-3.3-70b-instruct:free (attempt 2): {"id": "gen-1750959940-KOMRMA543rZ3Ir0n5MEw", "model": "meta-llama/llama-3.3-70b-instruct:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:45:51,860 - INFO - Retry 1: Received raw move 'e2e4' from model meta-llama/llama-3.3-70b-instruct:free
2025-06-26 19:45:51,861 - INFO - Using default board with active color: b
2025-06-26 19:45:51,861 - INFO - Attempting to interpret ambiguous move with API: 'e2e4'
2025-06-26 19:45:51,893 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e2e4'
2025-06-26 19:45:52,615 - INFO - Interpreted move 'e2e4' as 'INVALID'
2025-06-26 19:45:52,616 - WARNING - Model meta-llama/llama-3.3-70b-instruct:free made an invalid move: 'e2e4' that couldn't be interpreted (attempt 2/5)
2025-06-26 19:45:52,617 - INFO - Calling OpenRouter API with model: meta-llama/llama-3.3-70b-instruct:free
2025-06-26 19:45:52,617 - INFO - Detected 1.5 move pairs already made in the game
2025-06-26 19:45:52,617 - INFO - Model has suffix: base=meta-llama/llama-3.3-70b-instruct, suffix=:free
2025-06-26 19:45:52,617 - INFO - OpenRouter Request for meta-llama/llama-3.3-70b-instruct:free (attempt 1): {"model": "meta-llama/llama-3.3-70b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:45:53,236 - ERROR - Error calling model meta-llama/llama-3.3-70b-instruct:free (attempt 1): Client error '429 Too Many Requests' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-06-26 19:45:53,236 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":429,"metadata":{"raw":"meta-llama/llama-3.3-70b-instruct:free is temporarily rate-limited upstream. Please retry shortly, or add your own key to accumulate your rate limits: https://openrouter.ai/settings/integrations","provider_name":"Together"}},"user_id":"user_2tfm399gTYJ5m1qzptLGHDu7tbT"}
2025-06-26 19:45:54,738 - INFO - Retry attempt 1/3 for model meta-llama/llama-3.3-70b-instruct:free
2025-06-26 19:45:54,738 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-06-26 19:45:54,738 - INFO - OpenRouter Request for meta-llama/llama-3.3-70b-instruct:free (attempt 2): {"model": "meta-llama/llama-3.3-70b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-06-26 19:45:55,505 - INFO - New game created: google/gemini-2.0-flash-lite-001 (White) vs anthropic/claude-3.7-sonnet:beta (Black)
2025-06-26 19:45:55,523 - INFO - WebSocket connection established for game game_1750959955_1582
2025-06-26 19:45:55,523 - INFO - Starting game: google/gemini-2.0-flash-lite-001 vs anthropic/claude-3.7-sonnet:beta
2025-06-26 19:45:55,524 - INFO - Calling OpenRouter API with model: google/gemini-2.0-flash-lite-001
2025-06-26 19:45:55,524 - INFO - OpenRouter Request for google/gemini-2.0-flash-lite-001 (attempt 1): {"model": "google/gemini-2.0-flash-lite-001", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:45:56,688 - INFO - OpenRouter response for google/gemini-2.0-flash-lite-001 (attempt 1): {"id": "gen-1750959955-HMHBRUcqSMIN0EopyUZk", "model": "google/gemini-2.0-flash-lite-001", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:45:56,689 - INFO - Received raw move 'e2e4' from model google/gemini-2.0-flash-lite-001
2025-06-26 19:45:56,690 - INFO - Using default board with active color: w
2025-06-26 19:45:56,690 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-06-26 19:45:56,693 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:45:56,838 - INFO - OpenRouter response for perplexity/r1-1776 (attempt 1): {"id": "gen-1750959895-pwR8xuZZbDbbcVXgsh0g", "model": "perplexity/r1-1776", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:45:56,839 - INFO - Received raw move 'e7e5' from model perplexity/r1-1776
2025-06-26 19:45:56,839 - INFO - Using default board with active color: b
2025-06-26 19:45:56,839 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-06-26 19:45:56,840 - ERROR - Error sending WebSocket message: received 1005 (no status received [internal]); then sent 1005 (no status received [internal])
2025-06-26 19:45:56,840 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:45:57,819 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4! White takes immediate c...
2025-06-26 19:45:57,954 - INFO - Received commentary from openai/gpt-4.1-mini: Black responds with 1...e5, mi...
2025-06-26 19:45:58,196 - INFO - Calling OpenRouter API with model: anthropic/claude-3.7-sonnet:beta
2025-06-26 19:45:58,197 - INFO - Detected 0.5 move pairs already made in the game
2025-06-26 19:45:58,197 - INFO - Model has suffix: base=anthropic/claude-3.7-sonnet, suffix=:beta
2025-06-26 19:45:58,197 - INFO - OpenRouter Request for anthropic/claude-3.7-sonnet:beta (attempt 1): {"model": "anthropic/claude-3.7-sonnet:beta", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:46:00,390 - INFO - OpenRouter response for anthropic/claude-3.7-sonnet:beta (attempt 1): {"id": "gen-1750959958-iJwTm5MRzzWAgpkzVYm3", "model": "anthropic/claude-3.7-sonnet:beta", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:46:00,391 - INFO - Received raw move 'e7e5' from model anthropic/claude-3.7-sonnet:beta
2025-06-26 19:46:00,391 - INFO - Using default board with active color: b
2025-06-26 19:46:00,392 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-06-26 19:46:00,393 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:46:01,368 - INFO - Received commentary from openai/gpt-4.1-mini: 1... e5 is a classical respons...
2025-06-26 19:46:01,395 - INFO - Calling OpenRouter API with model: google/gemini-2.0-flash-lite-001
2025-06-26 19:46:01,395 - INFO - Detected 1 move pairs already made in the game
2025-06-26 19:46:01,395 - INFO - OpenRouter Request for google/gemini-2.0-flash-lite-001 (attempt 1): {"model": "google/gemini-2.0-flash-lite-001", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:46:02,248 - INFO - OpenRouter response for google/gemini-2.0-flash-lite-001 (attempt 1): {"id": "gen-1750959961-NRgOIaRcArjPVgq0pBQw", "model": "google/gemini-2.0-flash-lite-001", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:46:02,250 - INFO - Received raw move 'g1f3' from model google/gemini-2.0-flash-lite-001
2025-06-26 19:46:02,250 - INFO - Using default board with active color: w
2025-06-26 19:46:02,250 - INFO - Processed move: Raw 'g1f3' -> Interpreted 'g1f3' -> UCI 'g1f3' -> SAN 'Nf3'
2025-06-26 19:46:02,251 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:46:03,221 - INFO - Received commentary from openai/gpt-4.1-mini: Nf3 develops a knight toward t...
2025-06-26 19:46:03,253 - INFO - Calling OpenRouter API with model: anthropic/claude-3.7-sonnet:beta
2025-06-26 19:46:03,253 - INFO - Detected 1.5 move pairs already made in the game
2025-06-26 19:46:03,253 - INFO - Model has suffix: base=anthropic/claude-3.7-sonnet, suffix=:beta
2025-06-26 19:46:03,253 - INFO - OpenRouter Request for anthropic/claude-3.7-sonnet:beta (attempt 1): {"model": "anthropic/claude-3.7-sonnet:beta", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:46:05,399 - INFO - OpenRouter response for anthropic/claude-3.7-sonnet:beta (attempt 1): {"id": "gen-1750959963-WD7wt5nUIuez7ldE7Fqy", "model": "anthropic/claude-3.7-sonnet:beta", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:46:05,400 - INFO - Received raw move 'b8c6' from model anthropic/claude-3.7-sonnet:beta
2025-06-26 19:46:05,400 - INFO - Using default board with active color: b
2025-06-26 19:46:05,400 - INFO - Processed move: Raw 'b8c6' -> Interpreted 'b8c6' -> UCI 'b8c6' -> SAN 'Nc6'
2025-06-26 19:46:05,401 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:46:06,645 - INFO - Received commentary from openai/gpt-4.1-mini: Nc6 develops a knight to a nat...
2025-06-26 19:46:06,903 - INFO - Calling OpenRouter API with model: google/gemini-2.0-flash-lite-001
2025-06-26 19:46:06,904 - INFO - Detected 2 move pairs already made in the game
2025-06-26 19:46:06,905 - INFO - OpenRouter Request for google/gemini-2.0-flash-lite-001 (attempt 1): {"model": "google/gemini-2.0-flash-lite-001", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr . b q k b n r\np p p p . p p p\n. . n . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 b8c6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:46:08,345 - INFO - OpenRouter response for meta-llama/llama-3.3-70b-instruct:free (attempt 2): {"id": "gen-1750959954-c0x7xUQFDnsaJxMUuVdk", "model": "meta-llama/llama-3.3-70b-instruct:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:46:08,346 - INFO - Retry 2: Received raw move 'e2e4' from model meta-llama/llama-3.3-70b-instruct:free
2025-06-26 19:46:08,348 - INFO - Using default board with active color: b
2025-06-26 19:46:08,349 - INFO - Attempting to interpret ambiguous move with API: 'e2e4'
2025-06-26 19:46:08,378 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e2e4'
2025-06-26 19:46:08,683 - INFO - OpenRouter response for google/gemini-2.0-flash-lite-001 (attempt 1): {"id": "gen-1750959967-QfH5isqkL9tBrqNQezEe", "model": "google/gemini-2.0-flash-lite-001", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:46:08,684 - INFO - Received raw move 'd2d4' from model google/gemini-2.0-flash-lite-001
2025-06-26 19:46:08,684 - INFO - Using default board with active color: w
2025-06-26 19:46:08,685 - INFO - Processed move: Raw 'd2d4' -> Interpreted 'd2d4' -> UCI 'd2d4' -> SAN 'd4'
2025-06-26 19:46:08,687 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:46:08,961 - INFO - Interpreted move 'e2e4' as 'INVALID'
2025-06-26 19:46:08,962 - WARNING - Model meta-llama/llama-3.3-70b-instruct:free made an invalid move: 'e2e4' that couldn't be interpreted (attempt 3/5)
2025-06-26 19:46:08,962 - ERROR - Error sending WebSocket message: received 1005 (no status received [internal]); then sent 1005 (no status received [internal])
2025-06-26 19:46:10,070 - INFO - Received commentary from openai/gpt-4.1-mini: 3. d4!? challenges the center ...
2025-06-26 19:46:10,189 - INFO - Calling OpenRouter API with model: anthropic/claude-3.7-sonnet:beta
2025-06-26 19:46:10,189 - INFO - Detected 2.5 move pairs already made in the game
2025-06-26 19:46:10,190 - INFO - Model has suffix: base=anthropic/claude-3.7-sonnet, suffix=:beta
2025-06-26 19:46:10,190 - INFO - OpenRouter Request for anthropic/claude-3.7-sonnet:beta (attempt 1): {"model": "anthropic/claude-3.7-sonnet:beta", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr . b q k b n r\np p p p . p p p\n. . n . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 b8c6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:46:12,252 - INFO - OpenRouter response for anthropic/claude-3.7-sonnet:beta (attempt 1): {"id": "gen-1750959970-OiMMFKd76Lxpsu7Phc1H", "model": "anthropic/claude-3.7-sonnet:beta", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:46:12,253 - INFO - Received raw move 'c6d4' from model anthropic/claude-3.7-sonnet:beta
2025-06-26 19:46:12,253 - INFO - Using default board with active color: b
2025-06-26 19:46:12,254 - INFO - Attempting to interpret ambiguous move with API: 'c6d4'
2025-06-26 19:46:12,284 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'c6d4'
2025-06-26 19:46:12,813 - INFO - Interpreted move 'c6d4' as 'c6d4'
2025-06-26 19:46:12,813 - WARNING - Interpreted move 'c6d4' is not legal on the current board
2025-06-26 19:46:12,814 - WARNING - Model anthropic/claude-3.7-sonnet:beta made an invalid move: 'c6d4' that couldn't be interpreted (attempt 1/5)
2025-06-26 19:46:12,815 - INFO - Calling OpenRouter API with model: anthropic/claude-3.7-sonnet:beta
2025-06-26 19:46:12,815 - INFO - Detected 2.5 move pairs already made in the game
2025-06-26 19:46:12,816 - INFO - Model has suffix: base=anthropic/claude-3.7-sonnet, suffix=:beta
2025-06-26 19:46:12,816 - INFO - OpenRouter Request for anthropic/claude-3.7-sonnet:beta (attempt 1): {"model": "anthropic/claude-3.7-sonnet:beta", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr . b q k b n r\np p p p . p p p\n. . n . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 b8c6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:46:14,046 - INFO - OpenRouter response for anthropic/claude-3.7-sonnet:beta (attempt 1): {"id": "gen-1750959972-7bxSRs1D6oHF4EsAIOPD", "model": "anthropic/claude-3.7-sonnet:beta", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:46:14,047 - INFO - Retry 1: Received raw move 'c6d4' from model anthropic/claude-3.7-sonnet:beta
2025-06-26 19:46:14,047 - INFO - Using default board with active color: b
2025-06-26 19:46:14,048 - INFO - Attempting to interpret ambiguous move with API: 'c6d4'
2025-06-26 19:46:14,079 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'c6d4'
2025-06-26 19:46:14,709 - INFO - Interpreted move 'c6d4' as 'c6d4'
2025-06-26 19:46:14,709 - WARNING - Interpreted move 'c6d4' is not legal on the current board
2025-06-26 19:46:14,710 - WARNING - Model anthropic/claude-3.7-sonnet:beta made an invalid move: 'c6d4' that couldn't be interpreted (attempt 2/5)
2025-06-26 19:46:14,710 - INFO - Calling OpenRouter API with model: anthropic/claude-3.7-sonnet:beta
2025-06-26 19:46:14,710 - INFO - Detected 2.5 move pairs already made in the game
2025-06-26 19:46:14,711 - INFO - Model has suffix: base=anthropic/claude-3.7-sonnet, suffix=:beta
2025-06-26 19:46:14,711 - INFO - OpenRouter Request for anthropic/claude-3.7-sonnet:beta (attempt 1): {"model": "anthropic/claude-3.7-sonnet:beta", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr . b q k b n r\np p p p . p p p\n. . n . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 b8c6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:46:16,503 - INFO - OpenRouter response for anthropic/claude-3.7-sonnet:beta (attempt 1): {"id": "gen-1750959974-X3EbMQQrwWU5iUWVhS2b", "model": "anthropic/claude-3.7-sonnet:beta", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:46:16,503 - INFO - Retry 2: Received raw move 'c6d4' from model anthropic/claude-3.7-sonnet:beta
2025-06-26 19:46:16,504 - INFO - Using default board with active color: b
2025-06-26 19:46:16,504 - INFO - Attempting to interpret ambiguous move with API: 'c6d4'
2025-06-26 19:46:16,537 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'c6d4'
2025-06-26 19:46:17,295 - INFO - Interpreted move 'c6d4' as 'c6d4'
2025-06-26 19:46:17,295 - WARNING - Interpreted move 'c6d4' is not legal on the current board
2025-06-26 19:46:17,296 - WARNING - Model anthropic/claude-3.7-sonnet:beta made an invalid move: 'c6d4' that couldn't be interpreted (attempt 3/5)
2025-06-26 19:46:17,297 - INFO - Calling OpenRouter API with model: anthropic/claude-3.7-sonnet:beta
2025-06-26 19:46:17,298 - INFO - Detected 2.5 move pairs already made in the game
2025-06-26 19:46:17,298 - INFO - Model has suffix: base=anthropic/claude-3.7-sonnet, suffix=:beta
2025-06-26 19:46:17,298 - INFO - OpenRouter Request for anthropic/claude-3.7-sonnet:beta (attempt 1): {"model": "anthropic/claude-3.7-sonnet:beta", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr . b q k b n r\np p p p . p p p\n. . n . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 b8c6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:46:18,700 - INFO - OpenRouter response for anthropic/claude-3.7-sonnet:beta (attempt 1): {"id": "gen-1750959977-3y9ChdwPiWLzkiNbF8QF", "model": "anthropic/claude-3.7-sonnet:beta", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:46:18,700 - INFO - Retry 3: Received raw move 'c6d4' from model anthropic/claude-3.7-sonnet:beta
2025-06-26 19:46:18,701 - INFO - Using default board with active color: b
2025-06-26 19:46:18,701 - INFO - Attempting to interpret ambiguous move with API: 'c6d4'
2025-06-26 19:46:18,737 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'c6d4'
2025-06-26 19:46:19,527 - INFO - Interpreted move 'c6d4' as 'c6d4'
2025-06-26 19:46:19,528 - WARNING - Interpreted move 'c6d4' is not legal on the current board
2025-06-26 19:46:19,529 - WARNING - Model anthropic/claude-3.7-sonnet:beta made an invalid move: 'c6d4' that couldn't be interpreted (attempt 4/5)
2025-06-26 19:46:19,530 - INFO - Calling OpenRouter API with model: anthropic/claude-3.7-sonnet:beta
2025-06-26 19:46:19,530 - INFO - Detected 2.5 move pairs already made in the game
2025-06-26 19:46:19,531 - INFO - Model has suffix: base=anthropic/claude-3.7-sonnet, suffix=:beta
2025-06-26 19:46:19,531 - INFO - OpenRouter Request for anthropic/claude-3.7-sonnet:beta (attempt 1): {"model": "anthropic/claude-3.7-sonnet:beta", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr . b q k b n r\np p p p . p p p\n. . n . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 b8c6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:46:22,326 - INFO - OpenRouter response for anthropic/claude-3.7-sonnet:beta (attempt 1): {"id": "gen-1750959979-xZDSlJ2JVc6nqCacDbUC", "model": "anthropic/claude-3.7-sonnet:beta", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:46:22,327 - INFO - Retry 4: Received raw move 'c6d4' from model anthropic/claude-3.7-sonnet:beta
2025-06-26 19:46:22,328 - INFO - Using default board with active color: b
2025-06-26 19:46:22,328 - INFO - Attempting to interpret ambiguous move with API: 'c6d4'
2025-06-26 19:46:22,356 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'c6d4'
2025-06-26 19:46:23,034 - INFO - Interpreted move 'c6d4' as 'c6d4'
2025-06-26 19:46:23,035 - WARNING - Interpreted move 'c6d4' is not legal on the current board
2025-06-26 19:46:23,035 - WARNING - Model anthropic/claude-3.7-sonnet:beta made an invalid move: 'c6d4' that couldn't be interpreted (attempt 5/5)
2025-06-26 19:46:23,036 - ERROR - Model anthropic/claude-3.7-sonnet:beta failed to make a valid move after 5 attempts
2025-06-26 19:46:23,036 - INFO - Requesting game over explanation from openai/gpt-4.1-mini
2025-06-26 19:46:24,396 - INFO - Received game over explanation: The model won because its opponent made a move tha...
2025-06-26 19:46:29,145 - INFO - New game created: microsoft/phi-4 (White) vs qwen/qwen-2-72b-instruct (Black)
2025-06-26 19:46:29,149 - INFO - WebSocket connection established for game game_1750959989_6810
2025-06-26 19:46:29,150 - INFO - Starting game: microsoft/phi-4 vs qwen/qwen-2-72b-instruct
2025-06-26 19:46:29,151 - INFO - Calling OpenRouter API with model: microsoft/phi-4
2025-06-26 19:46:29,151 - INFO - OpenRouter Request for microsoft/phi-4 (attempt 1): {"model": "microsoft/phi-4", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:46:30,294 - INFO - OpenRouter response for microsoft/phi-4 (attempt 1): {"id": "gen-1750959989-CYMAgVst0VbCXl2JK0jq", "model": "microsoft/phi-4", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:46:30,295 - INFO - Received raw move 'e2e4' from model microsoft/phi-4
2025-06-26 19:46:30,295 - INFO - Using default board with active color: w
2025-06-26 19:46:30,295 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-06-26 19:46:30,298 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:46:32,005 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4! White takes control of ...
2025-06-26 19:46:32,302 - INFO - Calling OpenRouter API with model: qwen/qwen-2-72b-instruct
2025-06-26 19:46:32,303 - INFO - Detected 0.5 move pairs already made in the game
2025-06-26 19:46:32,303 - INFO - OpenRouter Request for qwen/qwen-2-72b-instruct (attempt 1): {"model": "qwen/qwen-2-72b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:46:33,132 - INFO - OpenRouter response for qwen/qwen-2-72b-instruct (attempt 1): {"id": "gen-1750959992-6MNad0y3JNy8bXl873GV", "model": "qwen/qwen-2-72b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:46:33,133 - INFO - Received raw move 'e7e5' from model qwen/qwen-2-72b-instruct
2025-06-26 19:46:33,133 - INFO - Using default board with active color: b
2025-06-26 19:46:33,134 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-06-26 19:46:33,135 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:46:34,341 - INFO - Received commentary from openai/gpt-4.1-mini: Black's 1...e5 is a classical ...
2025-06-26 19:46:34,638 - INFO - Calling OpenRouter API with model: microsoft/phi-4
2025-06-26 19:46:34,638 - INFO - Detected 1 move pairs already made in the game
2025-06-26 19:46:34,639 - INFO - OpenRouter Request for microsoft/phi-4 (attempt 1): {"model": "microsoft/phi-4", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:46:35,472 - INFO - OpenRouter response for microsoft/phi-4 (attempt 1): {"id": "gen-1750959994-8629pliepfxrC0tappIA", "model": "microsoft/phi-4", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:46:35,473 - INFO - Received raw move 'Nf3' from model microsoft/phi-4
2025-06-26 19:46:35,473 - INFO - Using default board with active color: w
2025-06-26 19:46:35,474 - INFO - Converted SAN Nf3 to UCI g1f3
2025-06-26 19:46:35,474 - INFO - Processed move: Raw 'Nf3' -> Interpreted 'g1f3' -> UCI 'g1f3' -> SAN 'Nf3'
2025-06-26 19:46:35,475 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:46:36,934 - INFO - Received commentary from openai/gpt-4.1-mini: Nf3 develops a knight to a nat...
2025-06-26 19:46:36,976 - INFO - Calling OpenRouter API with model: qwen/qwen-2-72b-instruct
2025-06-26 19:46:36,977 - INFO - Detected 1.5 move pairs already made in the game
2025-06-26 19:46:36,977 - INFO - OpenRouter Request for qwen/qwen-2-72b-instruct (attempt 1): {"model": "qwen/qwen-2-72b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:46:37,893 - INFO - OpenRouter response for qwen/qwen-2-72b-instruct (attempt 1): {"id": "gen-1750959997-nNiHeUKioiVeESyqZhlY", "model": "qwen/qwen-2-72b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:46:37,895 - INFO - Received raw move 'e5g4' from model qwen/qwen-2-72b-instruct
2025-06-26 19:46:37,895 - INFO - Using default board with active color: b
2025-06-26 19:46:37,896 - INFO - Attempting to interpret ambiguous move with API: 'e5g4'
2025-06-26 19:46:37,924 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5g4'
2025-06-26 19:46:38,597 - INFO - Interpreted move 'e5g4' as 'INVALID'
2025-06-26 19:46:38,598 - WARNING - Model qwen/qwen-2-72b-instruct made an invalid move: 'e5g4' that couldn't be interpreted (attempt 1/5)
2025-06-26 19:46:38,599 - INFO - Calling OpenRouter API with model: qwen/qwen-2-72b-instruct
2025-06-26 19:46:38,599 - INFO - Detected 1.5 move pairs already made in the game
2025-06-26 19:46:38,600 - INFO - OpenRouter Request for qwen/qwen-2-72b-instruct (attempt 1): {"model": "qwen/qwen-2-72b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:46:40,253 - INFO - OpenRouter response for qwen/qwen-2-72b-instruct (attempt 1): {"id": "gen-1750959998-SwT9zD5QlgqmTSSKeLAy", "model": "qwen/qwen-2-72b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:46:40,254 - INFO - Retry 1: Received raw move 'e5g4' from model qwen/qwen-2-72b-instruct
2025-06-26 19:46:40,254 - INFO - Using default board with active color: b
2025-06-26 19:46:40,255 - INFO - Attempting to interpret ambiguous move with API: 'e5g4'
2025-06-26 19:46:40,289 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5g4'
2025-06-26 19:46:40,734 - INFO - Interpreted move 'e5g4' as 'INVALID'
2025-06-26 19:46:40,735 - WARNING - Model qwen/qwen-2-72b-instruct made an invalid move: 'e5g4' that couldn't be interpreted (attempt 2/5)
2025-06-26 19:46:40,735 - INFO - Calling OpenRouter API with model: qwen/qwen-2-72b-instruct
2025-06-26 19:46:40,736 - INFO - Detected 1.5 move pairs already made in the game
2025-06-26 19:46:40,736 - INFO - OpenRouter Request for qwen/qwen-2-72b-instruct (attempt 1): {"model": "qwen/qwen-2-72b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:46:42,294 - INFO - OpenRouter response for qwen/qwen-2-72b-instruct (attempt 1): {"id": "gen-1750960000-9hvAoLtQ11cBfhI3eXN8", "model": "qwen/qwen-2-72b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:46:42,296 - INFO - Retry 2: Received raw move 'd7d5' from model qwen/qwen-2-72b-instruct
2025-06-26 19:46:42,296 - INFO - Using default board with active color: b
2025-06-26 19:46:42,296 - INFO - Processed move: Raw 'd7d5' -> Interpreted 'd7d5' -> UCI 'd7d5' -> SAN 'd5'
2025-06-26 19:46:42,299 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:46:44,616 - INFO - Received commentary from openai/gpt-4.1-mini: 2...d5 challenges White's cent...
2025-06-26 19:46:44,806 - INFO - Calling OpenRouter API with model: microsoft/phi-4
2025-06-26 19:46:44,807 - INFO - Detected 2 move pairs already made in the game
2025-06-26 19:46:44,807 - INFO - OpenRouter Request for microsoft/phi-4 (attempt 1): {"model": "microsoft/phi-4", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . . . . . .\n. . . p p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:46:46,128 - INFO - OpenRouter response for microsoft/phi-4 (attempt 1): {"id": "gen-1750960004-lspuZGodFpw2Zu0GRUaa", "model": "microsoft/phi-4", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:46:46,129 - INFO - Received raw move 'exd5' from model microsoft/phi-4
2025-06-26 19:46:46,130 - INFO - Using default board with active color: w
2025-06-26 19:46:46,131 - INFO - Attempting to interpret ambiguous move with API: 'exd5'
2025-06-26 19:46:46,162 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'exd5'
2025-06-26 19:46:46,665 - INFO - Interpreted move 'exd5' as 'e4d5'
2025-06-26 19:46:46,666 - WARNING - Interpreted move 'e4d5' is not legal on the current board
2025-06-26 19:46:46,666 - WARNING - Model microsoft/phi-4 made an invalid move: 'exd5' that couldn't be interpreted (attempt 1/5)
2025-06-26 19:46:46,667 - INFO - Calling OpenRouter API with model: microsoft/phi-4
2025-06-26 19:46:46,668 - INFO - Detected 2 move pairs already made in the game
2025-06-26 19:46:46,668 - INFO - OpenRouter Request for microsoft/phi-4 (attempt 1): {"model": "microsoft/phi-4", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . . . . . .\n. . . p p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:46:47,581 - INFO - OpenRouter response for microsoft/phi-4 (attempt 1): {"id": "gen-1750960006-HGGZnUPjpUhHkXf9sg3C", "model": "microsoft/phi-4", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:46:47,582 - INFO - Retry 1: Received raw move 'exd5' from model microsoft/phi-4
2025-06-26 19:46:47,583 - INFO - Using default board with active color: w
2025-06-26 19:46:47,583 - INFO - Attempting to interpret ambiguous move with API: 'exd5'
2025-06-26 19:46:47,614 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'exd5'
2025-06-26 19:46:48,129 - INFO - Interpreted move 'exd5' as 'e4d5'
2025-06-26 19:46:48,129 - WARNING - Interpreted move 'e4d5' is not legal on the current board
2025-06-26 19:46:48,130 - WARNING - Model microsoft/phi-4 made an invalid move: 'exd5' that couldn't be interpreted (attempt 2/5)
2025-06-26 19:46:48,131 - INFO - Calling OpenRouter API with model: microsoft/phi-4
2025-06-26 19:46:48,131 - INFO - Detected 2 move pairs already made in the game
2025-06-26 19:46:48,131 - INFO - OpenRouter Request for microsoft/phi-4 (attempt 1): {"model": "microsoft/phi-4", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . . . . . .\n. . . p p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:46:48,498 - INFO - OpenRouter response for microsoft/phi-4 (attempt 1): {"id": "gen-1750960008-902iJWfWvrnwapfGxdkM", "model": "microsoft/phi-4", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:46:48,499 - INFO - Retry 2: Received raw move 'e4d5' from model microsoft/phi-4
2025-06-26 19:46:48,499 - INFO - Using default board with active color: w
2025-06-26 19:46:48,500 - INFO - Attempting to interpret ambiguous move with API: 'e4d5'
2025-06-26 19:46:48,531 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e4d5'
2025-06-26 19:46:49,019 - INFO - Interpreted move 'e4d5' as 'INVALID'
2025-06-26 19:46:49,020 - WARNING - Model microsoft/phi-4 made an invalid move: 'e4d5' that couldn't be interpreted (attempt 3/5)
2025-06-26 19:46:49,020 - INFO - Calling OpenRouter API with model: microsoft/phi-4
2025-06-26 19:46:49,021 - INFO - Detected 2 move pairs already made in the game
2025-06-26 19:46:49,021 - INFO - OpenRouter Request for microsoft/phi-4 (attempt 1): {"model": "microsoft/phi-4", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . . . . . .\n. . . p p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:46:49,349 - INFO - OpenRouter response for microsoft/phi-4 (attempt 1): {"id": "gen-1750960009-DZgGQy6OFKPzH467bOU5", "model": "microsoft/phi-4", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:46:49,351 - INFO - Retry 3: Received raw move 'e4d5' from model microsoft/phi-4
2025-06-26 19:46:49,351 - INFO - Using default board with active color: w
2025-06-26 19:46:49,352 - INFO - Attempting to interpret ambiguous move with API: 'e4d5'
2025-06-26 19:46:49,384 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e4d5'
2025-06-26 19:46:49,817 - INFO - Interpreted move 'e4d5' as 'INVALID'
2025-06-26 19:46:49,818 - WARNING - Model microsoft/phi-4 made an invalid move: 'e4d5' that couldn't be interpreted (attempt 4/5)
2025-06-26 19:46:49,818 - INFO - Calling OpenRouter API with model: microsoft/phi-4
2025-06-26 19:46:49,818 - INFO - Detected 2 move pairs already made in the game
2025-06-26 19:46:49,818 - INFO - OpenRouter Request for microsoft/phi-4 (attempt 1): {"model": "microsoft/phi-4", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . . . . . .\n. . . p p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:46:50,736 - INFO - OpenRouter response for microsoft/phi-4 (attempt 1): {"id": "gen-1750960009-6rQfepiTMWLZfyjms6vd", "model": "microsoft/phi-4", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:46:50,737 - INFO - Retry 4: Received raw move 'exd5' from model microsoft/phi-4
2025-06-26 19:46:50,737 - INFO - Using default board with active color: w
2025-06-26 19:46:50,737 - INFO - Attempting to interpret ambiguous move with API: 'exd5'
2025-06-26 19:46:50,768 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'exd5'
2025-06-26 19:46:51,295 - INFO - Interpreted move 'exd5' as 'e4d5'
2025-06-26 19:46:51,295 - WARNING - Interpreted move 'e4d5' is not legal on the current board
2025-06-26 19:46:51,295 - WARNING - Model microsoft/phi-4 made an invalid move: 'exd5' that couldn't be interpreted (attempt 5/5)
2025-06-26 19:46:51,295 - ERROR - Model microsoft/phi-4 failed to make a valid move after 5 attempts
2025-06-26 19:46:51,296 - INFO - Requesting game over explanation from openai/gpt-4.1-mini
2025-06-26 19:46:52,810 - INFO - Received game over explanation: The game ended because qwen/qwen-2-72b-instruct tr...
2025-06-26 19:47:00,545 - INFO - New game created: mistralai/mistral-7b-instruct:free (White) vs google/gemini-2.0-flash-lite-001 (Black)
2025-06-26 19:47:00,550 - INFO - WebSocket connection established for game game_1750960020_3924
2025-06-26 19:47:00,551 - INFO - Starting game: mistralai/mistral-7b-instruct:free vs google/gemini-2.0-flash-lite-001
2025-06-26 19:47:00,553 - INFO - Calling OpenRouter API with model: mistralai/mistral-7b-instruct:free
2025-06-26 19:47:00,553 - INFO - Model has suffix: base=mistralai/mistral-7b-instruct, suffix=:free
2025-06-26 19:47:00,553 - INFO - OpenRouter Request for mistralai/mistral-7b-instruct:free (attempt 1): {"model": "mistralai/mistral-7b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:47:01,852 - INFO - OpenRouter response for mistralai/mistral-7b-instruct:free (attempt 1): {"id": "gen-1750960020-K1GS2GHFCgP75uUTDPFE", "model": "mistralai/mistral-7b-instruct:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:47:01,852 - INFO - Received raw move 'e4' from model mistralai/mistral-7b-instruct:free
2025-06-26 19:47:01,852 - INFO - Using default board with active color: w
2025-06-26 19:47:01,852 - INFO - Expanded pawn shorthand e4 to e2e4
2025-06-26 19:47:01,853 - INFO - Processed move: Raw 'e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-06-26 19:47:01,854 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:47:02,882 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a strong opening move...
2025-06-26 19:47:03,356 - INFO - Calling OpenRouter API with model: google/gemini-2.0-flash-lite-001
2025-06-26 19:47:03,356 - INFO - Detected 0.5 move pairs already made in the game
2025-06-26 19:47:03,357 - INFO - OpenRouter Request for google/gemini-2.0-flash-lite-001 (attempt 1): {"model": "google/gemini-2.0-flash-lite-001", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:47:03,932 - INFO - OpenRouter response for google/gemini-2.0-flash-lite-001 (attempt 1): {"id": "gen-1750960023-H6I3MduX5x44VPVQBAbI", "model": "google/gemini-2.0-flash-lite-001", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:47:03,933 - INFO - Received raw move 'e7e5' from model google/gemini-2.0-flash-lite-001
2025-06-26 19:47:03,934 - INFO - Using default board with active color: b
2025-06-26 19:47:03,934 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-06-26 19:47:03,935 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:47:04,864 - INFO - Received commentary from openai/gpt-4.1-mini: Black responds symmetrically w...
2025-06-26 19:47:04,937 - INFO - Calling OpenRouter API with model: mistralai/mistral-7b-instruct:free
2025-06-26 19:47:04,937 - INFO - Detected 1 move pairs already made in the game
2025-06-26 19:47:04,937 - INFO - Model has suffix: base=mistralai/mistral-7b-instruct, suffix=:free
2025-06-26 19:47:04,937 - INFO - OpenRouter Request for mistralai/mistral-7b-instruct:free (attempt 1): {"model": "mistralai/mistral-7b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:47:06,244 - INFO - OpenRouter response for mistralai/mistral-7b-instruct:free (attempt 1): {"id": "gen-1750960025-GUEABCIfXEKafHx1jE1Q", "model": "mistralai/mistral-7b-instruct:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:47:06,245 - INFO - Received raw move 'd4' from model mistralai/mistral-7b-instruct:free
2025-06-26 19:47:06,245 - INFO - Using default board with active color: w
2025-06-26 19:47:06,246 - INFO - Expanded pawn shorthand d4 to d2d4
2025-06-26 19:47:06,246 - INFO - Processed move: Raw 'd4' -> Interpreted 'd2d4' -> UCI 'd2d4' -> SAN 'd4'
2025-06-26 19:47:06,247 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:47:07,190 - INFO - Received commentary from openai/gpt-4.1-mini: 2. d4!? challenges Black's cen...
2025-06-26 19:47:07,248 - INFO - Calling OpenRouter API with model: google/gemini-2.0-flash-lite-001
2025-06-26 19:47:07,248 - INFO - Detected 1.5 move pairs already made in the game
2025-06-26 19:47:07,249 - INFO - OpenRouter Request for google/gemini-2.0-flash-lite-001 (attempt 1): {"model": "google/gemini-2.0-flash-lite-001", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:47:08,068 - INFO - OpenRouter response for google/gemini-2.0-flash-lite-001 (attempt 1): {"id": "gen-1750960027-9IiedqUa1Rm1xltzyjur", "model": "google/gemini-2.0-flash-lite-001", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:47:08,069 - INFO - Received raw move 'd7d6' from model google/gemini-2.0-flash-lite-001
2025-06-26 19:47:08,070 - INFO - Using default board with active color: b
2025-06-26 19:47:08,070 - INFO - Processed move: Raw 'd7d6' -> Interpreted 'd7d6' -> UCI 'd7d6' -> SAN 'd6'
2025-06-26 19:47:08,071 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:47:09,453 - INFO - Received commentary from openai/gpt-4.1-mini: Black's 2...d6 solidifies cont...
2025-06-26 19:47:09,576 - INFO - Calling OpenRouter API with model: mistralai/mistral-7b-instruct:free
2025-06-26 19:47:09,576 - INFO - Detected 2 move pairs already made in the game
2025-06-26 19:47:09,577 - INFO - Model has suffix: base=mistralai/mistral-7b-instruct, suffix=:free
2025-06-26 19:47:09,577 - INFO - OpenRouter Request for mistralai/mistral-7b-instruct:free (attempt 1): {"model": "mistralai/mistral-7b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4 d7d6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:47:10,825 - INFO - OpenRouter response for mistralai/mistral-7b-instruct:free (attempt 1): {"id": "gen-1750960029-0ai2y9SNwPJK8SSPkyih", "model": "mistralai/mistral-7b-instruct:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:47:10,826 - INFO - Received raw move 'c3' from model mistralai/mistral-7b-instruct:free
2025-06-26 19:47:10,827 - INFO - Using default board with active color: w
2025-06-26 19:47:10,827 - INFO - Expanded pawn shorthand c3 to c2c3
2025-06-26 19:47:10,828 - INFO - Processed move: Raw 'c3' -> Interpreted 'c2c3' -> UCI 'c2c3' -> SAN 'c3'
2025-06-26 19:47:10,829 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:47:11,995 - INFO - Received commentary from openai/gpt-4.1-mini: 3. c3 ! strengthens the center...
2025-06-26 19:47:12,332 - INFO - Calling OpenRouter API with model: google/gemini-2.0-flash-lite-001
2025-06-26 19:47:12,333 - INFO - Detected 2.5 move pairs already made in the game
2025-06-26 19:47:12,333 - INFO - OpenRouter Request for google/gemini-2.0-flash-lite-001 (attempt 1): {"model": "google/gemini-2.0-flash-lite-001", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . . P P . . .\n. . P . . . . .\nP P . . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4 d7d6\n3. c2c3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:47:12,935 - INFO - OpenRouter response for google/gemini-2.0-flash-lite-001 (attempt 1): {"id": "gen-1750960032-VwVFD6QzsPDPe61KV3lL", "model": "google/gemini-2.0-flash-lite-001", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:47:12,937 - INFO - Received raw move 'g8f6' from model google/gemini-2.0-flash-lite-001
2025-06-26 19:47:12,938 - INFO - Using default board with active color: b
2025-06-26 19:47:12,938 - INFO - Processed move: Raw 'g8f6' -> Interpreted 'g8f6' -> UCI 'g8f6' -> SAN 'Nf6'
2025-06-26 19:47:12,944 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:47:13,982 - INFO - Received commentary from openai/gpt-4.1-mini: 3...Nf6 develops a knight to a...
2025-06-26 19:47:14,447 - INFO - Calling OpenRouter API with model: mistralai/mistral-7b-instruct:free
2025-06-26 19:47:14,447 - INFO - Detected 3 move pairs already made in the game
2025-06-26 19:47:14,447 - INFO - Model has suffix: base=mistralai/mistral-7b-instruct, suffix=:free
2025-06-26 19:47:14,447 - INFO - OpenRouter Request for mistralai/mistral-7b-instruct:free (attempt 1): {"model": "mistralai/mistral-7b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p . . p p p\n. . . p . n . .\n. . . . p . . .\n. . . P P . . .\n. . P . . . . .\nP P . . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4 d7d6\n3. c2c3 g8f6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:47:15,431 - INFO - OpenRouter response for mistralai/mistral-7b-instruct:free (attempt 1): {"id": "gen-1750960034-6Bb8UdIbCcAFrZUBPDJR", "model": "mistralai/mistral-7b-instruct:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:47:15,432 - INFO - Received raw move 'c4' from model mistralai/mistral-7b-instruct:free
2025-06-26 19:47:15,432 - INFO - Using default board with active color: w
2025-06-26 19:47:15,432 - INFO - Expanded pawn shorthand c4 to c2c4
2025-06-26 19:47:15,433 - ERROR - Failed to convert move 'c2c4': ValueError: Illegal move: c2c4
2025-06-26 19:47:15,433 - WARNING - Move parsing attempt 1/5 failed, retrying...
2025-06-26 19:47:15,433 - INFO - Calling OpenRouter API with model: mistralai/mistral-7b-instruct:free
2025-06-26 19:47:15,433 - INFO - Detected 3 move pairs already made in the game
2025-06-26 19:47:15,433 - INFO - Model has suffix: base=mistralai/mistral-7b-instruct, suffix=:free
2025-06-26 19:47:15,433 - INFO - OpenRouter Request for mistralai/mistral-7b-instruct:free (attempt 1): {"model": "mistralai/mistral-7b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p . . p p p\n. . . p . n . .\n. . . . p . . .\n. . . P P . . .\n. . P . . . . .\nP P . . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4 d7d6\n3. c2c3 g8f6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:47:16,427 - INFO - OpenRouter response for mistralai/mistral-7b-instruct:free (attempt 1): {"id": "gen-1750960035-z8oXW0pJXqFoZch4HjWE", "model": "mistralai/mistral-7b-instruct:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:47:16,428 - INFO - Move retry 1: Received raw move 'c4' from model mistralai/mistral-7b-instruct:free
2025-06-26 19:47:16,429 - INFO - Using default board with active color: w
2025-06-26 19:47:16,430 - INFO - Expanded pawn shorthand c4 to c2c4
2025-06-26 19:47:16,430 - ERROR - Failed to convert move 'c2c4': ValueError: Illegal move: c2c4
2025-06-26 19:47:16,431 - WARNING - Move parsing attempt 2/5 failed, retrying...
2025-06-26 19:47:16,432 - INFO - Calling OpenRouter API with model: mistralai/mistral-7b-instruct:free
2025-06-26 19:47:16,432 - INFO - Detected 3 move pairs already made in the game
2025-06-26 19:47:16,432 - INFO - Model has suffix: base=mistralai/mistral-7b-instruct, suffix=:free
2025-06-26 19:47:16,433 - INFO - OpenRouter Request for mistralai/mistral-7b-instruct:free (attempt 1): {"model": "mistralai/mistral-7b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p . . p p p\n. . . p . n . .\n. . . . p . . .\n. . . P P . . .\n. . P . . . . .\nP P . . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4 d7d6\n3. c2c3 g8f6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:47:18,281 - INFO - OpenRouter response for mistralai/mistral-7b-instruct:free (attempt 1): {"id": "gen-1750960036-35U6f6WAqaRRRtni7NZo", "model": "mistralai/mistral-7b-instruct:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:47:18,282 - INFO - Move retry 2: Received raw move 'c4' from model mistralai/mistral-7b-instruct:free
2025-06-26 19:47:18,282 - INFO - Using default board with active color: w
2025-06-26 19:47:18,282 - INFO - Expanded pawn shorthand c4 to c2c4
2025-06-26 19:47:18,282 - ERROR - Failed to convert move 'c2c4': ValueError: Illegal move: c2c4
2025-06-26 19:47:18,282 - WARNING - Move parsing attempt 3/5 failed, retrying...
2025-06-26 19:47:18,283 - INFO - Calling OpenRouter API with model: mistralai/mistral-7b-instruct:free
2025-06-26 19:47:18,283 - INFO - Detected 3 move pairs already made in the game
2025-06-26 19:47:18,283 - INFO - Model has suffix: base=mistralai/mistral-7b-instruct, suffix=:free
2025-06-26 19:47:18,283 - INFO - OpenRouter Request for mistralai/mistral-7b-instruct:free (attempt 1): {"model": "mistralai/mistral-7b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p . . p p p\n. . . p . n . .\n. . . . p . . .\n. . . P P . . .\n. . P . . . . .\nP P . . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4 d7d6\n3. c2c3 g8f6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:47:19,316 - INFO - OpenRouter response for mistralai/mistral-7b-instruct:free (attempt 1): {"id": "gen-1750960038-8bfZ4ooHzwJtPIcxQU0E", "model": "mistralai/mistral-7b-instruct:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:47:19,317 - INFO - Move retry 3: Received raw move 'c3d4' from model mistralai/mistral-7b-instruct:free
2025-06-26 19:47:19,317 - INFO - Using default board with active color: w
2025-06-26 19:47:19,317 - INFO - Attempting to interpret ambiguous move with API: 'c3d4'
2025-06-26 19:47:19,347 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'c3d4'
2025-06-26 19:47:20,612 - INFO - Interpreted move 'c3d4' as 'c3d4'
2025-06-26 19:47:20,613 - WARNING - Interpreted move 'c3d4' is not legal on the current board
2025-06-26 19:47:20,615 - WARNING - Interpreted move is still invalid during retry 3
2025-06-26 19:47:20,616 - ERROR - Failed to parse 'INVALID' as SAN: invalid san: 'INVALID'
2025-06-26 19:47:20,616 - ERROR - Failed to convert move 'INVALID': InvalidMoveError: invalid san: 'INVALID'
2025-06-26 19:47:20,616 - WARNING - Move parsing attempt 4/5 failed, retrying...
2025-06-26 19:47:20,617 - INFO - Calling OpenRouter API with model: mistralai/mistral-7b-instruct:free
2025-06-26 19:47:20,618 - INFO - Detected 3 move pairs already made in the game
2025-06-26 19:47:20,618 - INFO - Model has suffix: base=mistralai/mistral-7b-instruct, suffix=:free
2025-06-26 19:47:20,619 - INFO - OpenRouter Request for mistralai/mistral-7b-instruct:free (attempt 1): {"model": "mistralai/mistral-7b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p . . p p p\n. . . p . n . .\n. . . . p . . .\n. . . P P . . .\n. . P . . . . .\nP P . . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4 d7d6\n3. c2c3 g8f6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:47:21,612 - INFO - OpenRouter response for mistralai/mistral-7b-instruct:free (attempt 1): {"id": "gen-1750960040-idbZVinGUNoR5anNo0Or", "model": "mistralai/mistral-7b-instruct:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:47:21,612 - INFO - Move retry 4: Received raw move 'f3' from model mistralai/mistral-7b-instruct:free
2025-06-26 19:47:21,613 - INFO - Using default board with active color: w
2025-06-26 19:47:21,613 - INFO - Expanded pawn shorthand f3 to f2f3
2025-06-26 19:47:21,613 - INFO - Processed move: Raw 'f3' -> Interpreted 'f2f3' -> UCI 'f2f3' -> SAN 'f3'
2025-06-26 19:47:21,615 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:47:23,003 - INFO - Received commentary from openai/gpt-4.1-mini: 4. f3?! weakens White's kingsi...
2025-06-26 19:47:23,118 - INFO - Calling OpenRouter API with model: google/gemini-2.0-flash-lite-001
2025-06-26 19:47:23,118 - INFO - Detected 3.5 move pairs already made in the game
2025-06-26 19:47:23,118 - INFO - OpenRouter Request for google/gemini-2.0-flash-lite-001 (attempt 1): {"model": "google/gemini-2.0-flash-lite-001", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b . r\np p p . . p p p\n. . . p . n . .\n. . . . p . . .\n. . . P P . . .\n. . P . . P . .\nP P . . . . P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4 d7d6\n3. c2c3 g8f6\n4. f2f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:47:24,063 - INFO - OpenRouter response for google/gemini-2.0-flash-lite-001 (attempt 1): {"id": "gen-1750960043-GAJYbmIxn1YKbsB9arxI", "model": "google/gemini-2.0-flash-lite-001", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:47:24,065 - INFO - Received raw move 'g7g6' from model google/gemini-2.0-flash-lite-001
2025-06-26 19:47:24,065 - INFO - Using default board with active color: b
2025-06-26 19:47:24,066 - INFO - Processed move: Raw 'g7g6' -> Interpreted 'g7g6' -> UCI 'g7g6' -> SAN 'g6'
2025-06-26 19:47:24,069 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:47:25,698 - INFO - Received commentary from openai/gpt-4.1-mini: 4...g6 is a standard fianchett...
2025-06-26 19:47:26,074 - INFO - Calling OpenRouter API with model: mistralai/mistral-7b-instruct:free
2025-06-26 19:47:26,074 - INFO - Detected 4 move pairs already made in the game
2025-06-26 19:47:26,074 - INFO - Model has suffix: base=mistralai/mistral-7b-instruct, suffix=:free
2025-06-26 19:47:26,075 - INFO - OpenRouter Request for mistralai/mistral-7b-instruct:free (attempt 1): {"model": "mistralai/mistral-7b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p . . p . p\n. . . p . n p .\n. . . . p . . .\n. . . P P . . .\n. . P . . P . .\nP P . . . . P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4 d7d6\n3. c2c3 g8f6\n4. f2f3 g7g6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:47:27,086 - INFO - OpenRouter response for mistralai/mistral-7b-instruct:free (attempt 1): {"id": "gen-1750960046-2pjtKYr6cvpaMjr2jMRF", "model": "mistralai/mistral-7b-instruct:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:47:27,087 - INFO - Received raw move 'g1f3' from model mistralai/mistral-7b-instruct:free
2025-06-26 19:47:27,087 - INFO - Using default board with active color: w
2025-06-26 19:47:27,088 - ERROR - Failed to convert move 'g1f3': ValueError: Illegal move: g1f3
2025-06-26 19:47:27,088 - WARNING - Move parsing attempt 1/5 failed, retrying...
2025-06-26 19:47:27,088 - INFO - Calling OpenRouter API with model: mistralai/mistral-7b-instruct:free
2025-06-26 19:47:27,088 - INFO - Detected 4 move pairs already made in the game
2025-06-26 19:47:27,088 - INFO - Model has suffix: base=mistralai/mistral-7b-instruct, suffix=:free
2025-06-26 19:47:27,088 - INFO - OpenRouter Request for mistralai/mistral-7b-instruct:free (attempt 1): {"model": "mistralai/mistral-7b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p . . p . p\n. . . p . n p .\n. . . . p . . .\n. . . P P . . .\n. . P . . P . .\nP P . . . . P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4 d7d6\n3. c2c3 g8f6\n4. f2f3 g7g6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:47:28,111 - INFO - OpenRouter response for mistralai/mistral-7b-instruct:free (attempt 1): {"id": "gen-1750960047-uzPTt4mfMhX3JQW0oLjh", "model": "mistralai/mistral-7b-instruct:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:47:28,112 - INFO - Move retry 1: Received raw move 'g1f3' from model mistralai/mistral-7b-instruct:free
2025-06-26 19:47:28,113 - INFO - Using default board with active color: w
2025-06-26 19:47:28,113 - ERROR - Failed to convert move 'g1f3': ValueError: Illegal move: g1f3
2025-06-26 19:47:28,113 - WARNING - Move parsing attempt 2/5 failed, retrying...
2025-06-26 19:47:28,115 - INFO - Calling OpenRouter API with model: mistralai/mistral-7b-instruct:free
2025-06-26 19:47:28,118 - INFO - Detected 4 move pairs already made in the game
2025-06-26 19:47:28,118 - INFO - Model has suffix: base=mistralai/mistral-7b-instruct, suffix=:free
2025-06-26 19:47:28,118 - INFO - OpenRouter Request for mistralai/mistral-7b-instruct:free (attempt 1): {"model": "mistralai/mistral-7b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p . . p . p\n. . . p . n p .\n. . . . p . . .\n. . . P P . . .\n. . P . . P . .\nP P . . . . P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4 d7d6\n3. c2c3 g8f6\n4. f2f3 g7g6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:47:29,465 - INFO - OpenRouter response for mistralai/mistral-7b-instruct:free (attempt 1): {"id": "gen-1750960048-ZxgNTO7Hiqm19xyQixTn", "model": "mistralai/mistral-7b-instruct:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:47:29,465 - INFO - Move retry 2: Received raw move 'g1f3' from model mistralai/mistral-7b-instruct:free
2025-06-26 19:47:29,465 - INFO - Using default board with active color: w
2025-06-26 19:47:29,465 - ERROR - Failed to convert move 'g1f3': ValueError: Illegal move: g1f3
2025-06-26 19:47:29,465 - WARNING - Move parsing attempt 3/5 failed, retrying...
2025-06-26 19:47:29,465 - INFO - Calling OpenRouter API with model: mistralai/mistral-7b-instruct:free
2025-06-26 19:47:29,465 - INFO - Detected 4 move pairs already made in the game
2025-06-26 19:47:29,466 - INFO - Model has suffix: base=mistralai/mistral-7b-instruct, suffix=:free
2025-06-26 19:47:29,466 - INFO - OpenRouter Request for mistralai/mistral-7b-instruct:free (attempt 1): {"model": "mistralai/mistral-7b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p . . p . p\n. . . p . n p .\n. . . . p . . .\n. . . P P . . .\n. . P . . P . .\nP P . . . . P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4 d7d6\n3. c2c3 g8f6\n4. f2f3 g7g6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:47:30,765 - INFO - OpenRouter response for mistralai/mistral-7b-instruct:free (attempt 1): {"id": "gen-1750960049-xxqmSlm8ffHMIZyyTloa", "model": "mistralai/mistral-7b-instruct:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:47:30,766 - INFO - Move retry 3: Received raw move 'g1f3' from model mistralai/mistral-7b-instruct:free
2025-06-26 19:47:30,766 - INFO - Using default board with active color: w
2025-06-26 19:47:30,766 - ERROR - Failed to convert move 'g1f3': ValueError: Illegal move: g1f3
2025-06-26 19:47:30,766 - WARNING - Move parsing attempt 4/5 failed, retrying...
2025-06-26 19:47:30,766 - INFO - Calling OpenRouter API with model: mistralai/mistral-7b-instruct:free
2025-06-26 19:47:30,767 - INFO - Detected 4 move pairs already made in the game
2025-06-26 19:47:30,767 - INFO - Model has suffix: base=mistralai/mistral-7b-instruct, suffix=:free
2025-06-26 19:47:30,767 - INFO - OpenRouter Request for mistralai/mistral-7b-instruct:free (attempt 1): {"model": "mistralai/mistral-7b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p . . p . p\n. . . p . n p .\n. . . . p . . .\n. . . P P . . .\n. . P . . P . .\nP P . . . . P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4 d7d6\n3. c2c3 g8f6\n4. f2f3 g7g6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:47:32,071 - INFO - OpenRouter response for mistralai/mistral-7b-instruct:free (attempt 1): {"id": "gen-1750960050-GrKtP3zBOdXPJ1ZEyWYC", "model": "mistralai/mistral-7b-instruct:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:47:32,073 - INFO - Move retry 4: Received raw move 'g1f3' from model mistralai/mistral-7b-instruct:free
2025-06-26 19:47:32,073 - INFO - Using default board with active color: w
2025-06-26 19:47:32,073 - ERROR - Failed to convert move 'g1f3': ValueError: Illegal move: g1f3
2025-06-26 19:47:32,074 - ERROR - Failed to parse/apply move after 5 attempts
2025-06-26 19:47:32,074 - ERROR - Recovery attempt failed: All move parsing retries failed for 'g1f3'
2025-06-26 19:47:32,074 - INFO - Requesting game over explanation from openai/gpt-4.1-mini
2025-06-26 19:47:33,128 - INFO - Received game over explanation: The game ended because the model tried to make a m...
2025-06-26 19:47:37,066 - INFO - New game created: meta-llama/llama-3.1-70b-instruct (White) vs shisa-ai/shisa-v2-llama3.3-70b:free (Black)
2025-06-26 19:47:37,072 - INFO - WebSocket connection established for game game_1750960057_9918
2025-06-26 19:47:37,072 - INFO - Starting game: meta-llama/llama-3.1-70b-instruct vs shisa-ai/shisa-v2-llama3.3-70b:free
2025-06-26 19:47:37,074 - INFO - Calling OpenRouter API with model: meta-llama/llama-3.1-70b-instruct
2025-06-26 19:47:37,075 - INFO - OpenRouter Request for meta-llama/llama-3.1-70b-instruct (attempt 1): {"model": "meta-llama/llama-3.1-70b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:47:37,873 - INFO - OpenRouter response for meta-llama/llama-3.1-70b-instruct (attempt 1): {"id": "gen-1750960057-VwglSOIm0Y5m2xBYKxqf", "model": "meta-llama/llama-3.1-70b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:47:37,873 - INFO - Received raw move 'e2e4' from model meta-llama/llama-3.1-70b-instruct
2025-06-26 19:47:37,874 - INFO - Using default board with active color: w
2025-06-26 19:47:37,874 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-06-26 19:47:37,876 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:47:38,882 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a strong opening move...
2025-06-26 19:47:39,379 - INFO - Calling OpenRouter API with model: shisa-ai/shisa-v2-llama3.3-70b:free
2025-06-26 19:47:39,379 - INFO - Detected 0.5 move pairs already made in the game
2025-06-26 19:47:39,380 - INFO - Model has suffix: base=shisa-ai/shisa-v2-llama3.3-70b, suffix=:free
2025-06-26 19:47:39,380 - INFO - OpenRouter Request for shisa-ai/shisa-v2-llama3.3-70b:free (attempt 1): {"model": "shisa-ai/shisa-v2-llama3.3-70b:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:47:41,434 - INFO - OpenRouter response for shisa-ai/shisa-v2-llama3.3-70b:free (attempt 1): {"id": "gen-1750960059-78LK8bcrCVGNQggFPcEo", "model": "shisa-ai/shisa-v2-llama3.3-70b:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:47:41,435 - INFO - Received raw move 'e7e5' from model shisa-ai/shisa-v2-llama3.3-70b:free
2025-06-26 19:47:41,436 - INFO - Using default board with active color: b
2025-06-26 19:47:41,436 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-06-26 19:47:41,438 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:47:42,636 - INFO - Received commentary from openai/gpt-4.1-mini: 1...e5 is a standard and solid...
2025-06-26 19:47:42,941 - INFO - Calling OpenRouter API with model: meta-llama/llama-3.1-70b-instruct
2025-06-26 19:47:42,941 - INFO - Detected 1 move pairs already made in the game
2025-06-26 19:47:42,941 - INFO - OpenRouter Request for meta-llama/llama-3.1-70b-instruct (attempt 1): {"model": "meta-llama/llama-3.1-70b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:47:43,432 - INFO - OpenRouter response for meta-llama/llama-3.1-70b-instruct (attempt 1): {"id": "gen-1750960063-Cfo5s77rbJEBD16w1JjJ", "model": "meta-llama/llama-3.1-70b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:47:43,436 - INFO - Received raw move 'Nb1c3' from model meta-llama/llama-3.1-70b-instruct
2025-06-26 19:47:43,439 - INFO - Removed piece prefix from move: b1c3
2025-06-26 19:47:43,444 - INFO - Using default board with active color: w
2025-06-26 19:47:43,444 - INFO - Processed move: Raw 'Nb1c3' -> Interpreted 'b1c3' -> UCI 'b1c3' -> SAN 'Nc3'
2025-06-26 19:47:43,446 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:47:44,577 - INFO - Received commentary from openai/gpt-4.1-mini: Nc3 develops a knight toward t...
2025-06-26 19:47:44,948 - INFO - Calling OpenRouter API with model: shisa-ai/shisa-v2-llama3.3-70b:free
2025-06-26 19:47:44,949 - INFO - Detected 1.5 move pairs already made in the game
2025-06-26 19:47:44,949 - INFO - Model has suffix: base=shisa-ai/shisa-v2-llama3.3-70b, suffix=:free
2025-06-26 19:47:44,949 - INFO - OpenRouter Request for shisa-ai/shisa-v2-llama3.3-70b:free (attempt 1): {"model": "shisa-ai/shisa-v2-llama3.3-70b:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . N . . . . .\nP P P P . P P P\nR . B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. b1c3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:47:46,562 - INFO - OpenRouter response for shisa-ai/shisa-v2-llama3.3-70b:free (attempt 1): {"id": "gen-1750960065-v0aYNwbsUlf3JbuZfa92", "model": "shisa-ai/shisa-v2-llama3.3-70b:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:47:46,565 - INFO - Received raw move 'e7e5' from model shisa-ai/shisa-v2-llama3.3-70b:free
2025-06-26 19:47:46,566 - INFO - Using default board with active color: b
2025-06-26 19:47:46,566 - ERROR - Failed to convert move 'e7e5': ValueError: Illegal move: e7e5
2025-06-26 19:47:46,566 - WARNING - Move parsing attempt 1/5 failed, retrying...
2025-06-26 19:47:46,567 - INFO - Calling OpenRouter API with model: shisa-ai/shisa-v2-llama3.3-70b:free
2025-06-26 19:47:46,567 - INFO - Detected 1.5 move pairs already made in the game
2025-06-26 19:47:46,567 - INFO - Model has suffix: base=shisa-ai/shisa-v2-llama3.3-70b, suffix=:free
2025-06-26 19:47:46,567 - INFO - OpenRouter Request for shisa-ai/shisa-v2-llama3.3-70b:free (attempt 1): {"model": "shisa-ai/shisa-v2-llama3.3-70b:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . N . . . . .\nP P P P . P P P\nR . B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. b1c3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:47:48,417 - INFO - OpenRouter response for shisa-ai/shisa-v2-llama3.3-70b:free (attempt 1): {"id": "gen-1750960066-YjpKP8T9guHcj1qnTesA", "model": "shisa-ai/shisa-v2-llama3.3-70b:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:47:48,418 - INFO - Move retry 1: Received raw move 'g8f6' from model shisa-ai/shisa-v2-llama3.3-70b:free
2025-06-26 19:47:48,418 - INFO - Using default board with active color: b
2025-06-26 19:47:48,418 - INFO - Processed move: Raw 'g8f6' -> Interpreted 'g8f6' -> UCI 'g8f6' -> SAN 'Nf6'
2025-06-26 19:47:48,419 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:47:49,835 - INFO - Received commentary from openai/gpt-4.1-mini: ...Nf6 develops a knight activ...
2025-06-26 19:47:49,922 - INFO - Calling OpenRouter API with model: meta-llama/llama-3.1-70b-instruct
2025-06-26 19:47:49,922 - INFO - Detected 2 move pairs already made in the game
2025-06-26 19:47:49,923 - INFO - OpenRouter Request for meta-llama/llama-3.1-70b-instruct (attempt 1): {"model": "meta-llama/llama-3.1-70b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p p . p p p\n. . . . . n . .\n. . . . p . . .\n. . . . P . . .\n. . N . . . . .\nP P P P . P P P\nR . B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. b1c3 g8f6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:47:50,430 - INFO - OpenRouter response for meta-llama/llama-3.1-70b-instruct (attempt 1): {"id": "gen-1750960070-Ccmew1eo6mzIvLxh04fG", "model": "meta-llama/llama-3.1-70b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:47:50,431 - INFO - Received raw move 'Nb1c3' from model meta-llama/llama-3.1-70b-instruct
2025-06-26 19:47:50,431 - INFO - Removed piece prefix from move: b1c3
2025-06-26 19:47:50,431 - INFO - Using default board with active color: w
2025-06-26 19:47:50,431 - ERROR - Failed to convert move 'b1c3': ValueError: Illegal move: b1c3
2025-06-26 19:47:50,431 - WARNING - Move parsing attempt 1/5 failed, retrying...
2025-06-26 19:47:50,432 - INFO - Calling OpenRouter API with model: meta-llama/llama-3.1-70b-instruct
2025-06-26 19:47:50,432 - INFO - Detected 2 move pairs already made in the game
2025-06-26 19:47:50,432 - INFO - OpenRouter Request for meta-llama/llama-3.1-70b-instruct (attempt 1): {"model": "meta-llama/llama-3.1-70b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p p . p p p\n. . . . . n . .\n. . . . p . . .\n. . . . P . . .\n. . N . . . . .\nP P P P . P P P\nR . B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. b1c3 g8f6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:47:51,430 - INFO - OpenRouter response for meta-llama/llama-3.1-70b-instruct (attempt 1): {"id": "gen-1750960070-swTln5iTJvW6uZjs7J6R", "model": "meta-llama/llama-3.1-70b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:47:51,431 - INFO - Move retry 1: Received raw move 'nb1c3' from model meta-llama/llama-3.1-70b-instruct
2025-06-26 19:47:51,431 - INFO - Removed piece prefix from move: b1c3
2025-06-26 19:47:51,431 - INFO - Using default board with active color: w
2025-06-26 19:47:51,432 - ERROR - Failed to convert move 'b1c3': ValueError: Illegal move: b1c3
2025-06-26 19:47:51,432 - WARNING - Move parsing attempt 2/5 failed, retrying...
2025-06-26 19:47:51,432 - INFO - Calling OpenRouter API with model: meta-llama/llama-3.1-70b-instruct
2025-06-26 19:47:51,432 - INFO - Detected 2 move pairs already made in the game
2025-06-26 19:47:51,432 - INFO - OpenRouter Request for meta-llama/llama-3.1-70b-instruct (attempt 1): {"model": "meta-llama/llama-3.1-70b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p p . p p p\n. . . . . n . .\n. . . . p . . .\n. . . . P . . .\n. . N . . . . .\nP P P P . P P P\nR . B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. b1c3 g8f6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:47:52,795 - INFO - OpenRouter response for meta-llama/llama-3.1-70b-instruct (attempt 1): {"id": "gen-1750960071-NgEvoHs8adDSWG97Ghrh", "model": "meta-llama/llama-3.1-70b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:47:52,797 - INFO - Move retry 2: Received raw move 'd2d4' from model meta-llama/llama-3.1-70b-instruct
2025-06-26 19:47:52,797 - INFO - Using default board with active color: w
2025-06-26 19:47:52,798 - INFO - Processed move: Raw 'd2d4' -> Interpreted 'd2d4' -> UCI 'd2d4' -> SAN 'd4'
2025-06-26 19:47:52,802 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:47:54,120 - INFO - Received commentary from openai/gpt-4.1-mini: 3. d4! White challenges the ce...
2025-06-26 19:47:54,303 - INFO - Calling OpenRouter API with model: shisa-ai/shisa-v2-llama3.3-70b:free
2025-06-26 19:47:54,304 - INFO - Detected 2.5 move pairs already made in the game
2025-06-26 19:47:54,305 - INFO - Model has suffix: base=shisa-ai/shisa-v2-llama3.3-70b, suffix=:free
2025-06-26 19:47:54,305 - INFO - OpenRouter Request for shisa-ai/shisa-v2-llama3.3-70b:free (attempt 1): {"model": "shisa-ai/shisa-v2-llama3.3-70b:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b . r\np p p p . p p p\n. . . . . n . .\n. . . . p . . .\n. . . P P . . .\n. . N . . . . .\nP P P . . P P P\nR . B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. b1c3 g8f6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:47:55,975 - INFO - OpenRouter response for shisa-ai/shisa-v2-llama3.3-70b:free (attempt 1): {"id": "gen-1750960074-xRAykbuUoteKPYxfHnzr", "model": "shisa-ai/shisa-v2-llama3.3-70b:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:47:55,976 - INFO - Received raw move 'e7e5' from model shisa-ai/shisa-v2-llama3.3-70b:free
2025-06-26 19:47:55,976 - INFO - Using default board with active color: b
2025-06-26 19:47:55,976 - ERROR - Failed to convert move 'e7e5': ValueError: Illegal move: e7e5
2025-06-26 19:47:55,976 - WARNING - Move parsing attempt 1/5 failed, retrying...
2025-06-26 19:47:55,976 - INFO - Calling OpenRouter API with model: shisa-ai/shisa-v2-llama3.3-70b:free
2025-06-26 19:47:55,977 - INFO - Detected 2.5 move pairs already made in the game
2025-06-26 19:47:55,978 - INFO - Model has suffix: base=shisa-ai/shisa-v2-llama3.3-70b, suffix=:free
2025-06-26 19:47:55,978 - INFO - OpenRouter Request for shisa-ai/shisa-v2-llama3.3-70b:free (attempt 1): {"model": "shisa-ai/shisa-v2-llama3.3-70b:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b . r\np p p p . p p p\n. . . . . n . .\n. . . . p . . .\n. . . P P . . .\n. . N . . . . .\nP P P . . P P P\nR . B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. b1c3 g8f6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:47:57,622 - INFO - OpenRouter response for shisa-ai/shisa-v2-llama3.3-70b:free (attempt 1): {"id": "gen-1750960076-uJ7VvVj0enD4WY3gPbrK", "model": "shisa-ai/shisa-v2-llama3.3-70b:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:47:57,623 - INFO - Move retry 1: Received raw move 'e5d4' from model shisa-ai/shisa-v2-llama3.3-70b:free
2025-06-26 19:47:57,623 - INFO - Using default board with active color: b
2025-06-26 19:47:57,623 - INFO - Attempting to interpret ambiguous move with API: 'e5d4'
2025-06-26 19:47:57,650 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5d4'
2025-06-26 19:47:58,517 - INFO - Interpreted move 'e5d4' as 'e5d4'
2025-06-26 19:47:58,517 - WARNING - Interpreted move 'e5d4' is not legal on the current board
2025-06-26 19:47:58,518 - WARNING - Interpreted move is still invalid during retry 1
2025-06-26 19:47:58,518 - ERROR - Failed to parse 'INVALID' as SAN: invalid san: 'INVALID'
2025-06-26 19:47:58,518 - ERROR - Failed to convert move 'INVALID': InvalidMoveError: invalid san: 'INVALID'
2025-06-26 19:47:58,518 - WARNING - Move parsing attempt 2/5 failed, retrying...
2025-06-26 19:47:58,519 - INFO - Calling OpenRouter API with model: shisa-ai/shisa-v2-llama3.3-70b:free
2025-06-26 19:47:58,519 - INFO - Detected 2.5 move pairs already made in the game
2025-06-26 19:47:58,519 - INFO - Model has suffix: base=shisa-ai/shisa-v2-llama3.3-70b, suffix=:free
2025-06-26 19:47:58,519 - INFO - OpenRouter Request for shisa-ai/shisa-v2-llama3.3-70b:free (attempt 1): {"model": "shisa-ai/shisa-v2-llama3.3-70b:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b . r\np p p p . p p p\n. . . . . n . .\n. . . . p . . .\n. . . P P . . .\n. . N . . . . .\nP P P . . P P P\nR . B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. b1c3 g8f6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:48:01,230 - INFO - OpenRouter response for shisa-ai/shisa-v2-llama3.3-70b:free (attempt 1): {"id": "gen-1750960078-nZca1CUrNmM55Ap2MAme", "model": "shisa-ai/shisa-v2-llama3.3-70b:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:48:01,231 - INFO - Move retry 2: Received raw move 'e5xd4' from model shisa-ai/shisa-v2-llama3.3-70b:free
2025-06-26 19:48:01,231 - INFO - Using default board with active color: b
2025-06-26 19:48:01,232 - INFO - Attempting to interpret ambiguous move with API: 'e5xd4'
2025-06-26 19:48:01,264 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5xd4'
2025-06-26 19:48:01,792 - INFO - Interpreted move 'e5xd4' as 'e5d4'
2025-06-26 19:48:01,793 - WARNING - Interpreted move 'e5d4' is not legal on the current board
2025-06-26 19:48:01,793 - WARNING - Interpreted move is still invalid during retry 2
2025-06-26 19:48:01,794 - ERROR - Failed to parse 'INVALID' as SAN: invalid san: 'INVALID'
2025-06-26 19:48:01,794 - ERROR - Failed to convert move 'INVALID': InvalidMoveError: invalid san: 'INVALID'
2025-06-26 19:48:01,794 - WARNING - Move parsing attempt 3/5 failed, retrying...
2025-06-26 19:48:01,794 - INFO - Calling OpenRouter API with model: shisa-ai/shisa-v2-llama3.3-70b:free
2025-06-26 19:48:01,794 - INFO - Detected 2.5 move pairs already made in the game
2025-06-26 19:48:01,794 - INFO - Model has suffix: base=shisa-ai/shisa-v2-llama3.3-70b, suffix=:free
2025-06-26 19:48:01,794 - INFO - OpenRouter Request for shisa-ai/shisa-v2-llama3.3-70b:free (attempt 1): {"model": "shisa-ai/shisa-v2-llama3.3-70b:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b . r\np p p p . p p p\n. . . . . n . .\n. . . . p . . .\n. . . P P . . .\n. . N . . . . .\nP P P . . P P P\nR . B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. b1c3 g8f6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:48:03,851 - INFO - OpenRouter response for shisa-ai/shisa-v2-llama3.3-70b:free (attempt 1): {"id": "gen-1750960081-JvuWInHWCrGuOIxQp9z0", "model": "shisa-ai/shisa-v2-llama3.3-70b:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:48:03,852 - INFO - Move retry 3: Received raw move 'e5xd4' from model shisa-ai/shisa-v2-llama3.3-70b:free
2025-06-26 19:48:03,852 - INFO - Using default board with active color: b
2025-06-26 19:48:03,852 - INFO - Attempting to interpret ambiguous move with API: 'e5xd4'
2025-06-26 19:48:03,885 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5xd4'
2025-06-26 19:48:04,543 - INFO - Interpreted move 'e5xd4' as 'e5d4'
2025-06-26 19:48:04,544 - WARNING - Interpreted move 'e5d4' is not legal on the current board
2025-06-26 19:48:04,545 - WARNING - Interpreted move is still invalid during retry 3
2025-06-26 19:48:04,545 - ERROR - Failed to parse 'INVALID' as SAN: invalid san: 'INVALID'
2025-06-26 19:48:04,546 - ERROR - Failed to convert move 'INVALID': InvalidMoveError: invalid san: 'INVALID'
2025-06-26 19:48:04,546 - WARNING - Move parsing attempt 4/5 failed, retrying...
2025-06-26 19:48:04,546 - INFO - Calling OpenRouter API with model: shisa-ai/shisa-v2-llama3.3-70b:free
2025-06-26 19:48:04,546 - INFO - Detected 2.5 move pairs already made in the game
2025-06-26 19:48:04,546 - INFO - Model has suffix: base=shisa-ai/shisa-v2-llama3.3-70b, suffix=:free
2025-06-26 19:48:04,547 - INFO - OpenRouter Request for shisa-ai/shisa-v2-llama3.3-70b:free (attempt 1): {"model": "shisa-ai/shisa-v2-llama3.3-70b:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b . r\np p p p . p p p\n. . . . . n . .\n. . . . p . . .\n. . . P P . . .\n. . N . . . . .\nP P P . . P P P\nR . B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. b1c3 g8f6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:48:06,518 - INFO - OpenRouter response for shisa-ai/shisa-v2-llama3.3-70b:free (attempt 1): {"id": "gen-1750960084-oYJKKoIfHDdR4InPw7Al", "model": "shisa-ai/shisa-v2-llama3.3-70b:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:48:06,519 - INFO - Move retry 4: Received raw move 'e5d4' from model shisa-ai/shisa-v2-llama3.3-70b:free
2025-06-26 19:48:06,520 - INFO - Using default board with active color: b
2025-06-26 19:48:06,520 - INFO - Attempting to interpret ambiguous move with API: 'e5d4'
2025-06-26 19:48:06,552 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5d4'
2025-06-26 19:48:07,051 - INFO - Interpreted move 'e5d4' as 'INVALID'
2025-06-26 19:48:07,053 - WARNING - Interpreted move is still invalid during retry 4
2025-06-26 19:48:07,053 - ERROR - Failed to parse 'INVALID' as SAN: invalid san: 'INVALID'
2025-06-26 19:48:07,053 - ERROR - Failed to convert move 'INVALID': InvalidMoveError: invalid san: 'INVALID'
2025-06-26 19:48:07,053 - ERROR - Failed to parse/apply move after 5 attempts
2025-06-26 19:48:07,053 - ERROR - Recovery attempt failed: All move parsing retries failed for 'INVALID'
2025-06-26 19:48:07,053 - INFO - Requesting game over explanation from openai/gpt-4.1-mini
2025-06-26 19:48:08,212 - INFO - Received game over explanation: The model lost because it tried to make a move tha...
2025-06-26 19:48:15,078 - INFO - New game created: liquid/lfm-40b (White) vs qwen/qwen3-14b (Black)
2025-06-26 19:48:15,081 - INFO - WebSocket connection established for game game_1750960095_3217
2025-06-26 19:48:15,081 - INFO - Starting game: liquid/lfm-40b vs qwen/qwen3-14b
2025-06-26 19:48:15,083 - INFO - Calling OpenRouter API with model: liquid/lfm-40b
2025-06-26 19:48:15,083 - INFO - OpenRouter Request for liquid/lfm-40b (attempt 1): {"model": "liquid/lfm-40b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:48:15,616 - INFO - OpenRouter response for liquid/lfm-40b (attempt 1): {"id": "gen-1750960095-uZpcLPGvSboIh98MkgZr", "model": "liquid/lfm-40b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:48:15,617 - INFO - Received raw move 'e2e4' from model liquid/lfm-40b
2025-06-26 19:48:15,618 - INFO - Using default board with active color: w
2025-06-26 19:48:15,618 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-06-26 19:48:15,620 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:48:16,601 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a strong opening move...
2025-06-26 19:48:16,623 - INFO - Calling OpenRouter API with model: qwen/qwen3-14b
2025-06-26 19:48:16,624 - INFO - Detected 0.5 move pairs already made in the game
2025-06-26 19:48:16,624 - INFO - OpenRouter Request for qwen/qwen3-14b (attempt 1): {"model": "qwen/qwen3-14b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:49:10,707 - INFO - OpenRouter response for qwen/qwen3-14b (attempt 1): {"id": "gen-1750960096-ub38EDJeAWkhytUU5kPo", "model": "qwen/qwen3-14b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:49:10,708 - INFO - Received raw move 'e7e5' from model qwen/qwen3-14b
2025-06-26 19:49:10,708 - INFO - Using default board with active color: b
2025-06-26 19:49:10,709 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-06-26 19:49:10,710 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:49:11,829 - INFO - Received commentary from openai/gpt-4.1-mini: Black's 1...e5 is a classical ...
2025-06-26 19:49:12,212 - INFO - Calling OpenRouter API with model: liquid/lfm-40b
2025-06-26 19:49:12,212 - INFO - Detected 1 move pairs already made in the game
2025-06-26 19:49:12,212 - INFO - OpenRouter Request for liquid/lfm-40b (attempt 1): {"model": "liquid/lfm-40b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:49:13,132 - INFO - OpenRouter response for liquid/lfm-40b (attempt 1): {"id": "gen-1750960152-Lvuni6qlqjkOhgeGY6Tx", "model": "liquid/lfm-40b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:49:13,133 - INFO - Received raw move 'd2d4' from model liquid/lfm-40b
2025-06-26 19:49:13,134 - INFO - Using default board with active color: w
2025-06-26 19:49:13,134 - INFO - Processed move: Raw 'd2d4' -> Interpreted 'd2d4' -> UCI 'd2d4' -> SAN 'd4'
2025-06-26 19:49:13,136 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:49:14,153 - INFO - Received commentary from openai/gpt-4.1-mini: 2. d4!? challenges Black's cen...
2025-06-26 19:49:14,638 - INFO - Calling OpenRouter API with model: qwen/qwen3-14b
2025-06-26 19:49:14,639 - INFO - Detected 1.5 move pairs already made in the game
2025-06-26 19:49:14,640 - INFO - OpenRouter Request for qwen/qwen3-14b (attempt 1): {"model": "qwen/qwen3-14b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:49:24,139 - INFO - OpenRouter response for qwen/qwen3-14b (attempt 1): {"id": "gen-1750960154-Nswz746PR2OFXPVu8Tae", "model": "qwen/qwen3-14b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:49:24,140 - INFO - Received raw move 'd7d5' from model qwen/qwen3-14b
2025-06-26 19:49:24,141 - INFO - Using default board with active color: b
2025-06-26 19:49:24,141 - INFO - Processed move: Raw 'd7d5' -> Interpreted 'd7d5' -> UCI 'd7d5' -> SAN 'd5'
2025-06-26 19:49:24,143 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:49:25,287 - INFO - Received commentary from openai/gpt-4.1-mini: Black's move 2...d5 challenges...
2025-06-26 19:49:25,646 - INFO - Calling OpenRouter API with model: liquid/lfm-40b
2025-06-26 19:49:25,647 - INFO - Detected 2 move pairs already made in the game
2025-06-26 19:49:25,648 - INFO - OpenRouter Request for liquid/lfm-40b (attempt 1): {"model": "liquid/lfm-40b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . . . . . .\n. . . p p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:49:26,049 - INFO - OpenRouter response for liquid/lfm-40b (attempt 1): {"id": "gen-1750960165-QGpRFk6505EjOTv4SLfs", "model": "liquid/lfm-40b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:49:26,050 - INFO - Received raw move 'd4xd5' from model liquid/lfm-40b
2025-06-26 19:49:26,050 - INFO - Using default board with active color: w
2025-06-26 19:49:26,051 - INFO - Attempting to interpret ambiguous move with API: 'd4xd5'
2025-06-26 19:49:26,079 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd4xd5'
2025-06-26 19:49:27,253 - INFO - Interpreted move 'd4xd5' as 'd4d5'
2025-06-26 19:49:27,253 - WARNING - Interpreted move 'd4d5' is not legal on the current board
2025-06-26 19:49:27,254 - WARNING - Model liquid/lfm-40b made an invalid move: 'd4xd5' that couldn't be interpreted (attempt 1/5)
2025-06-26 19:49:27,255 - INFO - Calling OpenRouter API with model: liquid/lfm-40b
2025-06-26 19:49:27,255 - INFO - Detected 2 move pairs already made in the game
2025-06-26 19:49:27,255 - INFO - OpenRouter Request for liquid/lfm-40b (attempt 1): {"model": "liquid/lfm-40b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . . . . . .\n. . . p p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 19:49:28,088 - INFO - OpenRouter response for liquid/lfm-40b (attempt 1): {"id": "gen-1750960167-0QhvSwGXz9Uk7MdGtoVc", "model": "liquid/lfm-40b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 19:49:28,089 - INFO - Retry 1: Received raw move 'c2c4' from model liquid/lfm-40b
2025-06-26 19:49:28,090 - INFO - Using default board with active color: w
2025-06-26 19:49:28,090 - INFO - Processed move: Raw 'c2c4' -> Interpreted 'c2c4' -> UCI 'c2c4' -> SAN 'c4'
2025-06-26 19:49:28,092 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 19:49:29,910 - INFO - Received commentary from openai/gpt-4.1-mini: 3. c4 challenges Black's centr...
2025-06-26 19:49:30,096 - INFO - Calling OpenRouter API with model: qwen/qwen3-14b
2025-06-26 19:49:30,098 - INFO - Detected 2.5 move pairs already made in the game
2025-06-26 19:49:30,098 - INFO - OpenRouter Request for qwen/qwen3-14b (attempt 1): {"model": "qwen/qwen3-14b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . . . . . .\n. . . p p . . .\n. . P P P . . .\n. . . . . . . .\nP P . . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4 d7d5\n3. c2c4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 22:22:49,440 - INFO - AI Chess Arena starting up...
2025-06-26 22:22:49,443 - INFO - Loaded 155 previous game results from results.txt
2025-06-26 22:26:10,313 - INFO - AI Chess Arena starting up...
2025-06-26 22:26:10,314 - INFO - Loaded 155 previous game results from results.txt
2025-06-26 22:26:12,137 - INFO - New game created: perplexity/r1-1776 (White) vs google/gemma-2-9b-it (Black)
2025-06-26 22:26:12,141 - INFO - WebSocket connection established for game game_1750969572_2484
2025-06-26 22:26:12,142 - INFO - Starting game: perplexity/r1-1776 vs google/gemma-2-9b-it
2025-06-26 22:26:12,144 - INFO - Calling OpenRouter API with model: perplexity/r1-1776
2025-06-26 22:26:12,144 - INFO - OpenRouter Request for perplexity/r1-1776 (attempt 1): {"model": "perplexity/r1-1776", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 22:26:14,982 - INFO - OpenRouter response for perplexity/r1-1776 (attempt 1): {"id": "gen-1750969572-hEVTtSCjxFDmfCrgiq27", "model": "perplexity/r1-1776", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 22:26:14,983 - INFO - Received raw move 'e2e4' from model perplexity/r1-1776
2025-06-26 22:26:14,984 - INFO - Using default board with active color: w
2025-06-26 22:26:14,984 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-06-26 22:26:14,986 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 22:26:16,263 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4! White takes control of ...
2025-06-26 22:26:16,489 - INFO - Calling OpenRouter API with model: google/gemma-2-9b-it
2025-06-26 22:26:16,489 - INFO - Detected 0.5 move pairs already made in the game
2025-06-26 22:26:16,489 - INFO - OpenRouter Request for google/gemma-2-9b-it (attempt 1): {"model": "google/gemma-2-9b-it", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 22:26:17,003 - INFO - OpenRouter response for google/gemma-2-9b-it (attempt 1): {"id": "gen-1750969576-SKHXpweGjRCsXPGYgE0e", "model": "google/gemma-2-9b-it", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 22:26:17,003 - INFO - Received raw move 'c7c6' from model google/gemma-2-9b-it
2025-06-26 22:26:17,004 - INFO - Using default board with active color: b
2025-06-26 22:26:17,004 - INFO - Processed move: Raw 'c7c6' -> Interpreted 'c7c6' -> UCI 'c7c6' -> SAN 'c6'
2025-06-26 22:26:17,006 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 22:26:18,059 - INFO - Received commentary from openai/gpt-4.1-mini: 1...c6 is a solid and standard...
2025-06-26 22:26:18,508 - INFO - Calling OpenRouter API with model: perplexity/r1-1776
2025-06-26 22:26:18,508 - INFO - Detected 1 move pairs already made in the game
2025-06-26 22:26:18,509 - INFO - OpenRouter Request for perplexity/r1-1776 (attempt 1): {"model": "perplexity/r1-1776", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . p p p p p\n. . p . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 c7c6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 22:26:42,397 - INFO - OpenRouter response for perplexity/r1-1776 (attempt 1): {"id": "gen-1750969578-wUH3qYxpjWo7TrwJDeq0", "model": "perplexity/r1-1776", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 22:26:42,398 - INFO - Received raw move 'd2d4' from model perplexity/r1-1776
2025-06-26 22:26:42,398 - INFO - Using default board with active color: w
2025-06-26 22:26:42,398 - INFO - Processed move: Raw 'd2d4' -> Interpreted 'd2d4' -> UCI 'd2d4' -> SAN 'd4'
2025-06-26 22:26:42,399 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 22:26:43,482 - INFO - Received commentary from openai/gpt-4.1-mini: 2. d4 is a strong and thematic...
2025-06-26 22:26:43,900 - INFO - Calling OpenRouter API with model: google/gemma-2-9b-it
2025-06-26 22:26:43,901 - INFO - Detected 1.5 move pairs already made in the game
2025-06-26 22:26:43,901 - INFO - OpenRouter Request for google/gemma-2-9b-it (attempt 1): {"model": "google/gemma-2-9b-it", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p . p p p p p\n. . p . . . . .\n. . . . . . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 c7c6\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-06-26 22:26:44,404 - INFO - OpenRouter response for google/gemma-2-9b-it (attempt 1): {"id": "gen-1750969604-QXAR6xWCF5qZPi6Kehxe", "model": "google/gemma-2-9b-it", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-06-26 22:26:44,405 - INFO - Received raw move 'd7d5' from model google/gemma-2-9b-it
2025-06-26 22:26:44,406 - INFO - Using default board with active color: b
2025-06-26 22:26:44,406 - INFO - Processed move: Raw 'd7d5' -> Interpreted 'd7d5' -> UCI 'd7d5' -> SAN 'd5'
2025-06-26 22:26:44,408 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-06-26 22:26:45,491 - INFO - Received commentary from openai/gpt-4.1-mini: Black's 2...d5 challenges Whit...
2025-06-26 22:26:45,911 - INFO - Calling OpenRouter API with model: perplexity/r1-1776
2025-06-26 22:26:45,912 - INFO - Detected 2 move pairs already made in the game
2025-06-26 22:26:45,913 - INFO - OpenRouter Request for perplexity/r1-1776 (attempt 1): {"model": "perplexity/r1-1776", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . . p p p p\n. . p . . . . .\n. . . p . . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 c7c6\n2. d2d4 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-14 22:11:52,816 - INFO - AI Chess Arena starting up...
2025-07-14 22:11:52,818 - INFO - Loaded 155 previous game results from results.txt
2025-07-14 23:17:05,061 - INFO - AI Chess Arena starting up...
2025-07-14 23:17:05,063 - INFO - Loaded 155 previous game results from results.txt
2025-07-14 23:17:48,058 - INFO - New game created: openai/gpt-3.5-turbo-1106 (White) vs nvidia/llama-3.3-nemotron-super-49b-v1 (Black)
2025-07-14 23:17:48,071 - INFO - WebSocket connection established for game game_1752527868_2905
2025-07-14 23:17:48,071 - INFO - Starting game: openai/gpt-3.5-turbo-1106 vs nvidia/llama-3.3-nemotron-super-49b-v1
2025-07-14 23:17:48,073 - INFO - Calling OpenRouter API with model: openai/gpt-3.5-turbo-1106
2025-07-14 23:17:48,073 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-1106 (attempt 1): {"model": "openai/gpt-3.5-turbo-1106", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-14 23:17:48,394 - ERROR - Error calling model openai/gpt-3.5-turbo-1106 (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-14 23:17:48,395 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-1106.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-14 23:17:49,895 - INFO - Retry attempt 1/3 for model openai/gpt-3.5-turbo-1106
2025-07-14 23:17:49,896 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-14 23:17:49,896 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-1106 (attempt 2): {"model": "openai/gpt-3.5-turbo-1106", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-14 23:17:50,059 - ERROR - Error calling model openai/gpt-3.5-turbo-1106 (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-14 23:17:50,060 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-1106.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-14 23:17:51,561 - INFO - Retry attempt 2/3 for model openai/gpt-3.5-turbo-1106
2025-07-14 23:17:51,561 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-14 23:17:51,561 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-1106 (attempt 3): {"model": "openai/gpt-3.5-turbo-1106", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-14 23:17:51,702 - ERROR - Error calling model openai/gpt-3.5-turbo-1106 (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-14 23:17:51,702 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-1106.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-14 23:17:53,203 - INFO - Retry attempt 3/3 for model openai/gpt-3.5-turbo-1106
2025-07-14 23:17:53,203 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-14 23:17:53,203 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-14 23:17:53,203 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as WHITE.\nCurrent board:\n\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-14 23:17:54,263 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752527873-CcUL5NYkvLh4SLZ8Rye3", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-14 23:17:54,264 - INFO - Received raw move 'e2e4' from model openai/gpt-3.5-turbo-1106
2025-07-14 23:17:54,264 - INFO - Using default board with active color: w
2025-07-14 23:17:54,264 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-14 23:17:54,266 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-14 23:17:56,771 - INFO - Calling OpenRouter API with model: nvidia/llama-3.3-nemotron-super-49b-v1
2025-07-14 23:17:56,771 - INFO - Detected 0.5 move pairs already made in the game
2025-07-14 23:17:56,771 - INFO - OpenRouter Request for nvidia/llama-3.3-nemotron-super-49b-v1 (attempt 1): {"model": "nvidia/llama-3.3-nemotron-super-49b-v1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-14 23:17:57,154 - INFO - OpenRouter response for nvidia/llama-3.3-nemotron-super-49b-v1 (attempt 1): {"id": "gen-1752527876-FSRhyiQWXqaBY3kIcbwW", "model": "nvidia/llama-3.3-nemotron-super-49b-v1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-14 23:17:57,155 - INFO - Received raw move 'e7e5' from model nvidia/llama-3.3-nemotron-super-49b-v1
2025-07-14 23:17:57,156 - INFO - Using default board with active color: b
2025-07-14 23:17:57,156 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-07-14 23:17:57,158 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-14 23:17:57,382 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 ! White takes control of...
2025-07-14 23:17:58,338 - INFO - Received commentary from openai/gpt-4.1-mini: Black's 1...e5 is a classic an...
2025-07-14 23:17:58,661 - INFO - Calling OpenRouter API with model: openai/gpt-3.5-turbo-1106
2025-07-14 23:17:58,661 - INFO - Detected 1 move pairs already made in the game
2025-07-14 23:17:58,661 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-1106 (attempt 1): {"model": "openai/gpt-3.5-turbo-1106", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-14 23:17:58,916 - ERROR - Error calling model openai/gpt-3.5-turbo-1106 (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-14 23:17:58,918 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-1106.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-14 23:18:00,419 - INFO - Retry attempt 1/3 for model openai/gpt-3.5-turbo-1106
2025-07-14 23:18:00,420 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-14 23:18:00,420 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-1106 (attempt 2): {"model": "openai/gpt-3.5-turbo-1106", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-14 23:18:00,589 - ERROR - Error calling model openai/gpt-3.5-turbo-1106 (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-14 23:18:00,589 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-1106.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-14 23:18:02,091 - INFO - Retry attempt 2/3 for model openai/gpt-3.5-turbo-1106
2025-07-14 23:18:02,091 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-14 23:18:02,091 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-1106 (attempt 3): {"model": "openai/gpt-3.5-turbo-1106", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-14 23:18:02,249 - ERROR - Error calling model openai/gpt-3.5-turbo-1106 (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-14 23:18:02,252 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-1106.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-14 23:18:03,753 - INFO - Retry attempt 3/3 for model openai/gpt-3.5-turbo-1106
2025-07-14 23:18:03,753 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-14 23:18:03,753 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-14 23:18:03,754 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as WHITE.\nCurrent board:\n\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-14 23:18:04,939 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752527883-bWIXK6dQWZtoGRmZvBGu", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-14 23:18:04,940 - INFO - Received raw move 'g1f3' from model openai/gpt-3.5-turbo-1106
2025-07-14 23:18:04,940 - INFO - Using default board with active color: w
2025-07-14 23:18:04,940 - INFO - Processed move: Raw 'g1f3' -> Interpreted 'g1f3' -> UCI 'g1f3' -> SAN 'Nf3'
2025-07-14 23:18:04,941 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-14 23:18:06,585 - INFO - Received commentary from openai/gpt-4.1-mini: Nf3! develops a knight toward ...
2025-07-14 23:18:06,945 - INFO - Calling OpenRouter API with model: nvidia/llama-3.3-nemotron-super-49b-v1
2025-07-14 23:18:06,946 - INFO - Detected 1.5 move pairs already made in the game
2025-07-14 23:18:06,946 - INFO - OpenRouter Request for nvidia/llama-3.3-nemotron-super-49b-v1 (attempt 1): {"model": "nvidia/llama-3.3-nemotron-super-49b-v1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-14 23:18:07,512 - INFO - OpenRouter response for nvidia/llama-3.3-nemotron-super-49b-v1 (attempt 1): {"id": "gen-1752527887-gpNo12Lr4Ldo5ecmSvG9", "model": "nvidia/llama-3.3-nemotron-super-49b-v1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-14 23:18:07,512 - INFO - Received raw move 'Nb8c6' from model nvidia/llama-3.3-nemotron-super-49b-v1
2025-07-14 23:18:07,513 - INFO - Removed piece prefix from move: b8c6
2025-07-14 23:18:07,513 - INFO - Using default board with active color: b
2025-07-14 23:18:07,513 - INFO - Processed move: Raw 'Nb8c6' -> Interpreted 'b8c6' -> UCI 'b8c6' -> SAN 'Nc6'
2025-07-14 23:18:07,514 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-14 23:18:08,553 - INFO - Received commentary from openai/gpt-4.1-mini: Black's 2...Nc6 develops a kni...
2025-07-14 23:18:09,018 - INFO - Calling OpenRouter API with model: openai/gpt-3.5-turbo-1106
2025-07-14 23:18:09,018 - INFO - Detected 2 move pairs already made in the game
2025-07-14 23:18:09,018 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-1106 (attempt 1): {"model": "openai/gpt-3.5-turbo-1106", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr . b q k b n r\np p p p . p p p\n. . n . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 b8c6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-14 23:18:09,228 - ERROR - Error calling model openai/gpt-3.5-turbo-1106 (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-14 23:18:09,228 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-1106.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-14 23:18:10,730 - INFO - Retry attempt 1/3 for model openai/gpt-3.5-turbo-1106
2025-07-14 23:18:10,730 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-14 23:18:10,730 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-1106 (attempt 2): {"model": "openai/gpt-3.5-turbo-1106", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-14 23:18:10,845 - ERROR - Error calling model openai/gpt-3.5-turbo-1106 (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-14 23:18:10,846 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-1106.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-14 23:18:12,347 - INFO - Retry attempt 2/3 for model openai/gpt-3.5-turbo-1106
2025-07-14 23:18:12,347 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-14 23:18:12,347 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-1106 (attempt 3): {"model": "openai/gpt-3.5-turbo-1106", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-14 23:18:12,604 - ERROR - Error calling model openai/gpt-3.5-turbo-1106 (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-14 23:18:12,604 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-1106.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-14 23:18:14,106 - INFO - Retry attempt 3/3 for model openai/gpt-3.5-turbo-1106
2025-07-14 23:18:14,107 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-14 23:18:14,107 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-14 23:18:14,110 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as WHITE.\nCurrent board:\n\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr . b q k b n r\np p p p . p p p\n. . n . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 b8c6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-14 23:18:15,007 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752527894-WtKDZMP3jm8aDg8lOXzH", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-14 23:18:15,009 - INFO - Received raw move 'f1c4' from model openai/gpt-3.5-turbo-1106
2025-07-14 23:18:15,010 - INFO - Using default board with active color: w
2025-07-14 23:18:15,010 - INFO - Attempting to interpret ambiguous move with API: 'f1c4'
2025-07-14 23:18:15,038 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'f1c4'
2025-07-14 23:18:15,627 - INFO - Interpreted move 'f1c4' as 'f1c4'
2025-07-14 23:18:15,627 - WARNING - Interpreted move 'f1c4' is not legal on the current board
2025-07-14 23:18:15,627 - WARNING - Model openai/gpt-3.5-turbo-1106 made an invalid move: 'f1c4' that couldn't be interpreted (attempt 1/5)
2025-07-14 23:18:15,628 - INFO - Calling OpenRouter API with model: openai/gpt-3.5-turbo-1106
2025-07-14 23:18:15,628 - INFO - Detected 2 move pairs already made in the game
2025-07-14 23:18:15,628 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-1106 (attempt 1): {"model": "openai/gpt-3.5-turbo-1106", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr . b q k b n r\np p p p . p p p\n. . n . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 b8c6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-14 23:18:15,771 - ERROR - Error calling model openai/gpt-3.5-turbo-1106 (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-14 23:18:15,772 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-1106.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-14 23:18:17,273 - INFO - Retry attempt 1/3 for model openai/gpt-3.5-turbo-1106
2025-07-14 23:18:17,273 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-14 23:18:17,274 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-1106 (attempt 2): {"model": "openai/gpt-3.5-turbo-1106", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-14 23:18:17,430 - ERROR - Error calling model openai/gpt-3.5-turbo-1106 (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-14 23:18:17,431 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-1106.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-14 23:18:18,931 - INFO - Retry attempt 2/3 for model openai/gpt-3.5-turbo-1106
2025-07-14 23:18:18,931 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-14 23:18:18,931 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-1106 (attempt 3): {"model": "openai/gpt-3.5-turbo-1106", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-14 23:18:19,165 - ERROR - Error calling model openai/gpt-3.5-turbo-1106 (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-14 23:18:19,165 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-1106.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-14 23:18:20,666 - INFO - Retry attempt 3/3 for model openai/gpt-3.5-turbo-1106
2025-07-14 23:18:20,666 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-14 23:18:20,666 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-14 23:18:20,666 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as WHITE.\nCurrent board:\n\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr . b q k b n r\np p p p . p p p\n. . n . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 b8c6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-14 23:18:23,011 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752527900-V2XSsi79AEBU4Q5hV2hA", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-14 23:18:23,011 - INFO - Retry 1: Received raw move 'f1c4' from model openai/gpt-3.5-turbo-1106
2025-07-14 23:18:23,012 - INFO - Using default board with active color: w
2025-07-14 23:18:23,012 - INFO - Attempting to interpret ambiguous move with API: 'f1c4'
2025-07-14 23:18:23,046 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'f1c4'
2025-07-14 23:18:23,670 - INFO - Interpreted move 'f1c4' as 'f1c4'
2025-07-14 23:18:23,670 - WARNING - Interpreted move 'f1c4' is not legal on the current board
2025-07-14 23:18:23,671 - WARNING - Model openai/gpt-3.5-turbo-1106 made an invalid move: 'f1c4' that couldn't be interpreted (attempt 2/5)
2025-07-14 23:18:23,671 - INFO - Calling OpenRouter API with model: openai/gpt-3.5-turbo-1106
2025-07-14 23:18:23,671 - INFO - Detected 2 move pairs already made in the game
2025-07-14 23:18:23,672 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-1106 (attempt 1): {"model": "openai/gpt-3.5-turbo-1106", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr . b q k b n r\np p p p . p p p\n. . n . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 b8c6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-14 23:18:23,836 - ERROR - Error calling model openai/gpt-3.5-turbo-1106 (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-14 23:18:23,837 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-1106.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-14 23:18:25,338 - INFO - Retry attempt 1/3 for model openai/gpt-3.5-turbo-1106
2025-07-14 23:18:25,338 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-14 23:18:25,339 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-1106 (attempt 2): {"model": "openai/gpt-3.5-turbo-1106", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-14 23:18:25,479 - ERROR - Error calling model openai/gpt-3.5-turbo-1106 (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-14 23:18:25,479 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-1106.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-14 23:18:26,980 - INFO - Retry attempt 2/3 for model openai/gpt-3.5-turbo-1106
2025-07-14 23:18:26,981 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-14 23:18:26,981 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-1106 (attempt 3): {"model": "openai/gpt-3.5-turbo-1106", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-14 23:18:27,109 - ERROR - Error calling model openai/gpt-3.5-turbo-1106 (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-14 23:18:27,110 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-1106.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-14 23:18:28,612 - INFO - Retry attempt 3/3 for model openai/gpt-3.5-turbo-1106
2025-07-14 23:18:28,612 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-14 23:18:28,612 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-14 23:18:28,612 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as WHITE.\nCurrent board:\n\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr . b q k b n r\np p p p . p p p\n. . n . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 b8c6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-14 23:18:29,405 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752527908-KHVJjo5Qza74gNRVkFtQ", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-14 23:18:29,406 - INFO - Retry 2: Received raw move 'f1c4' from model openai/gpt-3.5-turbo-1106
2025-07-14 23:18:29,406 - INFO - Using default board with active color: w
2025-07-14 23:18:29,407 - INFO - Attempting to interpret ambiguous move with API: 'f1c4'
2025-07-14 23:18:29,440 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'f1c4'
2025-07-14 23:18:30,753 - INFO - Interpreted move 'f1c4' as 'f1c4'
2025-07-14 23:18:30,753 - WARNING - Interpreted move 'f1c4' is not legal on the current board
2025-07-14 23:18:30,754 - WARNING - Model openai/gpt-3.5-turbo-1106 made an invalid move: 'f1c4' that couldn't be interpreted (attempt 3/5)
2025-07-14 23:18:30,754 - INFO - Calling OpenRouter API with model: openai/gpt-3.5-turbo-1106
2025-07-14 23:18:30,754 - INFO - Detected 2 move pairs already made in the game
2025-07-14 23:18:30,754 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-1106 (attempt 1): {"model": "openai/gpt-3.5-turbo-1106", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr . b q k b n r\np p p p . p p p\n. . n . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 b8c6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-14 23:18:30,924 - ERROR - Error calling model openai/gpt-3.5-turbo-1106 (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-14 23:18:30,924 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-1106.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-14 23:18:32,425 - INFO - Retry attempt 1/3 for model openai/gpt-3.5-turbo-1106
2025-07-14 23:18:32,426 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-14 23:18:32,426 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-1106 (attempt 2): {"model": "openai/gpt-3.5-turbo-1106", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-14 23:18:32,570 - ERROR - Error calling model openai/gpt-3.5-turbo-1106 (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-14 23:18:32,571 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-1106.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-14 23:18:34,072 - INFO - Retry attempt 2/3 for model openai/gpt-3.5-turbo-1106
2025-07-14 23:18:34,073 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-14 23:18:34,073 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-1106 (attempt 3): {"model": "openai/gpt-3.5-turbo-1106", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-14 23:18:34,230 - ERROR - Error calling model openai/gpt-3.5-turbo-1106 (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-14 23:18:34,230 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-1106.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-14 23:18:35,731 - INFO - Retry attempt 3/3 for model openai/gpt-3.5-turbo-1106
2025-07-14 23:18:35,732 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-14 23:18:35,732 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-14 23:18:35,732 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as WHITE.\nCurrent board:\n\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr . b q k b n r\np p p p . p p p\n. . n . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 b8c6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-14 23:18:37,654 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752527915-gRjxIIM8CrYYAgobtBBL", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-14 23:18:37,655 - INFO - Retry 3: Received raw move 'f1b5' from model openai/gpt-3.5-turbo-1106
2025-07-14 23:18:37,655 - INFO - Using default board with active color: w
2025-07-14 23:18:37,655 - INFO - Attempting to interpret ambiguous move with API: 'f1b5'
2025-07-14 23:18:37,695 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'f1b5'
2025-07-14 23:18:39,618 - INFO - Interpreted move 'f1b5' as 'INVALID'
2025-07-14 23:18:39,619 - WARNING - Model openai/gpt-3.5-turbo-1106 made an invalid move: 'f1b5' that couldn't be interpreted (attempt 4/5)
2025-07-14 23:18:39,619 - INFO - Calling OpenRouter API with model: openai/gpt-3.5-turbo-1106
2025-07-14 23:18:39,619 - INFO - Detected 2 move pairs already made in the game
2025-07-14 23:18:39,619 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-1106 (attempt 1): {"model": "openai/gpt-3.5-turbo-1106", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr . b q k b n r\np p p p . p p p\n. . n . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 b8c6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-14 23:18:39,745 - ERROR - Error calling model openai/gpt-3.5-turbo-1106 (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-14 23:18:39,746 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-1106.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-14 23:18:41,247 - INFO - Retry attempt 1/3 for model openai/gpt-3.5-turbo-1106
2025-07-14 23:18:41,247 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-14 23:18:41,247 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-1106 (attempt 2): {"model": "openai/gpt-3.5-turbo-1106", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-14 23:18:41,367 - ERROR - Error calling model openai/gpt-3.5-turbo-1106 (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-14 23:18:41,367 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-1106.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-14 23:18:42,868 - INFO - Retry attempt 2/3 for model openai/gpt-3.5-turbo-1106
2025-07-14 23:18:42,869 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-14 23:18:42,869 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-1106 (attempt 3): {"model": "openai/gpt-3.5-turbo-1106", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-14 23:18:43,145 - ERROR - Error calling model openai/gpt-3.5-turbo-1106 (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-14 23:18:43,146 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-1106.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-14 23:18:44,647 - INFO - Retry attempt 3/3 for model openai/gpt-3.5-turbo-1106
2025-07-14 23:18:44,647 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-14 23:18:44,647 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-14 23:18:44,648 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as WHITE.\nCurrent board:\n\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr . b q k b n r\np p p p . p p p\n. . n . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 b8c6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-14 23:18:45,398 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752527924-7FIyhFsKfhzoUiFS55es", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-14 23:18:45,399 - INFO - Retry 4: Received raw move 'f1c4' from model openai/gpt-3.5-turbo-1106
2025-07-14 23:18:45,399 - INFO - Using default board with active color: w
2025-07-14 23:18:45,401 - INFO - Attempting to interpret ambiguous move with API: 'f1c4'
2025-07-14 23:18:45,434 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'f1c4'
2025-07-14 23:18:47,491 - INFO - Interpreted move 'f1c4' as 'f1c4'
2025-07-14 23:18:47,492 - WARNING - Interpreted move 'f1c4' is not legal on the current board
2025-07-14 23:18:47,494 - WARNING - Model openai/gpt-3.5-turbo-1106 made an invalid move: 'f1c4' that couldn't be interpreted (attempt 5/5)
2025-07-14 23:18:47,494 - ERROR - Model openai/gpt-3.5-turbo-1106 failed to make a valid move after 5 attempts
2025-07-14 23:18:47,494 - INFO - Requesting game over explanation from openai/gpt-4.1-mini
2025-07-14 23:18:49,226 - INFO - Received game over explanation: The model lost because it made a move that didn’t ...
2025-07-14 23:31:07,203 - INFO - AI Chess Arena starting up...
2025-07-14 23:31:07,205 - INFO - Loaded 156 previous game results from results.txt
2025-07-14 23:31:42,057 - INFO - AI Chess Arena starting up...
2025-07-14 23:31:42,058 - INFO - Loaded 156 previous game results from results.txt
2025-07-14 23:31:42,060 - INFO - Calling OpenRouter API with model: moonshotai/kimi-k2:free
2025-07-14 23:31:42,060 - INFO - Model has suffix: base=moonshotai/kimi-k2, suffix=:free
2025-07-14 23:31:42,060 - INFO - OpenRouter Request for moonshotai/kimi-k2:free (attempt 1): {"model": "moonshotai/kimi-k2:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "What is the best chess opening move for white? Reply with just the move in algebraic notation."}]}
2025-07-14 23:31:44,562 - ERROR - Error calling model moonshotai/kimi-k2:free (attempt 1): Client error '429 Too Many Requests' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-07-14 23:31:44,562 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":429,"metadata":{"raw":"moonshotai/kimi-k2:free is temporarily rate-limited upstream. Please retry shortly, or add your own key to accumulate your rate limits: https://openrouter.ai/settings/integrations","provider_name":"Parasail"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-14 23:31:46,064 - INFO - Retry attempt 1/3 for model moonshotai/kimi-k2:free
2025-07-14 23:31:46,065 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-14 23:31:46,068 - INFO - OpenRouter Request for moonshotai/kimi-k2:free (attempt 2): {"model": "moonshotai/kimi-k2:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-14 23:31:47,920 - INFO - OpenRouter response for moonshotai/kimi-k2:free (attempt 2): {"id": "gen-1752528706-ZlfeeP1kbycK8hjUA5eJ", "model": "moonshotai/kimi-k2:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-14 23:31:47,921 - INFO - Calling OpenRouter API with model: moonshotai/kimi-k2
2025-07-14 23:31:47,921 - INFO - OpenRouter Request for moonshotai/kimi-k2 (attempt 1): {"model": "moonshotai/kimi-k2", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "What is the best chess opening move for white? Reply with just the move in algebraic notation."}]}
2025-07-14 23:31:50,543 - INFO - OpenRouter response for moonshotai/kimi-k2 (attempt 1): {"id": "gen-1752528708-7DJGMIeGjzo4d3ID1cg0", "model": "moonshotai/kimi-k2", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-14 23:59:58,452 - INFO - AI Chess Arena starting up...
2025-07-14 23:59:58,454 - INFO - Loaded 156 previous game results from results.txt
2025-07-15 00:00:00,733 - INFO - New game created: nvidia/llama-3.3-nemotron-super-49b-v1 (White) vs mistralai/mistral-small-24b-instruct-2501:free (Black)
2025-07-15 00:00:00,744 - INFO - WebSocket connection established for game game_1752530400_4470
2025-07-15 00:00:00,744 - INFO - Starting game: nvidia/llama-3.3-nemotron-super-49b-v1 vs mistralai/mistral-small-24b-instruct-2501:free
2025-07-15 00:00:00,746 - INFO - Calling OpenRouter API with model: nvidia/llama-3.3-nemotron-super-49b-v1
2025-07-15 00:00:00,746 - INFO - OpenRouter Request for nvidia/llama-3.3-nemotron-super-49b-v1 (attempt 1): {"model": "nvidia/llama-3.3-nemotron-super-49b-v1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:00:04,260 - INFO - OpenRouter response for nvidia/llama-3.3-nemotron-super-49b-v1 (attempt 1): {"id": "gen-1752530401-atBEW2rjLyWYXVu1xlyk", "model": "nvidia/llama-3.3-nemotron-super-49b-v1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:00:04,261 - INFO - Received raw move 'e2e4' from model nvidia/llama-3.3-nemotron-super-49b-v1
2025-07-15 00:00:04,261 - INFO - Using default board with active color: w
2025-07-15 00:00:04,261 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-15 00:00:04,262 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:00:06,025 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a strong opening move...
2025-07-15 00:00:06,266 - INFO - Calling OpenRouter API with model: mistralai/mistral-small-24b-instruct-2501:free
2025-07-15 00:00:06,266 - INFO - Detected 0.5 move pairs already made in the game
2025-07-15 00:00:06,266 - INFO - Model has suffix: base=mistralai/mistral-small-24b-instruct-2501, suffix=:free
2025-07-15 00:00:06,266 - INFO - OpenRouter Request for mistralai/mistral-small-24b-instruct-2501:free (attempt 1): {"model": "mistralai/mistral-small-24b-instruct-2501:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:00:08,163 - INFO - OpenRouter response for mistralai/mistral-small-24b-instruct-2501:free (attempt 1): {"id": "gen-1752530406-QEcWdIkNFGJgW4ZbDLPa", "model": "mistralai/mistral-small-24b-instruct-2501:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:00:08,165 - INFO - Received raw move 'e7e5' from model mistralai/mistral-small-24b-instruct-2501:free
2025-07-15 00:00:08,166 - INFO - Using default board with active color: b
2025-07-15 00:00:08,167 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-07-15 00:00:08,168 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:00:09,326 - INFO - Received commentary from openai/gpt-4.1-mini: Black's move 1...e5 is a class...
2025-07-15 00:00:09,670 - INFO - Calling OpenRouter API with model: nvidia/llama-3.3-nemotron-super-49b-v1
2025-07-15 00:00:09,671 - INFO - Detected 1 move pairs already made in the game
2025-07-15 00:00:09,671 - INFO - OpenRouter Request for nvidia/llama-3.3-nemotron-super-49b-v1 (attempt 1): {"model": "nvidia/llama-3.3-nemotron-super-49b-v1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:00:10,203 - INFO - OpenRouter response for nvidia/llama-3.3-nemotron-super-49b-v1 (attempt 1): {"id": "gen-1752530409-tuMSglWU9CJ0M8mTcFds", "model": "nvidia/llama-3.3-nemotron-super-49b-v1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:00:10,204 - INFO - Received raw move 'd2d3' from model nvidia/llama-3.3-nemotron-super-49b-v1
2025-07-15 00:00:10,205 - INFO - Using default board with active color: w
2025-07-15 00:00:10,205 - INFO - Processed move: Raw 'd2d3' -> Interpreted 'd2d3' -> UCI 'd2d3' -> SAN 'd3'
2025-07-15 00:00:10,210 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:00:11,326 - INFO - Received commentary from openai/gpt-4.1-mini: 2. d3 ! Reinforces the center ...
2025-07-15 00:00:11,710 - INFO - Calling OpenRouter API with model: mistralai/mistral-small-24b-instruct-2501:free
2025-07-15 00:00:11,710 - INFO - Detected 1.5 move pairs already made in the game
2025-07-15 00:00:11,710 - INFO - Model has suffix: base=mistralai/mistral-small-24b-instruct-2501, suffix=:free
2025-07-15 00:00:11,710 - INFO - OpenRouter Request for mistralai/mistral-small-24b-instruct-2501:free (attempt 1): {"model": "mistralai/mistral-small-24b-instruct-2501:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . P . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:00:14,662 - INFO - OpenRouter response for mistralai/mistral-small-24b-instruct-2501:free (attempt 1): {"id": "gen-1752530411-e2NzjASF4ts0WEUppQpt", "model": "mistralai/mistral-small-24b-instruct-2501:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:00:14,663 - INFO - Received raw move 'c7c5' from model mistralai/mistral-small-24b-instruct-2501:free
2025-07-15 00:00:14,663 - INFO - Using default board with active color: b
2025-07-15 00:00:14,663 - INFO - Processed move: Raw 'c7c5' -> Interpreted 'c7c5' -> UCI 'c7c5' -> SAN 'c5'
2025-07-15 00:00:14,668 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:00:16,255 - INFO - Received commentary from openai/gpt-4.1-mini: Black's move 2...c5!? challeng...
2025-07-15 00:00:16,671 - INFO - Calling OpenRouter API with model: nvidia/llama-3.3-nemotron-super-49b-v1
2025-07-15 00:00:16,672 - INFO - Detected 2 move pairs already made in the game
2025-07-15 00:00:16,672 - INFO - OpenRouter Request for nvidia/llama-3.3-nemotron-super-49b-v1 (attempt 1): {"model": "nvidia/llama-3.3-nemotron-super-49b-v1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . p . p p p\n. . . . . . . .\n. . p . p . . .\n. . . . P . . .\n. . . P . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d3 c7c5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:00:17,243 - INFO - OpenRouter response for nvidia/llama-3.3-nemotron-super-49b-v1 (attempt 1): {"id": "gen-1752530416-QtRYd8OSQuSWtZeo3rnu", "model": "nvidia/llama-3.3-nemotron-super-49b-v1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:00:17,243 - INFO - Received raw move 'Nb1c3' from model nvidia/llama-3.3-nemotron-super-49b-v1
2025-07-15 00:00:17,244 - INFO - Removed piece prefix from move: b1c3
2025-07-15 00:00:17,244 - INFO - Using default board with active color: w
2025-07-15 00:00:17,244 - INFO - Processed move: Raw 'Nb1c3' -> Interpreted 'b1c3' -> UCI 'b1c3' -> SAN 'Nc3'
2025-07-15 00:00:17,246 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:00:18,803 - INFO - Received commentary from openai/gpt-4.1-mini: Nc3 develops a knight to a nat...
2025-07-15 00:00:19,250 - INFO - Calling OpenRouter API with model: mistralai/mistral-small-24b-instruct-2501:free
2025-07-15 00:00:19,251 - INFO - Detected 2.5 move pairs already made in the game
2025-07-15 00:00:19,251 - INFO - Model has suffix: base=mistralai/mistral-small-24b-instruct-2501, suffix=:free
2025-07-15 00:00:19,251 - INFO - OpenRouter Request for mistralai/mistral-small-24b-instruct-2501:free (attempt 1): {"model": "mistralai/mistral-small-24b-instruct-2501:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p . p . p p p\n. . . . . . . .\n. . p . p . . .\n. . . . P . . .\n. . N P . . . .\nP P P . . P P P\nR . B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d3 c7c5\n3. b1c3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:00:21,353 - INFO - OpenRouter response for mistralai/mistral-small-24b-instruct-2501:free (attempt 1): {"id": "gen-1752530419-zok0sNqCu6099vZHr6lk", "model": "mistralai/mistral-small-24b-instruct-2501:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:00:21,354 - INFO - Received raw move 'c8f5' from model mistralai/mistral-small-24b-instruct-2501:free
2025-07-15 00:00:21,354 - INFO - Using default board with active color: b
2025-07-15 00:00:21,354 - INFO - Attempting to interpret ambiguous move with API: 'c8f5'
2025-07-15 00:00:21,387 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'c8f5'
2025-07-15 00:00:22,162 - INFO - Interpreted move 'c8f5' as 'c8f5'
2025-07-15 00:00:22,162 - WARNING - Interpreted move 'c8f5' is not legal on the current board
2025-07-15 00:00:22,163 - WARNING - Model mistralai/mistral-small-24b-instruct-2501:free made an invalid move: 'c8f5' that couldn't be interpreted (attempt 1/5)
2025-07-15 00:00:22,163 - INFO - Calling OpenRouter API with model: mistralai/mistral-small-24b-instruct-2501:free
2025-07-15 00:00:22,163 - INFO - Detected 2.5 move pairs already made in the game
2025-07-15 00:00:22,163 - INFO - Model has suffix: base=mistralai/mistral-small-24b-instruct-2501, suffix=:free
2025-07-15 00:00:22,163 - INFO - OpenRouter Request for mistralai/mistral-small-24b-instruct-2501:free (attempt 1): {"model": "mistralai/mistral-small-24b-instruct-2501:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p . p . p p p\n. . . . . . . .\n. . p . p . . .\n. . . . P . . .\n. . N P . . . .\nP P P . . P P P\nR . B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d3 c7c5\n3. b1c3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:00:23,868 - INFO - OpenRouter response for mistralai/mistral-small-24b-instruct-2501:free (attempt 1): {"id": "gen-1752530422-9zLwxb4nWUGoUiNR7Gj3", "model": "mistralai/mistral-small-24b-instruct-2501:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:00:23,869 - INFO - Retry 1: Received raw move 'g8f6' from model mistralai/mistral-small-24b-instruct-2501:free
2025-07-15 00:00:23,870 - INFO - Using default board with active color: b
2025-07-15 00:00:23,870 - INFO - Processed move: Raw 'g8f6' -> Interpreted 'g8f6' -> UCI 'g8f6' -> SAN 'Nf6'
2025-07-15 00:00:23,871 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:00:26,377 - INFO - Received commentary from openai/gpt-4.1-mini: Black's Nf6 develops a knight ...
2025-07-15 00:00:26,379 - INFO - Calling OpenRouter API with model: nvidia/llama-3.3-nemotron-super-49b-v1
2025-07-15 00:00:26,380 - INFO - Detected 3 move pairs already made in the game
2025-07-15 00:00:26,380 - INFO - OpenRouter Request for nvidia/llama-3.3-nemotron-super-49b-v1 (attempt 1): {"model": "nvidia/llama-3.3-nemotron-super-49b-v1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p . p . p p p\n. . . . . n . .\n. . p . p . . .\n. . . . P . . .\n. . N P . . . .\nP P P . . P P P\nR . B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d3 c7c5\n3. b1c3 g8f6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:00:26,708 - INFO - OpenRouter response for nvidia/llama-3.3-nemotron-super-49b-v1 (attempt 1): {"id": "gen-1752530426-y39rkXg2XiNASRyIG1VH", "model": "nvidia/llama-3.3-nemotron-super-49b-v1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:00:26,709 - INFO - Received raw move 'Nb1c3' from model nvidia/llama-3.3-nemotron-super-49b-v1
2025-07-15 00:00:26,710 - INFO - Removed piece prefix from move: b1c3
2025-07-15 00:00:26,710 - INFO - Using default board with active color: w
2025-07-15 00:00:26,710 - ERROR - Failed to convert move 'b1c3': ValueError: Illegal move: b1c3
2025-07-15 00:00:26,710 - WARNING - Move parsing attempt 1/5 failed, retrying...
2025-07-15 00:00:26,711 - INFO - Calling OpenRouter API with model: nvidia/llama-3.3-nemotron-super-49b-v1
2025-07-15 00:00:26,711 - INFO - Detected 3 move pairs already made in the game
2025-07-15 00:00:26,711 - INFO - OpenRouter Request for nvidia/llama-3.3-nemotron-super-49b-v1 (attempt 1): {"model": "nvidia/llama-3.3-nemotron-super-49b-v1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p . p . p p p\n. . . . . n . .\n. . p . p . . .\n. . . . P . . .\n. . N P . . . .\nP P P . . P P P\nR . B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d3 c7c5\n3. b1c3 g8f6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:00:27,096 - INFO - OpenRouter response for nvidia/llama-3.3-nemotron-super-49b-v1 (attempt 1): {"id": "gen-1752530426-XzTHhmEg9ZogKihIlkHg", "model": "nvidia/llama-3.3-nemotron-super-49b-v1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:00:27,099 - INFO - Move retry 1: Received raw move 'h1f3' from model nvidia/llama-3.3-nemotron-super-49b-v1
2025-07-15 00:00:27,100 - INFO - Using default board with active color: w
2025-07-15 00:00:27,100 - INFO - Attempting to interpret ambiguous move with API: 'h1f3'
2025-07-15 00:00:27,138 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'h1f3'
2025-07-15 00:00:28,231 - INFO - Interpreted move 'h1f3' as 'INVALID'
2025-07-15 00:00:28,233 - WARNING - Interpreted move is still invalid during retry 1
2025-07-15 00:00:28,234 - ERROR - Failed to parse 'INVALID' as SAN: invalid san: 'INVALID'
2025-07-15 00:00:28,234 - ERROR - Failed to convert move 'INVALID': InvalidMoveError: invalid san: 'INVALID'
2025-07-15 00:00:28,234 - WARNING - Move parsing attempt 2/5 failed, retrying...
2025-07-15 00:00:28,235 - INFO - Calling OpenRouter API with model: nvidia/llama-3.3-nemotron-super-49b-v1
2025-07-15 00:00:28,235 - INFO - Detected 3 move pairs already made in the game
2025-07-15 00:00:28,235 - INFO - OpenRouter Request for nvidia/llama-3.3-nemotron-super-49b-v1 (attempt 1): {"model": "nvidia/llama-3.3-nemotron-super-49b-v1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p . p . p p p\n. . . . . n . .\n. . p . p . . .\n. . . . P . . .\n. . N P . . . .\nP P P . . P P P\nR . B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d3 c7c5\n3. b1c3 g8f6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:00:28,777 - INFO - OpenRouter response for nvidia/llama-3.3-nemotron-super-49b-v1 (attempt 1): {"id": "gen-1752530428-9n6JNg6CSWE4zDfTjss7", "model": "nvidia/llama-3.3-nemotron-super-49b-v1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:00:28,777 - INFO - Move retry 2: Received raw move 'c2c4' from model nvidia/llama-3.3-nemotron-super-49b-v1
2025-07-15 00:00:28,777 - INFO - Using default board with active color: w
2025-07-15 00:00:28,777 - ERROR - Failed to convert move 'c2c4': ValueError: Illegal move: c2c4
2025-07-15 00:00:28,777 - WARNING - Move parsing attempt 3/5 failed, retrying...
2025-07-15 00:00:28,777 - INFO - Calling OpenRouter API with model: nvidia/llama-3.3-nemotron-super-49b-v1
2025-07-15 00:00:28,778 - INFO - Detected 3 move pairs already made in the game
2025-07-15 00:00:28,778 - INFO - OpenRouter Request for nvidia/llama-3.3-nemotron-super-49b-v1 (attempt 1): {"model": "nvidia/llama-3.3-nemotron-super-49b-v1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p . p . p p p\n. . . . . n . .\n. . p . p . . .\n. . . . P . . .\n. . N P . . . .\nP P P . . P P P\nR . B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d3 c7c5\n3. b1c3 g8f6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:00:29,173 - INFO - OpenRouter response for nvidia/llama-3.3-nemotron-super-49b-v1 (attempt 1): {"id": "gen-1752530428-eoooD4YxI1K5NjIp0KC3", "model": "nvidia/llama-3.3-nemotron-super-49b-v1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:00:29,175 - INFO - Move retry 3: Received raw move 'Nb1d2' from model nvidia/llama-3.3-nemotron-super-49b-v1
2025-07-15 00:00:29,175 - INFO - Removed piece prefix from move: b1d2
2025-07-15 00:00:29,175 - INFO - Using default board with active color: w
2025-07-15 00:00:29,175 - INFO - Attempting to interpret ambiguous move with API: 'b1d2'
2025-07-15 00:00:29,197 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'b1d2'
2025-07-15 00:00:29,895 - INFO - Interpreted move 'b1d2' as 'b1d2'
2025-07-15 00:00:29,895 - WARNING - Interpreted move 'b1d2' is not legal on the current board
2025-07-15 00:00:29,896 - WARNING - Interpreted move is still invalid during retry 3
2025-07-15 00:00:29,896 - ERROR - Failed to parse 'INVALID' as SAN: invalid san: 'INVALID'
2025-07-15 00:00:29,896 - ERROR - Failed to convert move 'INVALID': InvalidMoveError: invalid san: 'INVALID'
2025-07-15 00:00:29,896 - WARNING - Move parsing attempt 4/5 failed, retrying...
2025-07-15 00:00:29,897 - INFO - Calling OpenRouter API with model: nvidia/llama-3.3-nemotron-super-49b-v1
2025-07-15 00:00:29,897 - INFO - Detected 3 move pairs already made in the game
2025-07-15 00:00:29,897 - INFO - OpenRouter Request for nvidia/llama-3.3-nemotron-super-49b-v1 (attempt 1): {"model": "nvidia/llama-3.3-nemotron-super-49b-v1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p . p . p p p\n. . . . . n . .\n. . p . p . . .\n. . . . P . . .\n. . N P . . . .\nP P P . . P P P\nR . B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d3 c7c5\n3. b1c3 g8f6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:00:30,318 - INFO - OpenRouter response for nvidia/llama-3.3-nemotron-super-49b-v1 (attempt 1): {"id": "gen-1752530430-vQJd0SMTicgS5SMtCk8v", "model": "nvidia/llama-3.3-nemotron-super-49b-v1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:00:30,318 - INFO - Move retry 4: Received raw move 'Nf3' from model nvidia/llama-3.3-nemotron-super-49b-v1
2025-07-15 00:00:30,319 - INFO - Using default board with active color: w
2025-07-15 00:00:30,319 - INFO - Converted SAN Nf3 to UCI g1f3
2025-07-15 00:00:30,319 - INFO - Processed move: Raw 'Nf3' -> Interpreted 'g1f3' -> UCI 'g1f3' -> SAN 'Nf3'
2025-07-15 00:00:30,320 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:00:31,538 - INFO - Received commentary from openai/gpt-4.1-mini: 4. Nf3 develops a knight towar...
2025-07-15 00:00:31,822 - INFO - Calling OpenRouter API with model: mistralai/mistral-small-24b-instruct-2501:free
2025-07-15 00:00:31,823 - INFO - Detected 3.5 move pairs already made in the game
2025-07-15 00:00:31,825 - INFO - Model has suffix: base=mistralai/mistral-small-24b-instruct-2501, suffix=:free
2025-07-15 00:00:31,825 - INFO - OpenRouter Request for mistralai/mistral-small-24b-instruct-2501:free (attempt 1): {"model": "mistralai/mistral-small-24b-instruct-2501:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b . r\np p . p . p p p\n. . . . . n . .\n. . p . p . . .\n. . . . P . . .\n. . N P . N . .\nP P P . . P P P\nR . B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d3 c7c5\n3. b1c3 g8f6\n4. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:00:33,668 - INFO - OpenRouter response for mistralai/mistral-small-24b-instruct-2501:free (attempt 1): {"id": "gen-1752530431-ovSp6OhaMyjwmD6BdFG9", "model": "mistralai/mistral-small-24b-instruct-2501:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:00:33,668 - INFO - Received raw move 'c8e6' from model mistralai/mistral-small-24b-instruct-2501:free
2025-07-15 00:00:33,669 - INFO - Using default board with active color: b
2025-07-15 00:00:33,670 - INFO - Attempting to interpret ambiguous move with API: 'c8e6'
2025-07-15 00:00:33,700 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'c8e6'
2025-07-15 00:00:34,995 - INFO - Interpreted move 'c8e6' as 'c8e6'
2025-07-15 00:00:34,995 - WARNING - Interpreted move 'c8e6' is not legal on the current board
2025-07-15 00:00:34,996 - WARNING - Model mistralai/mistral-small-24b-instruct-2501:free made an invalid move: 'c8e6' that couldn't be interpreted (attempt 1/5)
2025-07-15 00:00:34,996 - INFO - Calling OpenRouter API with model: mistralai/mistral-small-24b-instruct-2501:free
2025-07-15 00:00:34,996 - INFO - Detected 3.5 move pairs already made in the game
2025-07-15 00:00:34,996 - INFO - Model has suffix: base=mistralai/mistral-small-24b-instruct-2501, suffix=:free
2025-07-15 00:00:34,996 - INFO - OpenRouter Request for mistralai/mistral-small-24b-instruct-2501:free (attempt 1): {"model": "mistralai/mistral-small-24b-instruct-2501:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b . r\np p . p . p p p\n. . . . . n . .\n. . p . p . . .\n. . . . P . . .\n. . N P . N . .\nP P P . . P P P\nR . B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d3 c7c5\n3. b1c3 g8f6\n4. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:00:37,408 - INFO - OpenRouter response for mistralai/mistral-small-24b-instruct-2501:free (attempt 1): {"id": "gen-1752530435-nWEcj9ZtvyJk6HqKK31y", "model": "mistralai/mistral-small-24b-instruct-2501:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:00:37,409 - INFO - Retry 1: Received raw move 'd7d6' from model mistralai/mistral-small-24b-instruct-2501:free
2025-07-15 00:00:37,410 - INFO - Using default board with active color: b
2025-07-15 00:00:37,410 - INFO - Processed move: Raw 'd7d6' -> Interpreted 'd7d6' -> UCI 'd7d6' -> SAN 'd6'
2025-07-15 00:00:37,412 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:00:38,557 - INFO - Received commentary from openai/gpt-4.1-mini: 4...d6 is a solid move reinfor...
2025-07-15 00:00:38,916 - INFO - Calling OpenRouter API with model: nvidia/llama-3.3-nemotron-super-49b-v1
2025-07-15 00:00:38,916 - INFO - Detected 4 move pairs already made in the game
2025-07-15 00:00:38,916 - INFO - OpenRouter Request for nvidia/llama-3.3-nemotron-super-49b-v1 (attempt 1): {"model": "nvidia/llama-3.3-nemotron-super-49b-v1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p . . . p p p\n. . . p . n . .\n. . p . p . . .\n. . . . P . . .\n. . N P . N . .\nP P P . . P P P\nR . B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d3 c7c5\n3. b1c3 g8f6\n4. g1f3 d7d6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:00:39,284 - INFO - OpenRouter response for nvidia/llama-3.3-nemotron-super-49b-v1 (attempt 1): {"id": "gen-1752530439-qOlLc1DgMl8KbiSzmCLA", "model": "nvidia/llama-3.3-nemotron-super-49b-v1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:00:39,284 - INFO - Received raw move 'Bc1b5' from model nvidia/llama-3.3-nemotron-super-49b-v1
2025-07-15 00:00:39,285 - INFO - Removed piece prefix from move: c1b5
2025-07-15 00:00:39,285 - INFO - Using default board with active color: w
2025-07-15 00:00:39,285 - INFO - Attempting to interpret ambiguous move with API: 'c1b5'
2025-07-15 00:00:39,317 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'c1b5'
2025-07-15 00:00:40,161 - INFO - Interpreted move 'c1b5' as 'INVALID'
2025-07-15 00:00:40,162 - WARNING - Model nvidia/llama-3.3-nemotron-super-49b-v1 made an invalid move: 'Bc1b5' that couldn't be interpreted (attempt 1/5)
2025-07-15 00:00:40,163 - INFO - Calling OpenRouter API with model: nvidia/llama-3.3-nemotron-super-49b-v1
2025-07-15 00:00:40,163 - INFO - Detected 4 move pairs already made in the game
2025-07-15 00:00:40,163 - INFO - OpenRouter Request for nvidia/llama-3.3-nemotron-super-49b-v1 (attempt 1): {"model": "nvidia/llama-3.3-nemotron-super-49b-v1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p . . . p p p\n. . . p . n . .\n. . p . p . . .\n. . . . P . . .\n. . N P . N . .\nP P P . . P P P\nR . B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d3 c7c5\n3. b1c3 g8f6\n4. g1f3 d7d6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:00:40,612 - INFO - OpenRouter response for nvidia/llama-3.3-nemotron-super-49b-v1 (attempt 1): {"id": "gen-1752530440-Ti1QuNqEdwwktA8F3MJw", "model": "nvidia/llama-3.3-nemotron-super-49b-v1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:00:40,612 - INFO - Retry 1: Received raw move 'Nf3roring' from model nvidia/llama-3.3-nemotron-super-49b-v1
2025-07-15 00:00:40,613 - INFO - Using default board with active color: w
2025-07-15 00:00:40,613 - INFO - Attempting to interpret ambiguous move with API: 'Nf3roring'
2025-07-15 00:00:40,644 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'Nf3roring'
2025-07-15 00:00:41,214 - INFO - Interpreted move 'Nf3roring' as 'g1f3'
2025-07-15 00:00:41,217 - ERROR - Failed to convert move 'g1f3': ValueError: Illegal move: g1f3
2025-07-15 00:00:41,217 - WARNING - Move parsing attempt 1/5 failed, retrying...
2025-07-15 00:00:41,218 - INFO - Calling OpenRouter API with model: nvidia/llama-3.3-nemotron-super-49b-v1
2025-07-15 00:00:41,218 - INFO - Detected 4 move pairs already made in the game
2025-07-15 00:00:41,218 - INFO - OpenRouter Request for nvidia/llama-3.3-nemotron-super-49b-v1 (attempt 1): {"model": "nvidia/llama-3.3-nemotron-super-49b-v1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p . . . p p p\n. . . p . n . .\n. . p . p . . .\n. . . . P . . .\n. . N P . N . .\nP P P . . P P P\nR . B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d3 c7c5\n3. b1c3 g8f6\n4. g1f3 d7d6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:00:41,674 - INFO - OpenRouter response for nvidia/llama-3.3-nemotron-super-49b-v1 (attempt 1): {"id": "gen-1752530441-wCAxSf92dVC7LYU3f1Pn", "model": "nvidia/llama-3.3-nemotron-super-49b-v1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:00:41,675 - INFO - Move retry 1: Received raw move 'd3d4' from model nvidia/llama-3.3-nemotron-super-49b-v1
2025-07-15 00:00:41,675 - INFO - Using default board with active color: w
2025-07-15 00:00:41,675 - INFO - Attempting to interpret ambiguous move with API: 'd3d4'
2025-07-15 00:00:41,692 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd3d4'
2025-07-15 00:00:42,270 - INFO - Interpreted move 'd3d4' as 'd3d4'
2025-07-15 00:00:42,271 - WARNING - Interpreted move 'd3d4' is not legal on the current board
2025-07-15 00:00:42,271 - WARNING - Interpreted move is still invalid during retry 1
2025-07-15 00:00:42,272 - ERROR - Failed to parse 'INVALID' as SAN: invalid san: 'INVALID'
2025-07-15 00:00:42,272 - ERROR - Failed to convert move 'INVALID': InvalidMoveError: invalid san: 'INVALID'
2025-07-15 00:00:42,272 - WARNING - Move parsing attempt 2/5 failed, retrying...
2025-07-15 00:00:42,272 - INFO - Calling OpenRouter API with model: nvidia/llama-3.3-nemotron-super-49b-v1
2025-07-15 00:00:42,272 - INFO - Detected 4 move pairs already made in the game
2025-07-15 00:00:42,272 - INFO - OpenRouter Request for nvidia/llama-3.3-nemotron-super-49b-v1 (attempt 1): {"model": "nvidia/llama-3.3-nemotron-super-49b-v1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p . . . p p p\n. . . p . n . .\n. . p . p . . .\n. . . . P . . .\n. . N P . N . .\nP P P . . P P P\nR . B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d3 c7c5\n3. b1c3 g8f6\n4. g1f3 d7d6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:00:42,627 - INFO - OpenRouter response for nvidia/llama-3.3-nemotron-super-49b-v1 (attempt 1): {"id": "gen-1752530442-5uzr8iFAUoVfXodqZzST", "model": "nvidia/llama-3.3-nemotron-super-49b-v1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:00:42,628 - INFO - Move retry 2: Received raw move 'f3g5' from model nvidia/llama-3.3-nemotron-super-49b-v1
2025-07-15 00:00:42,629 - INFO - Using default board with active color: w
2025-07-15 00:00:42,629 - INFO - Attempting to interpret ambiguous move with API: 'f3g5'
2025-07-15 00:00:42,672 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'f3g5'
2025-07-15 00:00:43,934 - INFO - Interpreted move 'f3g5' as 'f3g5'
2025-07-15 00:00:43,935 - WARNING - Interpreted move 'f3g5' is not legal on the current board
2025-07-15 00:00:43,935 - WARNING - Interpreted move is still invalid during retry 2
2025-07-15 00:00:43,936 - ERROR - Failed to parse 'INVALID' as SAN: invalid san: 'INVALID'
2025-07-15 00:00:43,936 - ERROR - Failed to convert move 'INVALID': InvalidMoveError: invalid san: 'INVALID'
2025-07-15 00:00:43,936 - WARNING - Move parsing attempt 3/5 failed, retrying...
2025-07-15 00:00:43,936 - INFO - Calling OpenRouter API with model: nvidia/llama-3.3-nemotron-super-49b-v1
2025-07-15 00:00:43,936 - INFO - Detected 4 move pairs already made in the game
2025-07-15 00:00:43,936 - INFO - OpenRouter Request for nvidia/llama-3.3-nemotron-super-49b-v1 (attempt 1): {"model": "nvidia/llama-3.3-nemotron-super-49b-v1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p . . . p p p\n. . . p . n . .\n. . p . p . . .\n. . . . P . . .\n. . N P . N . .\nP P P . . P P P\nR . B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d3 c7c5\n3. b1c3 g8f6\n4. g1f3 d7d6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:00:44,271 - INFO - OpenRouter response for nvidia/llama-3.3-nemotron-super-49b-v1 (attempt 1): {"id": "gen-1752530444-lTGNpXJJ1WDYBLaDpui6", "model": "nvidia/llama-3.3-nemotron-super-49b-v1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:00:44,272 - INFO - Move retry 3: Received raw move 'd3d4' from model nvidia/llama-3.3-nemotron-super-49b-v1
2025-07-15 00:00:44,272 - INFO - Using default board with active color: w
2025-07-15 00:00:44,279 - INFO - Attempting to interpret ambiguous move with API: 'd3d4'
2025-07-15 00:00:44,303 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd3d4'
2025-07-15 00:00:44,927 - INFO - Interpreted move 'd3d4' as 'd3d4'
2025-07-15 00:00:44,927 - WARNING - Interpreted move 'd3d4' is not legal on the current board
2025-07-15 00:00:44,928 - WARNING - Interpreted move is still invalid during retry 3
2025-07-15 00:00:44,928 - ERROR - Failed to parse 'INVALID' as SAN: invalid san: 'INVALID'
2025-07-15 00:00:44,928 - ERROR - Failed to convert move 'INVALID': InvalidMoveError: invalid san: 'INVALID'
2025-07-15 00:00:44,928 - WARNING - Move parsing attempt 4/5 failed, retrying...
2025-07-15 00:00:44,928 - INFO - Calling OpenRouter API with model: nvidia/llama-3.3-nemotron-super-49b-v1
2025-07-15 00:00:44,928 - INFO - Detected 4 move pairs already made in the game
2025-07-15 00:00:44,928 - INFO - OpenRouter Request for nvidia/llama-3.3-nemotron-super-49b-v1 (attempt 1): {"model": "nvidia/llama-3.3-nemotron-super-49b-v1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p . . . p p p\n. . . p . n . .\n. . p . p . . .\n. . . . P . . .\n. . N P . N . .\nP P P . . P P P\nR . B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d3 c7c5\n3. b1c3 g8f6\n4. g1f3 d7d6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:00:45,326 - INFO - OpenRouter response for nvidia/llama-3.3-nemotron-super-49b-v1 (attempt 1): {"id": "gen-1752530445-89Ln4w6BQzoQZBtdhB4v", "model": "nvidia/llama-3.3-nemotron-super-49b-v1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:00:45,327 - INFO - Move retry 4: Received raw move 'f1c4' from model nvidia/llama-3.3-nemotron-super-49b-v1
2025-07-15 00:00:45,327 - INFO - Using default board with active color: w
2025-07-15 00:00:45,327 - INFO - Attempting to interpret ambiguous move with API: 'f1c4'
2025-07-15 00:00:45,363 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'f1c4'
2025-07-15 00:00:46,026 - INFO - Interpreted move 'f1c4' as 'f1c4'
2025-07-15 00:00:46,026 - WARNING - Interpreted move 'f1c4' is not legal on the current board
2025-07-15 00:00:46,027 - WARNING - Interpreted move is still invalid during retry 4
2025-07-15 00:00:46,027 - ERROR - Failed to parse 'INVALID' as SAN: invalid san: 'INVALID'
2025-07-15 00:00:46,027 - ERROR - Failed to convert move 'INVALID': InvalidMoveError: invalid san: 'INVALID'
2025-07-15 00:00:46,027 - ERROR - Failed to parse/apply move after 5 attempts
2025-07-15 00:00:46,027 - ERROR - Recovery attempt failed: All move parsing retries failed for 'INVALID'
2025-07-15 00:00:46,027 - INFO - Requesting game over explanation from openai/gpt-4.1-mini
2025-07-15 00:00:47,679 - INFO - Received game over explanation: The game ended because nvidia/llama-3.3-nemotron-s...
2025-07-15 00:00:53,504 - INFO - New game created: bytedance-research/ui-tars-72b:free (White) vs qwen/qwen-2.5-7b-instruct (Black)
2025-07-15 00:00:53,510 - INFO - WebSocket connection established for game game_1752530453_3305
2025-07-15 00:00:53,510 - INFO - Starting game: bytedance-research/ui-tars-72b:free vs qwen/qwen-2.5-7b-instruct
2025-07-15 00:00:53,511 - INFO - Calling OpenRouter API with model: bytedance-research/ui-tars-72b:free
2025-07-15 00:00:53,511 - INFO - Model has suffix: base=bytedance-research/ui-tars-72b, suffix=:free
2025-07-15 00:00:53,511 - INFO - OpenRouter Request for bytedance-research/ui-tars-72b:free (attempt 1): {"model": "bytedance-research/ui-tars-72b:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:00:53,625 - ERROR - Error calling model bytedance-research/ui-tars-72b:free (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:00:53,625 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for bytedance-research/ui-tars-72b:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:00:55,126 - INFO - Retry attempt 1/3 for model bytedance-research/ui-tars-72b:free
2025-07-15 00:00:55,126 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:00:55,126 - INFO - OpenRouter Request for bytedance-research/ui-tars-72b:free (attempt 2): {"model": "bytedance-research/ui-tars-72b:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:00:55,259 - ERROR - Error calling model bytedance-research/ui-tars-72b:free (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:00:55,260 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for bytedance-research/ui-tars-72b:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:00:56,761 - INFO - Retry attempt 2/3 for model bytedance-research/ui-tars-72b:free
2025-07-15 00:00:56,761 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:00:56,761 - INFO - Trying base model without suffix: bytedance-research/ui-tars-72b
2025-07-15 00:00:56,761 - INFO - OpenRouter Request for bytedance-research/ui-tars-72b (attempt 3): {"model": "bytedance-research/ui-tars-72b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:00:56,973 - ERROR - Error calling model bytedance-research/ui-tars-72b (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:00:56,973 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for bytedance-research/ui-tars-72b.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:00:58,474 - INFO - Retry attempt 3/3 for model bytedance-research/ui-tars-72b:free
2025-07-15 00:00:58,474 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:00:58,474 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:00:58,474 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as WHITE.\nCurrent board:\n\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:00:59,529 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752530458-E2lCXYRfMwRggwSnw9TM", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:00:59,530 - INFO - Received raw move 'e2e4' from model bytedance-research/ui-tars-72b:free
2025-07-15 00:00:59,530 - INFO - Using default board with active color: w
2025-07-15 00:00:59,530 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-15 00:00:59,530 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:01:00,772 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a strong opening move...
2025-07-15 00:01:01,032 - INFO - Calling OpenRouter API with model: qwen/qwen-2.5-7b-instruct
2025-07-15 00:01:01,032 - INFO - Detected 0.5 move pairs already made in the game
2025-07-15 00:01:01,032 - INFO - OpenRouter Request for qwen/qwen-2.5-7b-instruct (attempt 1): {"model": "qwen/qwen-2.5-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:01:01,667 - INFO - OpenRouter response for qwen/qwen-2.5-7b-instruct (attempt 1): {"id": "gen-1752530461-HwU51pbChduVCCvaHZCa", "model": "qwen/qwen-2.5-7b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:01:01,668 - INFO - Received raw move 'e7e5' from model qwen/qwen-2.5-7b-instruct
2025-07-15 00:01:01,668 - INFO - Using default board with active color: b
2025-07-15 00:01:01,668 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-07-15 00:01:01,668 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:01:02,962 - INFO - Received commentary from openai/gpt-4.1-mini: Black's 1...e5 is a classical ...
2025-07-15 00:01:03,170 - INFO - Calling OpenRouter API with model: bytedance-research/ui-tars-72b:free
2025-07-15 00:01:03,170 - INFO - Detected 1 move pairs already made in the game
2025-07-15 00:01:03,170 - INFO - Model has suffix: base=bytedance-research/ui-tars-72b, suffix=:free
2025-07-15 00:01:03,170 - INFO - OpenRouter Request for bytedance-research/ui-tars-72b:free (attempt 1): {"model": "bytedance-research/ui-tars-72b:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:01:03,344 - ERROR - Error calling model bytedance-research/ui-tars-72b:free (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:01:03,344 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for bytedance-research/ui-tars-72b:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:01:04,845 - INFO - Retry attempt 1/3 for model bytedance-research/ui-tars-72b:free
2025-07-15 00:01:04,846 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:01:04,846 - INFO - OpenRouter Request for bytedance-research/ui-tars-72b:free (attempt 2): {"model": "bytedance-research/ui-tars-72b:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:01:04,963 - ERROR - Error calling model bytedance-research/ui-tars-72b:free (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:01:04,963 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for bytedance-research/ui-tars-72b:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:01:06,465 - INFO - Retry attempt 2/3 for model bytedance-research/ui-tars-72b:free
2025-07-15 00:01:06,465 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:01:06,465 - INFO - Trying base model without suffix: bytedance-research/ui-tars-72b
2025-07-15 00:01:06,465 - INFO - OpenRouter Request for bytedance-research/ui-tars-72b (attempt 3): {"model": "bytedance-research/ui-tars-72b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:01:06,610 - ERROR - Error calling model bytedance-research/ui-tars-72b (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:01:06,610 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for bytedance-research/ui-tars-72b.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:01:08,111 - INFO - Retry attempt 3/3 for model bytedance-research/ui-tars-72b:free
2025-07-15 00:01:08,111 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:01:08,111 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:01:08,111 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as WHITE.\nCurrent board:\n\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:01:09,092 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752530468-kh3y8R4185bKSCImVi4J", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:01:09,093 - INFO - Received raw move 'g1f3' from model bytedance-research/ui-tars-72b:free
2025-07-15 00:01:09,093 - INFO - Using default board with active color: w
2025-07-15 00:01:09,093 - INFO - Processed move: Raw 'g1f3' -> Interpreted 'g1f3' -> UCI 'g1f3' -> SAN 'Nf3'
2025-07-15 00:01:09,097 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:01:10,623 - INFO - Received commentary from openai/gpt-4.1-mini: Nf3 develops a knight towards ...
2025-07-15 00:01:11,101 - INFO - Calling OpenRouter API with model: qwen/qwen-2.5-7b-instruct
2025-07-15 00:01:11,101 - INFO - Detected 1.5 move pairs already made in the game
2025-07-15 00:01:11,101 - INFO - OpenRouter Request for qwen/qwen-2.5-7b-instruct (attempt 1): {"model": "qwen/qwen-2.5-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:01:11,746 - INFO - OpenRouter response for qwen/qwen-2.5-7b-instruct (attempt 1): {"id": "gen-1752530471-u1v1RJlsr9uTLw7sFFPo", "model": "qwen/qwen-2.5-7b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:01:11,746 - INFO - Received raw move 'e7e6' from model qwen/qwen-2.5-7b-instruct
2025-07-15 00:01:11,746 - INFO - Using default board with active color: b
2025-07-15 00:01:11,746 - ERROR - Failed to convert move 'e7e6': ValueError: Illegal move: e7e6
2025-07-15 00:01:11,746 - WARNING - Move parsing attempt 1/5 failed, retrying...
2025-07-15 00:01:11,746 - INFO - Calling OpenRouter API with model: qwen/qwen-2.5-7b-instruct
2025-07-15 00:01:11,746 - INFO - Detected 1.5 move pairs already made in the game
2025-07-15 00:01:11,746 - INFO - OpenRouter Request for qwen/qwen-2.5-7b-instruct (attempt 1): {"model": "qwen/qwen-2.5-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:01:12,304 - INFO - OpenRouter response for qwen/qwen-2.5-7b-instruct (attempt 1): {"id": "gen-1752530471-vbw2o5ltCEmjUppY8RnS", "model": "qwen/qwen-2.5-7b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:01:12,304 - INFO - Move retry 1: Received raw move 'e7e6' from model qwen/qwen-2.5-7b-instruct
2025-07-15 00:01:12,304 - INFO - Using default board with active color: b
2025-07-15 00:01:12,305 - ERROR - Failed to convert move 'e7e6': ValueError: Illegal move: e7e6
2025-07-15 00:01:12,305 - WARNING - Move parsing attempt 2/5 failed, retrying...
2025-07-15 00:01:12,305 - INFO - Calling OpenRouter API with model: qwen/qwen-2.5-7b-instruct
2025-07-15 00:01:12,305 - INFO - Detected 1.5 move pairs already made in the game
2025-07-15 00:01:12,305 - INFO - OpenRouter Request for qwen/qwen-2.5-7b-instruct (attempt 1): {"model": "qwen/qwen-2.5-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:01:13,188 - INFO - OpenRouter response for qwen/qwen-2.5-7b-instruct (attempt 1): {"id": "gen-1752530472-fTvag6sEwRsZTdLrnfoi", "model": "qwen/qwen-2.5-7b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:01:13,189 - INFO - Move retry 2: Received raw move 'e7e5' from model qwen/qwen-2.5-7b-instruct
2025-07-15 00:01:13,192 - INFO - Using default board with active color: b
2025-07-15 00:01:13,192 - ERROR - Failed to convert move 'e7e5': ValueError: Illegal move: e7e5
2025-07-15 00:01:13,193 - WARNING - Move parsing attempt 3/5 failed, retrying...
2025-07-15 00:01:13,193 - INFO - Calling OpenRouter API with model: qwen/qwen-2.5-7b-instruct
2025-07-15 00:01:13,193 - INFO - Detected 1.5 move pairs already made in the game
2025-07-15 00:01:13,193 - INFO - OpenRouter Request for qwen/qwen-2.5-7b-instruct (attempt 1): {"model": "qwen/qwen-2.5-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:01:14,142 - INFO - OpenRouter response for qwen/qwen-2.5-7b-instruct (attempt 1): {"id": "gen-1752530473-oe6TuDPTrKOVJNDbezi5", "model": "qwen/qwen-2.5-7b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:01:14,143 - INFO - Move retry 3: Received raw move 'e7e5' from model qwen/qwen-2.5-7b-instruct
2025-07-15 00:01:14,143 - INFO - Using default board with active color: b
2025-07-15 00:01:14,143 - ERROR - Failed to convert move 'e7e5': ValueError: Illegal move: e7e5
2025-07-15 00:01:14,143 - WARNING - Move parsing attempt 4/5 failed, retrying...
2025-07-15 00:01:14,143 - INFO - Calling OpenRouter API with model: qwen/qwen-2.5-7b-instruct
2025-07-15 00:01:14,144 - INFO - Detected 1.5 move pairs already made in the game
2025-07-15 00:01:14,144 - INFO - OpenRouter Request for qwen/qwen-2.5-7b-instruct (attempt 1): {"model": "qwen/qwen-2.5-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:01:15,059 - INFO - OpenRouter response for qwen/qwen-2.5-7b-instruct (attempt 1): {"id": "gen-1752530474-8SrnWxsEgZ3S78xdq853", "model": "qwen/qwen-2.5-7b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:01:15,059 - INFO - Move retry 4: Received raw move 'e7e5' from model qwen/qwen-2.5-7b-instruct
2025-07-15 00:01:15,059 - INFO - Using default board with active color: b
2025-07-15 00:01:15,059 - ERROR - Failed to convert move 'e7e5': ValueError: Illegal move: e7e5
2025-07-15 00:01:15,059 - ERROR - Failed to parse/apply move after 5 attempts
2025-07-15 00:01:15,059 - ERROR - Recovery attempt failed: All move parsing retries failed for 'e7e5'
2025-07-15 00:01:15,060 - INFO - Requesting game over explanation from openai/gpt-4.1-mini
2025-07-15 00:01:16,393 - INFO - Received game over explanation: qwen/qwen-2.5-7b-instruct lost because it tried to...
2025-07-15 00:02:00,505 - INFO - New game created: deepseek/deepseek-r1-zero:free (White) vs mistral/ministral-8b (Black)
2025-07-15 00:02:00,513 - INFO - WebSocket connection established for game game_1752530520_3270
2025-07-15 00:02:00,514 - INFO - Starting game: deepseek/deepseek-r1-zero:free vs mistral/ministral-8b
2025-07-15 00:02:00,517 - INFO - Calling OpenRouter API with model: deepseek/deepseek-r1-zero:free
2025-07-15 00:02:00,518 - INFO - Model has suffix: base=deepseek/deepseek-r1-zero, suffix=:free
2025-07-15 00:02:00,518 - INFO - OpenRouter Request for deepseek/deepseek-r1-zero:free (attempt 1): {"model": "deepseek/deepseek-r1-zero:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:02:00,835 - ERROR - Error calling model deepseek/deepseek-r1-zero:free (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:02:00,835 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for deepseek/deepseek-r1-zero:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:02:02,336 - INFO - Retry attempt 1/3 for model deepseek/deepseek-r1-zero:free
2025-07-15 00:02:02,336 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:02:02,336 - INFO - OpenRouter Request for deepseek/deepseek-r1-zero:free (attempt 2): {"model": "deepseek/deepseek-r1-zero:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:02:02,504 - ERROR - Error calling model deepseek/deepseek-r1-zero:free (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:02:02,504 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for deepseek/deepseek-r1-zero:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:02:04,006 - INFO - Retry attempt 2/3 for model deepseek/deepseek-r1-zero:free
2025-07-15 00:02:04,008 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:02:04,008 - INFO - Trying base model without suffix: deepseek/deepseek-r1-zero
2025-07-15 00:02:04,008 - INFO - OpenRouter Request for deepseek/deepseek-r1-zero (attempt 3): {"model": "deepseek/deepseek-r1-zero", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:02:04,316 - ERROR - Error calling model deepseek/deepseek-r1-zero (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:02:04,316 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for deepseek/deepseek-r1-zero.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:02:05,817 - INFO - Retry attempt 3/3 for model deepseek/deepseek-r1-zero:free
2025-07-15 00:02:05,817 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:02:05,817 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:02:05,817 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as WHITE.\nCurrent board:\n\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:02:06,474 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752530525-Bxn3NnscZ7U3pATJR2vt", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:02:06,475 - INFO - Received raw move 'e2e4' from model deepseek/deepseek-r1-zero:free
2025-07-15 00:02:06,475 - INFO - Using default board with active color: w
2025-07-15 00:02:06,475 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-15 00:02:06,476 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:02:07,609 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a strong and classic ...
2025-07-15 00:02:07,979 - INFO - Calling OpenRouter API with model: mistral/ministral-8b
2025-07-15 00:02:07,980 - INFO - Detected 0.5 move pairs already made in the game
2025-07-15 00:02:07,980 - INFO - OpenRouter Request for mistral/ministral-8b (attempt 1): {"model": "mistral/ministral-8b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:02:08,918 - INFO - OpenRouter response for mistral/ministral-8b (attempt 1): {"id": "gen-1752530528-lYBB0UnRVEuafEnjMW3m", "model": "mistralai/ministral-8b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:02:08,919 - INFO - Received raw move 'c7c5' from model mistral/ministral-8b
2025-07-15 00:02:08,919 - INFO - Using default board with active color: b
2025-07-15 00:02:08,920 - INFO - Processed move: Raw 'c7c5' -> Interpreted 'c7c5' -> UCI 'c7c5' -> SAN 'c5'
2025-07-15 00:02:08,921 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:02:09,919 - INFO - Received commentary from openai/gpt-4.1-mini: 1... c5 is a good Sicilian Def...
2025-07-15 00:02:09,921 - INFO - Calling OpenRouter API with model: deepseek/deepseek-r1-zero:free
2025-07-15 00:02:09,922 - INFO - Detected 1 move pairs already made in the game
2025-07-15 00:02:09,922 - INFO - Model has suffix: base=deepseek/deepseek-r1-zero, suffix=:free
2025-07-15 00:02:09,922 - INFO - OpenRouter Request for deepseek/deepseek-r1-zero:free (attempt 1): {"model": "deepseek/deepseek-r1-zero:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . p p p p p\n. . . . . . . .\n. . p . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 c7c5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:02:10,060 - ERROR - Error calling model deepseek/deepseek-r1-zero:free (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:02:10,061 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for deepseek/deepseek-r1-zero:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:02:11,562 - INFO - Retry attempt 1/3 for model deepseek/deepseek-r1-zero:free
2025-07-15 00:02:11,562 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:02:11,562 - INFO - OpenRouter Request for deepseek/deepseek-r1-zero:free (attempt 2): {"model": "deepseek/deepseek-r1-zero:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:02:11,685 - ERROR - Error calling model deepseek/deepseek-r1-zero:free (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:02:11,686 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for deepseek/deepseek-r1-zero:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:02:13,187 - INFO - Retry attempt 2/3 for model deepseek/deepseek-r1-zero:free
2025-07-15 00:02:13,187 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:02:13,187 - INFO - Trying base model without suffix: deepseek/deepseek-r1-zero
2025-07-15 00:02:13,187 - INFO - OpenRouter Request for deepseek/deepseek-r1-zero (attempt 3): {"model": "deepseek/deepseek-r1-zero", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:02:13,303 - ERROR - Error calling model deepseek/deepseek-r1-zero (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:02:13,304 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for deepseek/deepseek-r1-zero.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:02:14,805 - INFO - Retry attempt 3/3 for model deepseek/deepseek-r1-zero:free
2025-07-15 00:02:14,805 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:02:14,805 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:02:14,806 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as WHITE.\nCurrent board:\n\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . p p p p p\n. . . . . . . .\n. . p . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 c7c5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:02:15,385 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752530534-kV62yg7Ba7B9UZFf75VF", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:02:15,386 - INFO - Received raw move 'g1f3' from model deepseek/deepseek-r1-zero:free
2025-07-15 00:02:15,386 - INFO - Using default board with active color: w
2025-07-15 00:02:15,386 - INFO - Processed move: Raw 'g1f3' -> Interpreted 'g1f3' -> UCI 'g1f3' -> SAN 'Nf3'
2025-07-15 00:02:15,387 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:02:16,770 - INFO - Received commentary from openai/gpt-4.1-mini: 2. Nf3 develops a knight towar...
2025-07-15 00:02:16,889 - INFO - Calling OpenRouter API with model: mistral/ministral-8b
2025-07-15 00:02:16,889 - INFO - Detected 1.5 move pairs already made in the game
2025-07-15 00:02:16,891 - INFO - OpenRouter Request for mistral/ministral-8b (attempt 1): {"model": "mistral/ministral-8b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p . p p p p p\n. . . . . . . .\n. . p . . . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 c7c5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:02:17,199 - INFO - OpenRouter response for mistral/ministral-8b (attempt 1): {"id": "gen-1752530536-FVNiOQ4wzAt7xzjloutF", "model": "mistralai/ministral-8b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:02:17,199 - INFO - Received raw move '...d7d5' from model mistral/ministral-8b
2025-07-15 00:02:17,200 - INFO - Using default board with active color: b
2025-07-15 00:02:17,200 - INFO - Processed move: Raw '...d7d5' -> Interpreted 'd7d5' -> UCI 'd7d5' -> SAN 'd5'
2025-07-15 00:02:17,200 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:02:18,592 - INFO - Received commentary from openai/gpt-4.1-mini: 2... d5!? challenges White's c...
2025-07-15 00:02:18,703 - INFO - Calling OpenRouter API with model: deepseek/deepseek-r1-zero:free
2025-07-15 00:02:18,703 - INFO - Detected 2 move pairs already made in the game
2025-07-15 00:02:18,703 - INFO - Model has suffix: base=deepseek/deepseek-r1-zero, suffix=:free
2025-07-15 00:02:18,703 - INFO - OpenRouter Request for deepseek/deepseek-r1-zero:free (attempt 1): {"model": "deepseek/deepseek-r1-zero:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . . p p p p\n. . . . . . . .\n. . p p . . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 c7c5\n2. g1f3 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:02:18,848 - ERROR - Error calling model deepseek/deepseek-r1-zero:free (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:02:18,850 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for deepseek/deepseek-r1-zero:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:02:20,352 - INFO - Retry attempt 1/3 for model deepseek/deepseek-r1-zero:free
2025-07-15 00:02:20,352 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:02:20,352 - INFO - OpenRouter Request for deepseek/deepseek-r1-zero:free (attempt 2): {"model": "deepseek/deepseek-r1-zero:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:02:20,494 - ERROR - Error calling model deepseek/deepseek-r1-zero:free (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:02:20,495 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for deepseek/deepseek-r1-zero:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:02:21,996 - INFO - Retry attempt 2/3 for model deepseek/deepseek-r1-zero:free
2025-07-15 00:02:21,997 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:02:21,997 - INFO - Trying base model without suffix: deepseek/deepseek-r1-zero
2025-07-15 00:02:21,997 - INFO - OpenRouter Request for deepseek/deepseek-r1-zero (attempt 3): {"model": "deepseek/deepseek-r1-zero", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:02:22,226 - ERROR - Error calling model deepseek/deepseek-r1-zero (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:02:22,227 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for deepseek/deepseek-r1-zero.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:02:23,728 - INFO - Retry attempt 3/3 for model deepseek/deepseek-r1-zero:free
2025-07-15 00:02:23,729 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:02:23,729 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:02:23,730 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as WHITE.\nCurrent board:\n\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . . p p p p\n. . . . . . . .\n. . p p . . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 c7c5\n2. g1f3 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:02:24,385 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752530543-ptoztBecaIfUDW19sk7J", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:02:24,385 - INFO - Received raw move 'e4d5' from model deepseek/deepseek-r1-zero:free
2025-07-15 00:02:24,385 - INFO - Using default board with active color: w
2025-07-15 00:02:24,385 - INFO - Attempting to interpret ambiguous move with API: 'e4d5'
2025-07-15 00:02:24,420 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e4d5'
2025-07-15 00:02:24,954 - INFO - Interpreted move 'e4d5' as 'INVALID'
2025-07-15 00:02:24,956 - WARNING - Model deepseek/deepseek-r1-zero:free made an invalid move: 'e4d5' that couldn't be interpreted (attempt 1/5)
2025-07-15 00:02:24,959 - INFO - Calling OpenRouter API with model: deepseek/deepseek-r1-zero:free
2025-07-15 00:02:24,960 - INFO - Detected 2 move pairs already made in the game
2025-07-15 00:02:24,960 - INFO - Model has suffix: base=deepseek/deepseek-r1-zero, suffix=:free
2025-07-15 00:02:24,960 - INFO - OpenRouter Request for deepseek/deepseek-r1-zero:free (attempt 1): {"model": "deepseek/deepseek-r1-zero:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . . p p p p\n. . . . . . . .\n. . p p . . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 c7c5\n2. g1f3 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:02:25,118 - ERROR - Error calling model deepseek/deepseek-r1-zero:free (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:02:25,119 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for deepseek/deepseek-r1-zero:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:02:26,620 - INFO - Retry attempt 1/3 for model deepseek/deepseek-r1-zero:free
2025-07-15 00:02:26,620 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:02:26,620 - INFO - OpenRouter Request for deepseek/deepseek-r1-zero:free (attempt 2): {"model": "deepseek/deepseek-r1-zero:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:02:26,746 - ERROR - Error calling model deepseek/deepseek-r1-zero:free (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:02:26,746 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for deepseek/deepseek-r1-zero:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:02:28,247 - INFO - Retry attempt 2/3 for model deepseek/deepseek-r1-zero:free
2025-07-15 00:02:28,248 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:02:28,248 - INFO - Trying base model without suffix: deepseek/deepseek-r1-zero
2025-07-15 00:02:28,249 - INFO - OpenRouter Request for deepseek/deepseek-r1-zero (attempt 3): {"model": "deepseek/deepseek-r1-zero", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:02:28,383 - ERROR - Error calling model deepseek/deepseek-r1-zero (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:02:28,384 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for deepseek/deepseek-r1-zero.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:02:29,885 - INFO - Retry attempt 3/3 for model deepseek/deepseek-r1-zero:free
2025-07-15 00:02:29,885 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:02:29,885 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:02:29,885 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as WHITE.\nCurrent board:\n\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . . p p p p\n. . . . . . . .\n. . p p . . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 c7c5\n2. g1f3 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:02:30,451 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752530550-ndZgaEAk5SbrYf9we8hL", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:02:30,451 - INFO - Retry 1: Received raw move 'e4d5' from model deepseek/deepseek-r1-zero:free
2025-07-15 00:02:30,452 - INFO - Using default board with active color: w
2025-07-15 00:02:30,452 - INFO - Attempting to interpret ambiguous move with API: 'e4d5'
2025-07-15 00:02:30,476 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e4d5'
2025-07-15 00:02:31,113 - INFO - Interpreted move 'e4d5' as 'e4d5'
2025-07-15 00:02:31,114 - WARNING - Interpreted move 'e4d5' is not legal on the current board
2025-07-15 00:02:31,114 - WARNING - Model deepseek/deepseek-r1-zero:free made an invalid move: 'e4d5' that couldn't be interpreted (attempt 2/5)
2025-07-15 00:02:31,115 - INFO - Calling OpenRouter API with model: deepseek/deepseek-r1-zero:free
2025-07-15 00:02:31,115 - INFO - Detected 2 move pairs already made in the game
2025-07-15 00:02:31,115 - INFO - Model has suffix: base=deepseek/deepseek-r1-zero, suffix=:free
2025-07-15 00:02:31,115 - INFO - OpenRouter Request for deepseek/deepseek-r1-zero:free (attempt 1): {"model": "deepseek/deepseek-r1-zero:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . . p p p p\n. . . . . . . .\n. . p p . . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 c7c5\n2. g1f3 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:02:31,245 - ERROR - Error calling model deepseek/deepseek-r1-zero:free (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:02:31,246 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for deepseek/deepseek-r1-zero:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:02:32,747 - INFO - Retry attempt 1/3 for model deepseek/deepseek-r1-zero:free
2025-07-15 00:02:32,748 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:02:32,748 - INFO - OpenRouter Request for deepseek/deepseek-r1-zero:free (attempt 2): {"model": "deepseek/deepseek-r1-zero:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:02:32,877 - ERROR - Error calling model deepseek/deepseek-r1-zero:free (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:02:32,878 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for deepseek/deepseek-r1-zero:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:02:34,379 - INFO - Retry attempt 2/3 for model deepseek/deepseek-r1-zero:free
2025-07-15 00:02:34,379 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:02:34,379 - INFO - Trying base model without suffix: deepseek/deepseek-r1-zero
2025-07-15 00:02:34,379 - INFO - OpenRouter Request for deepseek/deepseek-r1-zero (attempt 3): {"model": "deepseek/deepseek-r1-zero", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:02:34,512 - ERROR - Error calling model deepseek/deepseek-r1-zero (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:02:34,512 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for deepseek/deepseek-r1-zero.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:02:36,014 - INFO - Retry attempt 3/3 for model deepseek/deepseek-r1-zero:free
2025-07-15 00:02:36,014 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:02:36,014 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:02:36,014 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as WHITE.\nCurrent board:\n\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . . p p p p\n. . . . . . . .\n. . p p . . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 c7c5\n2. g1f3 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:02:36,643 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752530556-uFc3ppR2YftVVPp0tMLW", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:02:36,644 - INFO - Retry 2: Received raw move 'e4d5' from model deepseek/deepseek-r1-zero:free
2025-07-15 00:02:36,644 - INFO - Using default board with active color: w
2025-07-15 00:02:36,644 - INFO - Attempting to interpret ambiguous move with API: 'e4d5'
2025-07-15 00:02:36,663 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e4d5'
2025-07-15 00:02:37,317 - INFO - Interpreted move 'e4d5' as 'e4d5'
2025-07-15 00:02:37,317 - WARNING - Interpreted move 'e4d5' is not legal on the current board
2025-07-15 00:02:37,318 - WARNING - Model deepseek/deepseek-r1-zero:free made an invalid move: 'e4d5' that couldn't be interpreted (attempt 3/5)
2025-07-15 00:02:37,319 - INFO - Calling OpenRouter API with model: deepseek/deepseek-r1-zero:free
2025-07-15 00:02:37,319 - INFO - Detected 2 move pairs already made in the game
2025-07-15 00:02:37,319 - INFO - Model has suffix: base=deepseek/deepseek-r1-zero, suffix=:free
2025-07-15 00:02:37,319 - INFO - OpenRouter Request for deepseek/deepseek-r1-zero:free (attempt 1): {"model": "deepseek/deepseek-r1-zero:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . . p p p p\n. . . . . . . .\n. . p p . . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 c7c5\n2. g1f3 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:02:37,443 - ERROR - Error calling model deepseek/deepseek-r1-zero:free (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:02:37,444 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for deepseek/deepseek-r1-zero:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:02:38,945 - INFO - Retry attempt 1/3 for model deepseek/deepseek-r1-zero:free
2025-07-15 00:02:38,945 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:02:38,945 - INFO - OpenRouter Request for deepseek/deepseek-r1-zero:free (attempt 2): {"model": "deepseek/deepseek-r1-zero:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:02:39,204 - ERROR - Error calling model deepseek/deepseek-r1-zero:free (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:02:39,204 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for deepseek/deepseek-r1-zero:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:02:40,705 - INFO - Retry attempt 2/3 for model deepseek/deepseek-r1-zero:free
2025-07-15 00:02:40,706 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:02:40,706 - INFO - Trying base model without suffix: deepseek/deepseek-r1-zero
2025-07-15 00:02:40,706 - INFO - OpenRouter Request for deepseek/deepseek-r1-zero (attempt 3): {"model": "deepseek/deepseek-r1-zero", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:02:40,844 - ERROR - Error calling model deepseek/deepseek-r1-zero (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:02:40,844 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for deepseek/deepseek-r1-zero.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:02:42,345 - INFO - Retry attempt 3/3 for model deepseek/deepseek-r1-zero:free
2025-07-15 00:02:42,345 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:02:42,345 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:02:42,345 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as WHITE.\nCurrent board:\n\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . . p p p p\n. . . . . . . .\n. . p p . . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 c7c5\n2. g1f3 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:02:42,854 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752530562-9gUl33qvJWDqCmIVVytA", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:02:42,855 - INFO - Retry 3: Received raw move 'e4d5' from model deepseek/deepseek-r1-zero:free
2025-07-15 00:02:42,855 - INFO - Using default board with active color: w
2025-07-15 00:02:42,855 - INFO - Attempting to interpret ambiguous move with API: 'e4d5'
2025-07-15 00:02:42,879 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e4d5'
2025-07-15 00:02:43,345 - INFO - Interpreted move 'e4d5' as 'INVALID'
2025-07-15 00:02:43,345 - WARNING - Model deepseek/deepseek-r1-zero:free made an invalid move: 'e4d5' that couldn't be interpreted (attempt 4/5)
2025-07-15 00:02:43,346 - INFO - Calling OpenRouter API with model: deepseek/deepseek-r1-zero:free
2025-07-15 00:02:43,346 - INFO - Detected 2 move pairs already made in the game
2025-07-15 00:02:43,346 - INFO - Model has suffix: base=deepseek/deepseek-r1-zero, suffix=:free
2025-07-15 00:02:43,346 - INFO - OpenRouter Request for deepseek/deepseek-r1-zero:free (attempt 1): {"model": "deepseek/deepseek-r1-zero:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . . p p p p\n. . . . . . . .\n. . p p . . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 c7c5\n2. g1f3 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:02:43,494 - ERROR - Error calling model deepseek/deepseek-r1-zero:free (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:02:43,494 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for deepseek/deepseek-r1-zero:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:02:44,996 - INFO - Retry attempt 1/3 for model deepseek/deepseek-r1-zero:free
2025-07-15 00:02:44,996 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:02:44,996 - INFO - OpenRouter Request for deepseek/deepseek-r1-zero:free (attempt 2): {"model": "deepseek/deepseek-r1-zero:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:02:45,191 - ERROR - Error calling model deepseek/deepseek-r1-zero:free (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:02:45,191 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for deepseek/deepseek-r1-zero:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:02:46,692 - INFO - Retry attempt 2/3 for model deepseek/deepseek-r1-zero:free
2025-07-15 00:02:46,693 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:02:46,693 - INFO - Trying base model without suffix: deepseek/deepseek-r1-zero
2025-07-15 00:02:46,693 - INFO - OpenRouter Request for deepseek/deepseek-r1-zero (attempt 3): {"model": "deepseek/deepseek-r1-zero", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:02:46,834 - ERROR - Error calling model deepseek/deepseek-r1-zero (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:02:46,834 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for deepseek/deepseek-r1-zero.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:02:48,335 - INFO - Retry attempt 3/3 for model deepseek/deepseek-r1-zero:free
2025-07-15 00:02:48,336 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:02:48,336 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:02:48,336 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as WHITE.\nCurrent board:\n\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . . p p p p\n. . . . . . . .\n. . p p . . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 c7c5\n2. g1f3 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:02:48,929 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752530568-OuePIbmcnZnfzVw0qMrz", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:02:48,930 - INFO - Retry 4: Received raw move 'e4d5' from model deepseek/deepseek-r1-zero:free
2025-07-15 00:02:48,930 - INFO - Using default board with active color: w
2025-07-15 00:02:48,930 - INFO - Attempting to interpret ambiguous move with API: 'e4d5'
2025-07-15 00:02:48,956 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e4d5'
2025-07-15 00:02:49,496 - INFO - Interpreted move 'e4d5' as 'INVALID'
2025-07-15 00:02:49,497 - WARNING - Model deepseek/deepseek-r1-zero:free made an invalid move: 'e4d5' that couldn't be interpreted (attempt 5/5)
2025-07-15 00:02:49,497 - ERROR - Model deepseek/deepseek-r1-zero:free failed to make a valid move after 5 attempts
2025-07-15 00:02:49,497 - INFO - Requesting game over explanation from openai/gpt-4.1-mini
2025-07-15 00:02:50,898 - INFO - Received game over explanation: Deepseek tried to make a move, but the way it was ...
2025-07-15 00:03:08,306 - INFO - New game created: anthropic/claude-3.5-sonnet-20240620 (White) vs cohere/command-r-plus-08-2024 (Black)
2025-07-15 00:03:08,313 - INFO - WebSocket connection established for game game_1752530588_6827
2025-07-15 00:03:08,313 - INFO - Starting game: anthropic/claude-3.5-sonnet-20240620 vs cohere/command-r-plus-08-2024
2025-07-15 00:03:08,316 - INFO - Calling OpenRouter API with model: anthropic/claude-3.5-sonnet-20240620
2025-07-15 00:03:08,317 - INFO - OpenRouter Request for anthropic/claude-3.5-sonnet-20240620 (attempt 1): {"model": "anthropic/claude-3.5-sonnet-20240620", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:03:09,378 - INFO - OpenRouter response for anthropic/claude-3.5-sonnet-20240620 (attempt 1): {"id": "gen-1752530588-CWQUdpK1SJiRHfV4gW5f", "model": "anthropic/claude-3.5-sonnet-20240620", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:03:09,379 - INFO - Received raw move 'e2e4' from model anthropic/claude-3.5-sonnet-20240620
2025-07-15 00:03:09,380 - INFO - Using default board with active color: w
2025-07-15 00:03:09,380 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-15 00:03:09,381 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:03:11,209 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a strong opening move...
2025-07-15 00:03:11,385 - INFO - Calling OpenRouter API with model: cohere/command-r-plus-08-2024
2025-07-15 00:03:11,386 - INFO - Detected 0.5 move pairs already made in the game
2025-07-15 00:03:11,386 - INFO - OpenRouter Request for cohere/command-r-plus-08-2024 (attempt 1): {"model": "cohere/command-r-plus-08-2024", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:03:12,277 - INFO - OpenRouter response for cohere/command-r-plus-08-2024 (attempt 1): {"id": "gen-1752530591-Ro0BqV3mOYmo65ACdDNS", "model": "cohere/command-r-plus-08-2024", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:03:12,277 - INFO - Received raw move 'e7e6' from model cohere/command-r-plus-08-2024
2025-07-15 00:03:12,277 - INFO - Using default board with active color: b
2025-07-15 00:03:12,277 - INFO - Processed move: Raw 'e7e6' -> Interpreted 'e7e6' -> UCI 'e7e6' -> SAN 'e6'
2025-07-15 00:03:12,278 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:03:13,288 - INFO - Received commentary from openai/gpt-4.1-mini: Black's 1...e6 is a solid Fren...
2025-07-15 00:03:13,780 - INFO - Calling OpenRouter API with model: anthropic/claude-3.5-sonnet-20240620
2025-07-15 00:03:13,780 - INFO - Detected 1 move pairs already made in the game
2025-07-15 00:03:13,780 - INFO - OpenRouter Request for anthropic/claude-3.5-sonnet-20240620 (attempt 1): {"model": "anthropic/claude-3.5-sonnet-20240620", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . p . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:03:14,863 - INFO - OpenRouter response for anthropic/claude-3.5-sonnet-20240620 (attempt 1): {"id": "gen-1752530593-mo7AehKXNFvZBlb6mwEp", "model": "anthropic/claude-3.5-sonnet-20240620", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:03:14,864 - INFO - Received raw move 'd2d4' from model anthropic/claude-3.5-sonnet-20240620
2025-07-15 00:03:14,864 - INFO - Using default board with active color: w
2025-07-15 00:03:14,867 - INFO - Processed move: Raw 'd2d4' -> Interpreted 'd2d4' -> UCI 'd2d4' -> SAN 'd4'
2025-07-15 00:03:14,868 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:03:15,964 - INFO - Received commentary from openai/gpt-4.1-mini: 2. d4 is a principled move ! s...
2025-07-15 00:03:16,370 - INFO - Calling OpenRouter API with model: cohere/command-r-plus-08-2024
2025-07-15 00:03:16,370 - INFO - Detected 1.5 move pairs already made in the game
2025-07-15 00:03:16,370 - INFO - OpenRouter Request for cohere/command-r-plus-08-2024 (attempt 1): {"model": "cohere/command-r-plus-08-2024", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . p . . .\n. . . . . . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e6\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:03:17,387 - INFO - OpenRouter response for cohere/command-r-plus-08-2024 (attempt 1): {"id": "gen-1752530596-MsYdtc7o17VAE9a2bvn1", "model": "cohere/command-r-plus-08-2024", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:03:17,388 - INFO - Received raw move 'd7d5' from model cohere/command-r-plus-08-2024
2025-07-15 00:03:17,389 - INFO - Using default board with active color: b
2025-07-15 00:03:17,389 - INFO - Processed move: Raw 'd7d5' -> Interpreted 'd7d5' -> UCI 'd7d5' -> SAN 'd5'
2025-07-15 00:03:17,392 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:03:18,850 - INFO - Received commentary from openai/gpt-4.1-mini: Black's 2...d5 challenges Whit...
2025-07-15 00:03:18,895 - INFO - Calling OpenRouter API with model: anthropic/claude-3.5-sonnet-20240620
2025-07-15 00:03:18,896 - INFO - Detected 2 move pairs already made in the game
2025-07-15 00:03:18,896 - INFO - OpenRouter Request for anthropic/claude-3.5-sonnet-20240620 (attempt 1): {"model": "anthropic/claude-3.5-sonnet-20240620", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . . p . . .\n. . . p . . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e6\n2. d2d4 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:03:19,999 - INFO - OpenRouter response for anthropic/claude-3.5-sonnet-20240620 (attempt 1): {"id": "gen-1752530599-gSv8rIOoF963IBsEWTzk", "model": "anthropic/claude-3.5-sonnet-20240620", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:03:20,000 - INFO - Received raw move 'e4d5' from model anthropic/claude-3.5-sonnet-20240620
2025-07-15 00:03:20,000 - INFO - Using default board with active color: w
2025-07-15 00:03:20,000 - INFO - Attempting to interpret ambiguous move with API: 'e4d5'
2025-07-15 00:03:20,025 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e4d5'
2025-07-15 00:03:20,606 - INFO - Interpreted move 'e4d5' as 'INVALID'
2025-07-15 00:03:20,607 - WARNING - Model anthropic/claude-3.5-sonnet-20240620 made an invalid move: 'e4d5' that couldn't be interpreted (attempt 1/5)
2025-07-15 00:03:20,607 - INFO - Calling OpenRouter API with model: anthropic/claude-3.5-sonnet-20240620
2025-07-15 00:03:20,607 - INFO - Detected 2 move pairs already made in the game
2025-07-15 00:03:20,607 - INFO - OpenRouter Request for anthropic/claude-3.5-sonnet-20240620 (attempt 1): {"model": "anthropic/claude-3.5-sonnet-20240620", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . . p . . .\n. . . p . . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e6\n2. d2d4 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:03:21,640 - INFO - OpenRouter response for anthropic/claude-3.5-sonnet-20240620 (attempt 1): {"id": "gen-1752530600-bSIQ8KJuqjLAmfBP8ZPF", "model": "anthropic/claude-3.5-sonnet-20240620", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:03:21,642 - INFO - Retry 1: Received raw move 'c2c4' from model anthropic/claude-3.5-sonnet-20240620
2025-07-15 00:03:21,642 - INFO - Using default board with active color: w
2025-07-15 00:03:21,642 - INFO - Processed move: Raw 'c2c4' -> Interpreted 'c2c4' -> UCI 'c2c4' -> SAN 'c4'
2025-07-15 00:03:21,643 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:03:22,846 - INFO - Received commentary from openai/gpt-4.1-mini: 3. c4!? White challenges Black...
2025-07-15 00:03:23,145 - INFO - Calling OpenRouter API with model: cohere/command-r-plus-08-2024
2025-07-15 00:03:23,146 - INFO - Detected 2.5 move pairs already made in the game
2025-07-15 00:03:23,146 - INFO - OpenRouter Request for cohere/command-r-plus-08-2024 (attempt 1): {"model": "cohere/command-r-plus-08-2024", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . . p . . .\n. . . p . . . .\n. . P P P . . .\n. . . . . . . .\nP P . . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e6\n2. d2d4 d7d5\n3. c2c4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:03:24,359 - INFO - OpenRouter response for cohere/command-r-plus-08-2024 (attempt 1): {"id": "gen-1752530603-GpmCEzJFaMPav9Hx4peq", "model": "cohere/command-r-plus-08-2024", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:03:24,360 - INFO - Received raw move 'c7c6' from model cohere/command-r-plus-08-2024
2025-07-15 00:03:24,360 - INFO - Using default board with active color: b
2025-07-15 00:03:24,360 - INFO - Processed move: Raw 'c7c6' -> Interpreted 'c7c6' -> UCI 'c7c6' -> SAN 'c6'
2025-07-15 00:03:24,361 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:03:25,692 - INFO - Received commentary from openai/gpt-4.1-mini: Black's 3...c6 solidifies cont...
2025-07-15 00:03:25,863 - INFO - Calling OpenRouter API with model: anthropic/claude-3.5-sonnet-20240620
2025-07-15 00:03:25,863 - INFO - Detected 3 move pairs already made in the game
2025-07-15 00:03:25,863 - INFO - OpenRouter Request for anthropic/claude-3.5-sonnet-20240620 (attempt 1): {"model": "anthropic/claude-3.5-sonnet-20240620", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . . . p p p\n. . p . p . . .\n. . . p . . . .\n. . P P P . . .\n. . . . . . . .\nP P . . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e6\n2. d2d4 d7d5\n3. c2c4 c7c6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:03:27,128 - INFO - OpenRouter response for anthropic/claude-3.5-sonnet-20240620 (attempt 1): {"id": "gen-1752530605-kmEWYudQKUV9Pp93HO9F", "model": "anthropic/claude-3.5-sonnet-20240620", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:03:27,128 - INFO - Received raw move 'e4d5' from model anthropic/claude-3.5-sonnet-20240620
2025-07-15 00:03:27,129 - INFO - Using default board with active color: w
2025-07-15 00:03:27,129 - INFO - Attempting to interpret ambiguous move with API: 'e4d5'
2025-07-15 00:03:27,157 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e4d5'
2025-07-15 00:03:27,821 - INFO - Interpreted move 'e4d5' as 'e4d5'
2025-07-15 00:03:27,821 - WARNING - Interpreted move 'e4d5' is not legal on the current board
2025-07-15 00:03:27,821 - WARNING - Model anthropic/claude-3.5-sonnet-20240620 made an invalid move: 'e4d5' that couldn't be interpreted (attempt 1/5)
2025-07-15 00:03:27,821 - INFO - Calling OpenRouter API with model: anthropic/claude-3.5-sonnet-20240620
2025-07-15 00:03:27,821 - INFO - Detected 3 move pairs already made in the game
2025-07-15 00:03:27,821 - INFO - OpenRouter Request for anthropic/claude-3.5-sonnet-20240620 (attempt 1): {"model": "anthropic/claude-3.5-sonnet-20240620", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . . . p p p\n. . p . p . . .\n. . . p . . . .\n. . P P P . . .\n. . . . . . . .\nP P . . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e6\n2. d2d4 d7d5\n3. c2c4 c7c6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:03:29,193 - INFO - OpenRouter response for anthropic/claude-3.5-sonnet-20240620 (attempt 1): {"id": "gen-1752530607-XK7nYA6GKXiPZ7zNx95O", "model": "anthropic/claude-3.5-sonnet-20240620", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:03:29,194 - INFO - Retry 1: Received raw move 'e4e5' from model anthropic/claude-3.5-sonnet-20240620
2025-07-15 00:03:29,195 - INFO - Using default board with active color: w
2025-07-15 00:03:29,195 - INFO - Attempting to interpret ambiguous move with API: 'e4e5'
2025-07-15 00:03:29,222 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e4e5'
2025-07-15 00:03:29,775 - INFO - Interpreted move 'e4e5' as 'INVALID'
2025-07-15 00:03:29,776 - WARNING - Model anthropic/claude-3.5-sonnet-20240620 made an invalid move: 'e4e5' that couldn't be interpreted (attempt 2/5)
2025-07-15 00:03:29,777 - INFO - Calling OpenRouter API with model: anthropic/claude-3.5-sonnet-20240620
2025-07-15 00:03:29,777 - INFO - Detected 3 move pairs already made in the game
2025-07-15 00:03:29,777 - INFO - OpenRouter Request for anthropic/claude-3.5-sonnet-20240620 (attempt 1): {"model": "anthropic/claude-3.5-sonnet-20240620", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . . . p p p\n. . p . p . . .\n. . . p . . . .\n. . P P P . . .\n. . . . . . . .\nP P . . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e6\n2. d2d4 d7d5\n3. c2c4 c7c6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:03:30,914 - INFO - OpenRouter response for anthropic/claude-3.5-sonnet-20240620 (attempt 1): {"id": "gen-1752530609-RbEUHTKHybMi5cRMm4S9", "model": "anthropic/claude-3.5-sonnet-20240620", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:03:30,914 - INFO - Retry 2: Received raw move 'e4d5' from model anthropic/claude-3.5-sonnet-20240620
2025-07-15 00:03:30,914 - INFO - Using default board with active color: w
2025-07-15 00:03:30,915 - INFO - Attempting to interpret ambiguous move with API: 'e4d5'
2025-07-15 00:03:30,931 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e4d5'
2025-07-15 00:03:31,461 - INFO - Interpreted move 'e4d5' as 'INVALID'
2025-07-15 00:03:31,461 - WARNING - Model anthropic/claude-3.5-sonnet-20240620 made an invalid move: 'e4d5' that couldn't be interpreted (attempt 3/5)
2025-07-15 00:03:31,462 - INFO - Calling OpenRouter API with model: anthropic/claude-3.5-sonnet-20240620
2025-07-15 00:03:31,462 - INFO - Detected 3 move pairs already made in the game
2025-07-15 00:03:31,462 - INFO - OpenRouter Request for anthropic/claude-3.5-sonnet-20240620 (attempt 1): {"model": "anthropic/claude-3.5-sonnet-20240620", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . . . p p p\n. . p . p . . .\n. . . p . . . .\n. . P P P . . .\n. . . . . . . .\nP P . . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e6\n2. d2d4 d7d5\n3. c2c4 c7c6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:03:33,185 - INFO - OpenRouter response for anthropic/claude-3.5-sonnet-20240620 (attempt 1): {"id": "gen-1752530611-T9xFAqdoJYqVFJcEcn8w", "model": "anthropic/claude-3.5-sonnet-20240620", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:03:33,186 - INFO - Retry 3: Received raw move 'e4d5' from model anthropic/claude-3.5-sonnet-20240620
2025-07-15 00:03:33,186 - INFO - Using default board with active color: w
2025-07-15 00:03:33,186 - INFO - Attempting to interpret ambiguous move with API: 'e4d5'
2025-07-15 00:03:33,214 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e4d5'
2025-07-15 00:03:34,109 - INFO - Interpreted move 'e4d5' as 'INVALID'
2025-07-15 00:03:34,109 - WARNING - Model anthropic/claude-3.5-sonnet-20240620 made an invalid move: 'e4d5' that couldn't be interpreted (attempt 4/5)
2025-07-15 00:03:34,110 - INFO - Calling OpenRouter API with model: anthropic/claude-3.5-sonnet-20240620
2025-07-15 00:03:34,110 - INFO - Detected 3 move pairs already made in the game
2025-07-15 00:03:34,110 - INFO - OpenRouter Request for anthropic/claude-3.5-sonnet-20240620 (attempt 1): {"model": "anthropic/claude-3.5-sonnet-20240620", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . . . p p p\n. . p . p . . .\n. . . p . . . .\n. . P P P . . .\n. . . . . . . .\nP P . . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e6\n2. d2d4 d7d5\n3. c2c4 c7c6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:03:35,294 - INFO - OpenRouter response for anthropic/claude-3.5-sonnet-20240620 (attempt 1): {"id": "gen-1752530614-y5sFwVqm9iN6WHqukbDL", "model": "anthropic/claude-3.5-sonnet-20240620", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:03:35,295 - INFO - Retry 4: Received raw move 'e4d5' from model anthropic/claude-3.5-sonnet-20240620
2025-07-15 00:03:35,295 - INFO - Using default board with active color: w
2025-07-15 00:03:35,296 - INFO - Attempting to interpret ambiguous move with API: 'e4d5'
2025-07-15 00:03:35,314 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e4d5'
2025-07-15 00:03:35,901 - INFO - Interpreted move 'e4d5' as 'INVALID'
2025-07-15 00:03:35,902 - WARNING - Model anthropic/claude-3.5-sonnet-20240620 made an invalid move: 'e4d5' that couldn't be interpreted (attempt 5/5)
2025-07-15 00:03:35,902 - ERROR - Model anthropic/claude-3.5-sonnet-20240620 failed to make a valid move after 5 attempts
2025-07-15 00:03:35,902 - INFO - Requesting game over explanation from openai/gpt-4.1-mini
2025-07-15 00:03:37,301 - INFO - Received game over explanation: anthropic/claude-3.5-sonnet-20240620 lost because ...
2025-07-15 00:04:06,236 - INFO - New game created: qwen/qwq-32b (White) vs openai/gpt-3.5-turbo-0125 (Black)
2025-07-15 00:04:06,240 - INFO - WebSocket connection established for game game_1752530646_3392
2025-07-15 00:04:06,241 - INFO - Starting game: qwen/qwq-32b vs openai/gpt-3.5-turbo-0125
2025-07-15 00:04:06,242 - INFO - Calling OpenRouter API with model: qwen/qwq-32b
2025-07-15 00:04:06,242 - INFO - OpenRouter Request for qwen/qwq-32b (attempt 1): {"model": "qwen/qwq-32b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:04:17,178 - INFO - OpenRouter response for qwen/qwq-32b (attempt 1): {"id": "gen-1752530646-41jSwO1IRxJfIQfVkR9O", "model": "qwen/qwq-32b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:04:17,179 - INFO - Received raw move 'e2e4' from model qwen/qwq-32b
2025-07-15 00:04:17,179 - INFO - Using default board with active color: w
2025-07-15 00:04:17,179 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-15 00:04:17,180 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:04:18,642 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4! White stakes a strong c...
2025-07-15 00:04:18,685 - INFO - Calling OpenRouter API with model: openai/gpt-3.5-turbo-0125
2025-07-15 00:04:18,685 - INFO - Detected 0.5 move pairs already made in the game
2025-07-15 00:04:18,685 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-0125 (attempt 1): {"model": "openai/gpt-3.5-turbo-0125", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:04:18,842 - ERROR - Error calling model openai/gpt-3.5-turbo-0125 (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:04:18,842 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-0125.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:04:20,343 - INFO - Retry attempt 1/3 for model openai/gpt-3.5-turbo-0125
2025-07-15 00:04:20,343 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:04:20,343 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-0125 (attempt 2): {"model": "openai/gpt-3.5-turbo-0125", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:04:20,486 - ERROR - Error calling model openai/gpt-3.5-turbo-0125 (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:04:20,487 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-0125.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:04:21,988 - INFO - Retry attempt 2/3 for model openai/gpt-3.5-turbo-0125
2025-07-15 00:04:21,989 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:04:21,989 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-0125 (attempt 3): {"model": "openai/gpt-3.5-turbo-0125", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:04:22,153 - ERROR - Error calling model openai/gpt-3.5-turbo-0125 (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:04:22,153 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-0125.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:04:23,654 - INFO - Retry attempt 3/3 for model openai/gpt-3.5-turbo-0125
2025-07-15 00:04:23,654 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:04:23,654 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:04:23,654 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:04:24,218 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752530663-YoAt97XXAcXU07BIkdg4", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:04:24,219 - INFO - Received raw move 'e7e5' from model openai/gpt-3.5-turbo-0125
2025-07-15 00:04:24,219 - INFO - Using default board with active color: b
2025-07-15 00:04:24,219 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-07-15 00:04:24,220 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:04:25,420 - INFO - Received commentary from openai/gpt-4.1-mini: Black's 1...e5 is a classical ...
2025-07-15 00:04:25,724 - INFO - Calling OpenRouter API with model: qwen/qwq-32b
2025-07-15 00:04:25,725 - INFO - Detected 1 move pairs already made in the game
2025-07-15 00:04:25,725 - INFO - OpenRouter Request for qwen/qwq-32b (attempt 1): {"model": "qwen/qwq-32b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:06:07,943 - INFO - OpenRouter response for qwen/qwq-32b (attempt 1): {"id": "gen-1752530665-anuFSF3CFGhofKgbK5cN", "model": "qwen/qwq-32b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:06:07,943 - INFO - Received raw move 'g1f3' from model qwen/qwq-32b
2025-07-15 00:06:07,944 - INFO - Using default board with active color: w
2025-07-15 00:06:07,944 - INFO - Processed move: Raw 'g1f3' -> Interpreted 'g1f3' -> UCI 'g1f3' -> SAN 'Nf3'
2025-07-15 00:06:07,945 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:06:09,220 - INFO - Received commentary from openai/gpt-4.1-mini: Nf3 develops a knight towards ...
2025-07-15 00:06:09,447 - INFO - Calling OpenRouter API with model: openai/gpt-3.5-turbo-0125
2025-07-15 00:06:09,447 - INFO - Detected 1.5 move pairs already made in the game
2025-07-15 00:06:09,447 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-0125 (attempt 1): {"model": "openai/gpt-3.5-turbo-0125", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:06:09,597 - ERROR - Error calling model openai/gpt-3.5-turbo-0125 (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:06:09,597 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-0125.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:06:11,098 - INFO - Retry attempt 1/3 for model openai/gpt-3.5-turbo-0125
2025-07-15 00:06:11,098 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:06:11,098 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-0125 (attempt 2): {"model": "openai/gpt-3.5-turbo-0125", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:06:11,225 - ERROR - Error calling model openai/gpt-3.5-turbo-0125 (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:06:11,225 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-0125.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:06:12,727 - INFO - Retry attempt 2/3 for model openai/gpt-3.5-turbo-0125
2025-07-15 00:06:12,728 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:06:12,728 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-0125 (attempt 3): {"model": "openai/gpt-3.5-turbo-0125", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:06:12,860 - ERROR - Error calling model openai/gpt-3.5-turbo-0125 (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:06:12,861 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-0125.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:06:14,362 - INFO - Retry attempt 3/3 for model openai/gpt-3.5-turbo-0125
2025-07-15 00:06:14,362 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:06:14,362 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:06:14,362 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:06:15,263 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752530774-rDpu7BbqnwpTdI664pOn", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:06:15,264 - INFO - Received raw move 'g8f6' from model openai/gpt-3.5-turbo-0125
2025-07-15 00:06:15,264 - INFO - Using default board with active color: b
2025-07-15 00:06:15,264 - INFO - Processed move: Raw 'g8f6' -> Interpreted 'g8f6' -> UCI 'g8f6' -> SAN 'Nf6'
2025-07-15 00:06:15,268 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:06:16,360 - INFO - Received commentary from openai/gpt-4.1-mini: Black's move 2...Nf6 develops ...
2025-07-15 00:06:16,771 - INFO - Calling OpenRouter API with model: qwen/qwq-32b
2025-07-15 00:06:16,771 - INFO - Detected 2 move pairs already made in the game
2025-07-15 00:06:16,771 - INFO - OpenRouter Request for qwen/qwq-32b (attempt 1): {"model": "qwen/qwq-32b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p p . p p p\n. . . . . n . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 g8f6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:06:37,499 - INFO - OpenRouter response for qwen/qwq-32b (attempt 1): {"id": "gen-1752530776-T5Frin4Zm1soIdOqfJB7", "model": "qwen/qwq-32b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:06:37,500 - INFO - Received raw move 'Bc4 is the bishop move, but in' from model qwen/qwq-32b
2025-07-15 00:06:37,501 - INFO - Using default board with active color: w
2025-07-15 00:06:37,501 - INFO - Attempting to interpret ambiguous move with API: 'Bc4 is the bishop move but in'
2025-07-15 00:06:37,522 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'Bc4 is the bishop move but in'
2025-07-15 00:06:38,159 - INFO - Interpreted move 'Bc4 is the bishop move but in' as 'f1c4'
2025-07-15 00:06:38,159 - WARNING - Interpreted move 'f1c4' is not legal on the current board
2025-07-15 00:06:38,160 - WARNING - Model qwen/qwq-32b made an invalid move: 'Bc4 is the bishop move, but in' that couldn't be interpreted (attempt 1/5)
2025-07-15 00:06:38,161 - INFO - Calling OpenRouter API with model: qwen/qwq-32b
2025-07-15 00:06:38,161 - INFO - Detected 2 move pairs already made in the game
2025-07-15 00:06:38,161 - INFO - OpenRouter Request for qwen/qwq-32b (attempt 1): {"model": "qwen/qwq-32b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p p . p p p\n. . . . . n . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 g8f6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:08:35,310 - INFO - OpenRouter response for qwen/qwq-32b (attempt 1): {"id": "gen-1752530798-S8LVPj0Wb7VZMJChACb7", "model": "qwen/qwq-32b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:08:35,311 - INFO - Retry 1: Received raw move 'f1b5' from model qwen/qwq-32b
2025-07-15 00:08:35,311 - INFO - Using default board with active color: w
2025-07-15 00:08:35,311 - INFO - Attempting to interpret ambiguous move with API: 'f1b5'
2025-07-15 00:08:35,340 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'f1b5'
2025-07-15 00:08:36,050 - INFO - Interpreted move 'f1b5' as 'f1b5'
2025-07-15 00:08:36,050 - WARNING - Interpreted move 'f1b5' is not legal on the current board
2025-07-15 00:08:36,050 - WARNING - Model qwen/qwq-32b made an invalid move: 'f1b5' that couldn't be interpreted (attempt 2/5)
2025-07-15 00:08:36,050 - INFO - Calling OpenRouter API with model: qwen/qwq-32b
2025-07-15 00:08:36,050 - INFO - Detected 2 move pairs already made in the game
2025-07-15 00:08:36,050 - INFO - OpenRouter Request for qwen/qwq-32b (attempt 1): {"model": "qwen/qwq-32b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p p . p p p\n. . . . . n . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 g8f6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:09:29,167 - INFO - OpenRouter response for qwen/qwq-32b (attempt 1): {"id": "gen-1752530916-RrIdBQ7iTwobr8zAzB9X", "model": "qwen/qwq-32b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:09:29,170 - INFO - Retry 2: Received raw move 'c1b5' from model qwen/qwq-32b
2025-07-15 00:09:29,170 - INFO - Using default board with active color: w
2025-07-15 00:09:29,171 - INFO - Attempting to interpret ambiguous move with API: 'c1b5'
2025-07-15 00:09:29,198 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'c1b5'
2025-07-15 00:09:29,718 - INFO - Interpreted move 'c1b5' as 'c1b5'
2025-07-15 00:09:29,719 - WARNING - Interpreted move 'c1b5' is not legal on the current board
2025-07-15 00:09:29,720 - WARNING - Model qwen/qwq-32b made an invalid move: 'c1b5' that couldn't be interpreted (attempt 3/5)
2025-07-15 00:09:29,720 - INFO - Calling OpenRouter API with model: qwen/qwq-32b
2025-07-15 00:09:29,720 - INFO - Detected 2 move pairs already made in the game
2025-07-15 00:09:29,720 - INFO - OpenRouter Request for qwen/qwq-32b (attempt 1): {"model": "qwen/qwq-32b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p p . p p p\n. . . . . n . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 g8f6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:12:37,612 - INFO - OpenRouter response for qwen/qwq-32b (attempt 1): {"id": "gen-1752530969-ASXGXe1VxhmqHR9nyrNA", "model": "qwen/qwq-32b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:12:37,614 - INFO - Retry 3: Received raw move 'd2d4' from model qwen/qwq-32b
2025-07-15 00:12:37,615 - INFO - Using default board with active color: w
2025-07-15 00:12:37,615 - INFO - Processed move: Raw 'd2d4' -> Interpreted 'd2d4' -> UCI 'd2d4' -> SAN 'd4'
2025-07-15 00:12:37,621 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:12:38,965 - INFO - Received commentary from openai/gpt-4.1-mini: 3. d4!? challenges Black's cen...
2025-07-15 00:12:39,123 - INFO - Calling OpenRouter API with model: openai/gpt-3.5-turbo-0125
2025-07-15 00:12:39,123 - INFO - Detected 2.5 move pairs already made in the game
2025-07-15 00:12:39,124 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-0125 (attempt 1): {"model": "openai/gpt-3.5-turbo-0125", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b . r\np p p p . p p p\n. . . . . n . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 g8f6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:12:39,295 - ERROR - Error calling model openai/gpt-3.5-turbo-0125 (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:12:39,296 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-0125.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:12:40,797 - INFO - Retry attempt 1/3 for model openai/gpt-3.5-turbo-0125
2025-07-15 00:12:40,797 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:12:40,798 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-0125 (attempt 2): {"model": "openai/gpt-3.5-turbo-0125", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:12:40,946 - ERROR - Error calling model openai/gpt-3.5-turbo-0125 (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:12:40,946 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-0125.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:12:42,447 - INFO - Retry attempt 2/3 for model openai/gpt-3.5-turbo-0125
2025-07-15 00:12:42,447 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:12:42,447 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-0125 (attempt 3): {"model": "openai/gpt-3.5-turbo-0125", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:12:42,597 - ERROR - Error calling model openai/gpt-3.5-turbo-0125 (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:12:42,597 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-0125.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:12:44,098 - INFO - Retry attempt 3/3 for model openai/gpt-3.5-turbo-0125
2025-07-15 00:12:44,098 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:12:44,099 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:12:44,099 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b . r\np p p p . p p p\n. . . . . n . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 g8f6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:12:44,930 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752531164-xCmwjvt5tIImLFdzlwTh", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:12:44,931 - INFO - Received raw move 'e5d4' from model openai/gpt-3.5-turbo-0125
2025-07-15 00:12:44,932 - INFO - Using default board with active color: b
2025-07-15 00:12:44,932 - INFO - Attempting to interpret ambiguous move with API: 'e5d4'
2025-07-15 00:12:44,969 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5d4'
2025-07-15 00:12:45,524 - INFO - Interpreted move 'e5d4' as 'e5d4'
2025-07-15 00:12:45,524 - WARNING - Interpreted move 'e5d4' is not legal on the current board
2025-07-15 00:12:45,525 - WARNING - Model openai/gpt-3.5-turbo-0125 made an invalid move: 'e5d4' that couldn't be interpreted (attempt 1/5)
2025-07-15 00:12:45,526 - INFO - Calling OpenRouter API with model: openai/gpt-3.5-turbo-0125
2025-07-15 00:12:45,526 - INFO - Detected 2.5 move pairs already made in the game
2025-07-15 00:12:45,526 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-0125 (attempt 1): {"model": "openai/gpt-3.5-turbo-0125", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b . r\np p p p . p p p\n. . . . . n . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 g8f6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:12:45,666 - ERROR - Error calling model openai/gpt-3.5-turbo-0125 (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:12:45,666 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-0125.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:12:47,167 - INFO - Retry attempt 1/3 for model openai/gpt-3.5-turbo-0125
2025-07-15 00:12:47,167 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:12:47,167 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-0125 (attempt 2): {"model": "openai/gpt-3.5-turbo-0125", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:12:47,305 - ERROR - Error calling model openai/gpt-3.5-turbo-0125 (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:12:47,306 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-0125.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:12:48,807 - INFO - Retry attempt 2/3 for model openai/gpt-3.5-turbo-0125
2025-07-15 00:12:48,808 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:12:48,808 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-0125 (attempt 3): {"model": "openai/gpt-3.5-turbo-0125", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:12:49,101 - ERROR - Error calling model openai/gpt-3.5-turbo-0125 (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:12:49,101 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-0125.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:12:50,604 - INFO - Retry attempt 3/3 for model openai/gpt-3.5-turbo-0125
2025-07-15 00:12:50,604 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:12:50,604 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:12:50,604 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b . r\np p p p . p p p\n. . . . . n . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 g8f6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:12:51,161 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752531170-kx3krey05bLW9DDRs2kf", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:12:51,162 - INFO - Retry 1: Received raw move 'e5d4' from model openai/gpt-3.5-turbo-0125
2025-07-15 00:12:51,162 - INFO - Using default board with active color: b
2025-07-15 00:12:51,162 - INFO - Attempting to interpret ambiguous move with API: 'e5d4'
2025-07-15 00:12:51,192 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5d4'
2025-07-15 00:12:52,014 - INFO - Interpreted move 'e5d4' as 'e5d4'
2025-07-15 00:12:52,015 - WARNING - Interpreted move 'e5d4' is not legal on the current board
2025-07-15 00:12:52,015 - WARNING - Model openai/gpt-3.5-turbo-0125 made an invalid move: 'e5d4' that couldn't be interpreted (attempt 2/5)
2025-07-15 00:12:52,016 - INFO - Calling OpenRouter API with model: openai/gpt-3.5-turbo-0125
2025-07-15 00:12:52,016 - INFO - Detected 2.5 move pairs already made in the game
2025-07-15 00:12:52,016 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-0125 (attempt 1): {"model": "openai/gpt-3.5-turbo-0125", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b . r\np p p p . p p p\n. . . . . n . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 g8f6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:12:52,158 - ERROR - Error calling model openai/gpt-3.5-turbo-0125 (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:12:52,158 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-0125.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:12:53,659 - INFO - Retry attempt 1/3 for model openai/gpt-3.5-turbo-0125
2025-07-15 00:12:53,659 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:12:53,659 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-0125 (attempt 2): {"model": "openai/gpt-3.5-turbo-0125", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:12:53,798 - ERROR - Error calling model openai/gpt-3.5-turbo-0125 (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:12:53,798 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-0125.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:12:55,299 - INFO - Retry attempt 2/3 for model openai/gpt-3.5-turbo-0125
2025-07-15 00:12:55,300 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:12:55,300 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-0125 (attempt 3): {"model": "openai/gpt-3.5-turbo-0125", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:12:55,454 - ERROR - Error calling model openai/gpt-3.5-turbo-0125 (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:12:55,454 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-0125.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:12:56,956 - INFO - Retry attempt 3/3 for model openai/gpt-3.5-turbo-0125
2025-07-15 00:12:56,956 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:12:56,956 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:12:56,956 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b . r\np p p p . p p p\n. . . . . n . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 g8f6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:12:57,479 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752531177-KLnVgBdVy1t0Qo1R3dre", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:12:57,480 - INFO - Retry 2: Received raw move 'e5d4' from model openai/gpt-3.5-turbo-0125
2025-07-15 00:12:57,480 - INFO - Using default board with active color: b
2025-07-15 00:12:57,481 - INFO - Attempting to interpret ambiguous move with API: 'e5d4'
2025-07-15 00:12:57,515 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5d4'
2025-07-15 00:12:58,172 - INFO - Interpreted move 'e5d4' as 'e5d4'
2025-07-15 00:12:58,172 - WARNING - Interpreted move 'e5d4' is not legal on the current board
2025-07-15 00:12:58,173 - WARNING - Model openai/gpt-3.5-turbo-0125 made an invalid move: 'e5d4' that couldn't be interpreted (attempt 3/5)
2025-07-15 00:12:58,174 - INFO - Calling OpenRouter API with model: openai/gpt-3.5-turbo-0125
2025-07-15 00:12:58,174 - INFO - Detected 2.5 move pairs already made in the game
2025-07-15 00:12:58,174 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-0125 (attempt 1): {"model": "openai/gpt-3.5-turbo-0125", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b . r\np p p p . p p p\n. . . . . n . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 g8f6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:12:58,307 - ERROR - Error calling model openai/gpt-3.5-turbo-0125 (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:12:58,307 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-0125.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:12:59,809 - INFO - Retry attempt 1/3 for model openai/gpt-3.5-turbo-0125
2025-07-15 00:12:59,809 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:12:59,809 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-0125 (attempt 2): {"model": "openai/gpt-3.5-turbo-0125", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:12:59,950 - ERROR - Error calling model openai/gpt-3.5-turbo-0125 (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:12:59,951 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-0125.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:13:01,453 - INFO - Retry attempt 2/3 for model openai/gpt-3.5-turbo-0125
2025-07-15 00:13:01,453 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:13:01,453 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-0125 (attempt 3): {"model": "openai/gpt-3.5-turbo-0125", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:13:01,696 - ERROR - Error calling model openai/gpt-3.5-turbo-0125 (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:13:01,696 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-0125.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:13:03,198 - INFO - Retry attempt 3/3 for model openai/gpt-3.5-turbo-0125
2025-07-15 00:13:03,198 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:13:03,198 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:13:03,198 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b . r\np p p p . p p p\n. . . . . n . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 g8f6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:13:04,293 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752531183-zwqoGWxDd4KAqqwmauWl", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:13:04,295 - INFO - Retry 3: Received raw move 'e5d4' from model openai/gpt-3.5-turbo-0125
2025-07-15 00:13:04,296 - INFO - Using default board with active color: b
2025-07-15 00:13:04,296 - INFO - Attempting to interpret ambiguous move with API: 'e5d4'
2025-07-15 00:13:04,316 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5d4'
2025-07-15 00:13:06,004 - INFO - Interpreted move 'e5d4' as 'e5d4'
2025-07-15 00:13:06,004 - WARNING - Interpreted move 'e5d4' is not legal on the current board
2025-07-15 00:13:06,004 - WARNING - Model openai/gpt-3.5-turbo-0125 made an invalid move: 'e5d4' that couldn't be interpreted (attempt 4/5)
2025-07-15 00:13:06,005 - INFO - Calling OpenRouter API with model: openai/gpt-3.5-turbo-0125
2025-07-15 00:13:06,005 - INFO - Detected 2.5 move pairs already made in the game
2025-07-15 00:13:06,005 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-0125 (attempt 1): {"model": "openai/gpt-3.5-turbo-0125", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b . r\np p p p . p p p\n. . . . . n . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 g8f6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:13:06,145 - ERROR - Error calling model openai/gpt-3.5-turbo-0125 (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:13:06,145 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-0125.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:13:07,646 - INFO - Retry attempt 1/3 for model openai/gpt-3.5-turbo-0125
2025-07-15 00:13:07,646 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:13:07,646 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-0125 (attempt 2): {"model": "openai/gpt-3.5-turbo-0125", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:13:07,805 - ERROR - Error calling model openai/gpt-3.5-turbo-0125 (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:13:07,806 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-0125.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:13:09,307 - INFO - Retry attempt 2/3 for model openai/gpt-3.5-turbo-0125
2025-07-15 00:13:09,307 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:13:09,307 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-0125 (attempt 3): {"model": "openai/gpt-3.5-turbo-0125", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:13:09,455 - ERROR - Error calling model openai/gpt-3.5-turbo-0125 (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:13:09,456 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for openai/gpt-3.5-turbo-0125.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:13:10,957 - INFO - Retry attempt 3/3 for model openai/gpt-3.5-turbo-0125
2025-07-15 00:13:10,958 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:13:10,958 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:13:10,958 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b . r\np p p p . p p p\n. . . . . n . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 g8f6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:13:11,697 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752531191-Ka8ZuMLjMufVTQozmsWA", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:13:11,698 - INFO - Retry 4: Received raw move 'e5d4' from model openai/gpt-3.5-turbo-0125
2025-07-15 00:13:11,698 - INFO - Using default board with active color: b
2025-07-15 00:13:11,698 - INFO - Attempting to interpret ambiguous move with API: 'e5d4'
2025-07-15 00:13:11,731 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5d4'
2025-07-15 00:13:12,356 - INFO - Interpreted move 'e5d4' as 'e5d4'
2025-07-15 00:13:12,356 - WARNING - Interpreted move 'e5d4' is not legal on the current board
2025-07-15 00:13:12,357 - WARNING - Model openai/gpt-3.5-turbo-0125 made an invalid move: 'e5d4' that couldn't be interpreted (attempt 5/5)
2025-07-15 00:13:12,357 - ERROR - Model openai/gpt-3.5-turbo-0125 failed to make a valid move after 5 attempts
2025-07-15 00:13:12,357 - INFO - Requesting game over explanation from openai/gpt-4.1-mini
2025-07-15 00:13:13,489 - INFO - Received game over explanation: Openai/gpt-3.5-turbo-0125 lost because it tried to...
2025-07-15 00:25:20,846 - INFO - AI Chess Arena starting up...
2025-07-15 00:25:20,848 - INFO - Loaded 161 previous game results from results.txt
2025-07-15 00:25:23,034 - INFO - New game created: infermatic/mn-inferor-12b (White) vs openai/o1-mini-2024-09-12 (Black)
2025-07-15 00:25:23,041 - INFO - WebSocket connection established for game game_1752531923_1356
2025-07-15 00:25:23,041 - INFO - Starting game: infermatic/mn-inferor-12b vs openai/o1-mini-2024-09-12
2025-07-15 00:25:23,042 - INFO - Calling OpenRouter API with model: infermatic/mn-inferor-12b
2025-07-15 00:25:23,042 - INFO - OpenRouter Request for infermatic/mn-inferor-12b (attempt 1): {"model": "infermatic/mn-inferor-12b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:25:28,274 - INFO - New game created: mistralai/mixtral-8x22b-instruct (White) vs cohere/command-r (Black)
2025-07-15 00:25:28,281 - INFO - WebSocket connection established for game game_1752531928_2158
2025-07-15 00:25:28,281 - INFO - Starting game: mistralai/mixtral-8x22b-instruct vs cohere/command-r
2025-07-15 00:25:28,282 - INFO - Calling OpenRouter API with model: mistralai/mixtral-8x22b-instruct
2025-07-15 00:25:28,283 - INFO - OpenRouter Request for mistralai/mixtral-8x22b-instruct (attempt 1): {"model": "mistralai/mixtral-8x22b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:25:29,172 - INFO - OpenRouter response for mistralai/mixtral-8x22b-instruct (attempt 1): {"id": "gen-1752531928-upLWGTIk70cG2yANikBj", "model": "mistralai/mixtral-8x22b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:25:29,173 - INFO - Received raw move 'e2e4' from model mistralai/mixtral-8x22b-instruct
2025-07-15 00:25:29,173 - INFO - Using default board with active color: w
2025-07-15 00:25:29,174 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-15 00:25:29,175 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:25:31,680 - INFO - Calling OpenRouter API with model: cohere/command-r
2025-07-15 00:25:31,680 - INFO - Detected 0.5 move pairs already made in the game
2025-07-15 00:25:31,680 - INFO - OpenRouter Request for cohere/command-r (attempt 1): {"model": "cohere/command-r", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:25:32,440 - INFO - OpenRouter response for cohere/command-r (attempt 1): {"id": "gen-1752531931-04lBiAKp0qNEEUJYsqeo", "model": "cohere/command-r", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:25:32,441 - INFO - Received raw move 'a7a5' from model cohere/command-r
2025-07-15 00:25:32,442 - INFO - Using default board with active color: b
2025-07-15 00:25:32,442 - INFO - Processed move: Raw 'a7a5' -> Interpreted 'a7a5' -> UCI 'a7a5' -> SAN 'a5'
2025-07-15 00:25:32,443 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:25:32,682 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a strong and classica...
2025-07-15 00:25:32,683 - INFO - New game created: anthropic/claude-3.5-sonnet (White) vs qwen/qwen-2.5-vl-72b-instruct (Black)
2025-07-15 00:25:32,693 - INFO - WebSocket connection established for game game_1752531932_1222
2025-07-15 00:25:32,694 - INFO - Starting game: anthropic/claude-3.5-sonnet vs qwen/qwen-2.5-vl-72b-instruct
2025-07-15 00:25:32,696 - INFO - Calling OpenRouter API with model: anthropic/claude-3.5-sonnet
2025-07-15 00:25:32,696 - INFO - OpenRouter Request for anthropic/claude-3.5-sonnet (attempt 1): {"model": "anthropic/claude-3.5-sonnet", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:25:33,943 - INFO - OpenRouter response for infermatic/mn-inferor-12b (attempt 1): {"id": "gen-1752531923-gpfELfIYabaAkIlHyMlp", "model": "infermatic/mn-inferor-12b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:25:33,943 - INFO - Received raw move 'e2e4 

  
In this position, Wh' from model infermatic/mn-inferor-12b
2025-07-15 00:25:33,943 - INFO - Model returned multiline response. Using first line: 'e2e4'
2025-07-15 00:25:33,944 - INFO - Using default board with active color: w
2025-07-15 00:25:33,944 - INFO - Processed move: Raw 'e2e4 

  
In this position, Wh' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-15 00:25:33,944 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-07-15 00:25:33,944 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:25:34,622 - INFO - OpenRouter response for anthropic/claude-3.5-sonnet (attempt 1): {"id": "gen-1752531932-94Y1Yweo4LSN33vW9JvA", "model": "anthropic/claude-3.5-sonnet", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:25:34,623 - INFO - Received raw move 'e2e4' from model anthropic/claude-3.5-sonnet
2025-07-15 00:25:34,623 - INFO - Using default board with active color: w
2025-07-15 00:25:34,623 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-15 00:25:34,624 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:25:34,980 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-07-15 00:25:34,981 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-07-15 00:25:35,939 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a strong opening move...
2025-07-15 00:25:36,131 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4! White takes control of ...
2025-07-15 00:25:36,515 - INFO - Received commentary from openai/gpt-4.1-mini: 1...a5 is a ? move, as it does...
2025-07-15 00:25:36,628 - INFO - Calling OpenRouter API with model: qwen/qwen-2.5-vl-72b-instruct
2025-07-15 00:25:36,628 - INFO - Detected 0.5 move pairs already made in the game
2025-07-15 00:25:36,631 - INFO - OpenRouter Request for qwen/qwen-2.5-vl-72b-instruct (attempt 1): {"model": "qwen/qwen-2.5-vl-72b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:25:37,872 - INFO - OpenRouter response for qwen/qwen-2.5-vl-72b-instruct (attempt 1): {"id": "gen-1752531936-FK8GtkSnqqgZZIt1hZPF", "model": "qwen/qwen2.5-vl-72b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:25:37,873 - INFO - Received raw move 'e7e5' from model qwen/qwen-2.5-vl-72b-instruct
2025-07-15 00:25:37,873 - INFO - Using default board with active color: b
2025-07-15 00:25:37,874 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-07-15 00:25:37,875 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:25:40,375 - INFO - Received commentary from openai/gpt-4.1-mini: Black's move 1...e5 is a class...
2025-07-15 00:25:40,379 - INFO - Calling OpenRouter API with model: anthropic/claude-3.5-sonnet
2025-07-15 00:25:40,379 - INFO - Detected 1 move pairs already made in the game
2025-07-15 00:25:40,379 - INFO - OpenRouter Request for anthropic/claude-3.5-sonnet (attempt 1): {"model": "anthropic/claude-3.5-sonnet", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:25:41,583 - INFO - OpenRouter response for anthropic/claude-3.5-sonnet (attempt 1): {"id": "gen-1752531940-xSSD92Go2DdYtjKaWaK0", "model": "anthropic/claude-3.5-sonnet", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:25:41,584 - INFO - Received raw move 'g1f3' from model anthropic/claude-3.5-sonnet
2025-07-15 00:25:41,584 - INFO - Using default board with active color: w
2025-07-15 00:25:41,584 - INFO - Processed move: Raw 'g1f3' -> Interpreted 'g1f3' -> UCI 'g1f3' -> SAN 'Nf3'
2025-07-15 00:25:41,585 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:25:42,752 - INFO - Received commentary from openai/gpt-4.1-mini: Nf3! develops a knight to a na...
2025-07-15 00:25:43,089 - INFO - Calling OpenRouter API with model: qwen/qwen-2.5-vl-72b-instruct
2025-07-15 00:25:43,089 - INFO - Detected 1.5 move pairs already made in the game
2025-07-15 00:25:43,089 - INFO - OpenRouter Request for qwen/qwen-2.5-vl-72b-instruct (attempt 1): {"model": "qwen/qwen-2.5-vl-72b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:25:43,548 - INFO - OpenRouter response for qwen/qwen-2.5-vl-72b-instruct (attempt 1): {"id": "gen-1752531943-prxTKitLpgqhfs5NOfou", "model": "qwen/qwen2.5-vl-72b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:25:43,548 - INFO - Received raw move 'd8f6' from model qwen/qwen-2.5-vl-72b-instruct
2025-07-15 00:25:43,549 - INFO - Using default board with active color: b
2025-07-15 00:25:43,549 - INFO - Attempting to interpret ambiguous move with API: 'd8f6'
2025-07-15 00:25:43,573 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd8f6'
2025-07-15 00:25:44,710 - INFO - Interpreted move 'd8f6' as 'd8f6'
2025-07-15 00:25:44,711 - WARNING - Interpreted move 'd8f6' is not legal on the current board
2025-07-15 00:25:44,711 - WARNING - Model qwen/qwen-2.5-vl-72b-instruct made an invalid move: 'd8f6' that couldn't be interpreted (attempt 1/5)
2025-07-15 00:25:44,712 - INFO - Calling OpenRouter API with model: qwen/qwen-2.5-vl-72b-instruct
2025-07-15 00:25:44,714 - INFO - Detected 1.5 move pairs already made in the game
2025-07-15 00:25:44,714 - INFO - OpenRouter Request for qwen/qwen-2.5-vl-72b-instruct (attempt 1): {"model": "qwen/qwen-2.5-vl-72b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:25:45,324 - INFO - OpenRouter response for qwen/qwen-2.5-vl-72b-instruct (attempt 1): {"id": "gen-1752531944-HGwcTS58CZkTyiDyfxaj", "model": "qwen/qwen2.5-vl-72b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:25:45,325 - INFO - Retry 1: Received raw move 'd7d5' from model qwen/qwen-2.5-vl-72b-instruct
2025-07-15 00:25:45,325 - INFO - Using default board with active color: b
2025-07-15 00:25:45,326 - INFO - Processed move: Raw 'd7d5' -> Interpreted 'd7d5' -> UCI 'd7d5' -> SAN 'd5'
2025-07-15 00:25:45,327 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:25:46,819 - INFO - Received commentary from openai/gpt-4.1-mini: 2...d5!? challenges the center...
2025-07-15 00:25:46,832 - INFO - Calling OpenRouter API with model: anthropic/claude-3.5-sonnet
2025-07-15 00:25:46,832 - INFO - Detected 2 move pairs already made in the game
2025-07-15 00:25:46,832 - INFO - OpenRouter Request for anthropic/claude-3.5-sonnet (attempt 1): {"model": "anthropic/claude-3.5-sonnet", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . . . . . .\n. . . p p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:25:50,866 - INFO - OpenRouter response for anthropic/claude-3.5-sonnet (attempt 1): {"id": "gen-1752531946-j03PDiEPQppy8dtMQLLh", "model": "anthropic/claude-3.5-sonnet", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:25:50,867 - INFO - Received raw move 'e4d5' from model anthropic/claude-3.5-sonnet
2025-07-15 00:25:50,867 - INFO - Using default board with active color: w
2025-07-15 00:25:50,867 - INFO - Attempting to interpret ambiguous move with API: 'e4d5'
2025-07-15 00:25:50,890 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e4d5'
2025-07-15 00:25:51,883 - INFO - Interpreted move 'e4d5' as 'INVALID'
2025-07-15 00:25:51,884 - WARNING - Model anthropic/claude-3.5-sonnet made an invalid move: 'e4d5' that couldn't be interpreted (attempt 1/5)
2025-07-15 00:25:51,884 - INFO - Calling OpenRouter API with model: anthropic/claude-3.5-sonnet
2025-07-15 00:25:51,884 - INFO - Detected 2 move pairs already made in the game
2025-07-15 00:25:51,884 - INFO - OpenRouter Request for anthropic/claude-3.5-sonnet (attempt 1): {"model": "anthropic/claude-3.5-sonnet", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . . . . . .\n. . . p p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:25:53,884 - INFO - OpenRouter response for anthropic/claude-3.5-sonnet (attempt 1): {"id": "gen-1752531952-QGMiUWXyppGpmF3la3aq", "model": "anthropic/claude-3.5-sonnet", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:25:53,884 - INFO - Retry 1: Received raw move 'e4d5' from model anthropic/claude-3.5-sonnet
2025-07-15 00:25:53,885 - INFO - Using default board with active color: w
2025-07-15 00:25:53,885 - INFO - Attempting to interpret ambiguous move with API: 'e4d5'
2025-07-15 00:25:53,916 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e4d5'
2025-07-15 00:25:54,625 - INFO - Interpreted move 'e4d5' as 'e4d5'
2025-07-15 00:25:54,626 - WARNING - Interpreted move 'e4d5' is not legal on the current board
2025-07-15 00:25:54,626 - WARNING - Model anthropic/claude-3.5-sonnet made an invalid move: 'e4d5' that couldn't be interpreted (attempt 2/5)
2025-07-15 00:25:54,627 - INFO - Calling OpenRouter API with model: anthropic/claude-3.5-sonnet
2025-07-15 00:25:54,627 - INFO - Detected 2 move pairs already made in the game
2025-07-15 00:25:54,627 - INFO - OpenRouter Request for anthropic/claude-3.5-sonnet (attempt 1): {"model": "anthropic/claude-3.5-sonnet", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . . . . . .\n. . . p p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:25:56,595 - INFO - OpenRouter response for anthropic/claude-3.5-sonnet (attempt 1): {"id": "gen-1752531954-XfdzzES56o3Y9vC01UJz", "model": "anthropic/claude-3.5-sonnet", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:25:56,597 - INFO - Retry 2: Received raw move 'e4d5' from model anthropic/claude-3.5-sonnet
2025-07-15 00:25:56,598 - INFO - Using default board with active color: w
2025-07-15 00:25:56,598 - INFO - Attempting to interpret ambiguous move with API: 'e4d5'
2025-07-15 00:25:56,637 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e4d5'
2025-07-15 00:25:57,426 - INFO - Interpreted move 'e4d5' as 'INVALID'
2025-07-15 00:25:57,427 - WARNING - Model anthropic/claude-3.5-sonnet made an invalid move: 'e4d5' that couldn't be interpreted (attempt 3/5)
2025-07-15 00:25:57,428 - INFO - Calling OpenRouter API with model: anthropic/claude-3.5-sonnet
2025-07-15 00:25:57,428 - INFO - Detected 2 move pairs already made in the game
2025-07-15 00:25:57,428 - INFO - OpenRouter Request for anthropic/claude-3.5-sonnet (attempt 1): {"model": "anthropic/claude-3.5-sonnet", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . . . . . .\n. . . p p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:26:03,208 - INFO - OpenRouter response for anthropic/claude-3.5-sonnet (attempt 1): {"id": "gen-1752531958-jrxHxtzOrk6Vhf8f71yd", "model": "anthropic/claude-3.5-sonnet", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:26:03,209 - INFO - Retry 3: Received raw move 'e4d5' from model anthropic/claude-3.5-sonnet
2025-07-15 00:26:03,209 - INFO - Using default board with active color: w
2025-07-15 00:26:03,209 - INFO - Attempting to interpret ambiguous move with API: 'e4d5'
2025-07-15 00:26:03,235 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e4d5'
2025-07-15 00:26:04,143 - INFO - Interpreted move 'e4d5' as 'INVALID'
2025-07-15 00:26:04,144 - WARNING - Model anthropic/claude-3.5-sonnet made an invalid move: 'e4d5' that couldn't be interpreted (attempt 4/5)
2025-07-15 00:26:04,144 - INFO - Calling OpenRouter API with model: anthropic/claude-3.5-sonnet
2025-07-15 00:26:04,144 - INFO - Detected 2 move pairs already made in the game
2025-07-15 00:26:04,144 - INFO - OpenRouter Request for anthropic/claude-3.5-sonnet (attempt 1): {"model": "anthropic/claude-3.5-sonnet", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . . . . . .\n. . . p p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:26:10,362 - INFO - OpenRouter response for anthropic/claude-3.5-sonnet (attempt 1): {"id": "gen-1752531964-ZmTQUx0fZDrq0EXIIxES", "model": "anthropic/claude-3.5-sonnet", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:26:10,364 - INFO - Retry 4: Received raw move 'e4d5' from model anthropic/claude-3.5-sonnet
2025-07-15 00:26:10,364 - INFO - Using default board with active color: w
2025-07-15 00:26:10,364 - INFO - Attempting to interpret ambiguous move with API: 'e4d5'
2025-07-15 00:26:10,387 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e4d5'
2025-07-15 00:26:12,377 - INFO - Interpreted move 'e4d5' as 'INVALID'
2025-07-15 00:26:12,380 - WARNING - Model anthropic/claude-3.5-sonnet made an invalid move: 'e4d5' that couldn't be interpreted (attempt 5/5)
2025-07-15 00:26:12,381 - ERROR - Model anthropic/claude-3.5-sonnet failed to make a valid move after 5 attempts
2025-07-15 00:26:12,381 - INFO - Requesting game over explanation from openai/gpt-4.1-mini
2025-07-15 00:26:13,836 - INFO - Received game over explanation: Anthropic/claude-3.5-sonnet lost because they ente...
2025-07-15 00:26:16,373 - INFO - New game created: qwen/qwen-2.5-72b-instruct (White) vs qwen/qwen-2.5-7b-instruct:free (Black)
2025-07-15 00:26:16,382 - INFO - WebSocket connection established for game game_1752531976_5138
2025-07-15 00:26:16,383 - INFO - Starting game: qwen/qwen-2.5-72b-instruct vs qwen/qwen-2.5-7b-instruct:free
2025-07-15 00:26:16,384 - INFO - Calling OpenRouter API with model: qwen/qwen-2.5-72b-instruct
2025-07-15 00:26:16,384 - INFO - OpenRouter Request for qwen/qwen-2.5-72b-instruct (attempt 1): {"model": "qwen/qwen-2.5-72b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:26:17,264 - INFO - OpenRouter response for qwen/qwen-2.5-72b-instruct (attempt 1): {"id": "gen-1752531976-NjrJ6KWr98Q0qgkpqAkW", "model": "qwen/qwen-2.5-72b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:26:17,265 - INFO - Received raw move 'e2e4' from model qwen/qwen-2.5-72b-instruct
2025-07-15 00:26:17,266 - INFO - Using default board with active color: w
2025-07-15 00:26:17,266 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-15 00:26:17,267 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:26:18,440 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 ! White takes control of...
2025-07-15 00:26:18,771 - INFO - Calling OpenRouter API with model: qwen/qwen-2.5-7b-instruct:free
2025-07-15 00:26:18,772 - INFO - Detected 0.5 move pairs already made in the game
2025-07-15 00:26:18,772 - INFO - Model has suffix: base=qwen/qwen-2.5-7b-instruct, suffix=:free
2025-07-15 00:26:18,772 - INFO - OpenRouter Request for qwen/qwen-2.5-7b-instruct:free (attempt 1): {"model": "qwen/qwen-2.5-7b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:26:18,969 - ERROR - Error calling model qwen/qwen-2.5-7b-instruct:free (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:26:18,969 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwen-2.5-7b-instruct:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:26:20,470 - INFO - Retry attempt 1/3 for model qwen/qwen-2.5-7b-instruct:free
2025-07-15 00:26:20,470 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:26:20,470 - INFO - OpenRouter Request for qwen/qwen-2.5-7b-instruct:free (attempt 2): {"model": "qwen/qwen-2.5-7b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:26:20,607 - ERROR - Error calling model qwen/qwen-2.5-7b-instruct:free (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:26:20,608 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwen-2.5-7b-instruct:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:26:22,109 - INFO - Retry attempt 2/3 for model qwen/qwen-2.5-7b-instruct:free
2025-07-15 00:26:22,109 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:26:22,110 - INFO - Trying base model without suffix: qwen/qwen-2.5-7b-instruct
2025-07-15 00:26:22,110 - INFO - OpenRouter Request for qwen/qwen-2.5-7b-instruct (attempt 3): {"model": "qwen/qwen-2.5-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:26:23,191 - INFO - OpenRouter response for qwen/qwen-2.5-7b-instruct (attempt 3): {"id": "gen-1752531982-lU7BJfAqcycX6LVilYZt", "model": "qwen/qwen-2.5-7b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:26:23,191 - INFO - Received raw move 'e2e4' from model qwen/qwen-2.5-7b-instruct:free
2025-07-15 00:26:23,191 - INFO - Using default board with active color: b
2025-07-15 00:26:23,192 - INFO - Attempting to interpret ambiguous move with API: 'e2e4'
2025-07-15 00:26:23,211 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e2e4'
2025-07-15 00:26:23,959 - INFO - Interpreted move 'e2e4' as 'INVALID'
2025-07-15 00:26:23,960 - WARNING - Model qwen/qwen-2.5-7b-instruct:free made an invalid move: 'e2e4' that couldn't be interpreted (attempt 1/5)
2025-07-15 00:26:23,960 - INFO - Calling OpenRouter API with model: qwen/qwen-2.5-7b-instruct:free
2025-07-15 00:26:23,960 - INFO - Detected 0.5 move pairs already made in the game
2025-07-15 00:26:23,960 - INFO - Model has suffix: base=qwen/qwen-2.5-7b-instruct, suffix=:free
2025-07-15 00:26:23,960 - INFO - OpenRouter Request for qwen/qwen-2.5-7b-instruct:free (attempt 1): {"model": "qwen/qwen-2.5-7b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:26:24,085 - ERROR - Error calling model qwen/qwen-2.5-7b-instruct:free (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:26:24,085 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwen-2.5-7b-instruct:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:26:25,587 - INFO - Retry attempt 1/3 for model qwen/qwen-2.5-7b-instruct:free
2025-07-15 00:26:25,588 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:26:25,588 - INFO - OpenRouter Request for qwen/qwen-2.5-7b-instruct:free (attempt 2): {"model": "qwen/qwen-2.5-7b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:26:25,742 - ERROR - Error calling model qwen/qwen-2.5-7b-instruct:free (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:26:25,742 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwen-2.5-7b-instruct:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:26:27,244 - INFO - Retry attempt 2/3 for model qwen/qwen-2.5-7b-instruct:free
2025-07-15 00:26:27,244 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:26:27,244 - INFO - Trying base model without suffix: qwen/qwen-2.5-7b-instruct
2025-07-15 00:26:27,244 - INFO - OpenRouter Request for qwen/qwen-2.5-7b-instruct (attempt 3): {"model": "qwen/qwen-2.5-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:26:28,065 - INFO - OpenRouter response for qwen/qwen-2.5-7b-instruct (attempt 3): {"id": "gen-1752531987-eoM7gvkuny1KPuHaa6Wa", "model": "qwen/qwen-2.5-7b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:26:28,066 - INFO - Retry 1: Received raw move 'e2e4' from model qwen/qwen-2.5-7b-instruct:free
2025-07-15 00:26:28,066 - INFO - Using default board with active color: b
2025-07-15 00:26:28,066 - INFO - Attempting to interpret ambiguous move with API: 'e2e4'
2025-07-15 00:26:28,089 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e2e4'
2025-07-15 00:26:28,551 - INFO - Interpreted move 'e2e4' as 'e2e4'
2025-07-15 00:26:28,552 - WARNING - Interpreted move 'e2e4' is not legal on the current board
2025-07-15 00:26:28,552 - WARNING - Model qwen/qwen-2.5-7b-instruct:free made an invalid move: 'e2e4' that couldn't be interpreted (attempt 2/5)
2025-07-15 00:26:28,552 - INFO - Calling OpenRouter API with model: qwen/qwen-2.5-7b-instruct:free
2025-07-15 00:26:28,552 - INFO - Detected 0.5 move pairs already made in the game
2025-07-15 00:26:28,552 - INFO - Model has suffix: base=qwen/qwen-2.5-7b-instruct, suffix=:free
2025-07-15 00:26:28,552 - INFO - OpenRouter Request for qwen/qwen-2.5-7b-instruct:free (attempt 1): {"model": "qwen/qwen-2.5-7b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:26:28,676 - ERROR - Error calling model qwen/qwen-2.5-7b-instruct:free (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:26:28,677 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwen-2.5-7b-instruct:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:26:30,177 - INFO - Retry attempt 1/3 for model qwen/qwen-2.5-7b-instruct:free
2025-07-15 00:26:30,177 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:26:30,179 - INFO - OpenRouter Request for qwen/qwen-2.5-7b-instruct:free (attempt 2): {"model": "qwen/qwen-2.5-7b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:26:30,318 - ERROR - Error calling model qwen/qwen-2.5-7b-instruct:free (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:26:30,318 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwen-2.5-7b-instruct:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:26:31,819 - INFO - Retry attempt 2/3 for model qwen/qwen-2.5-7b-instruct:free
2025-07-15 00:26:31,820 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:26:31,820 - INFO - Trying base model without suffix: qwen/qwen-2.5-7b-instruct
2025-07-15 00:26:31,820 - INFO - OpenRouter Request for qwen/qwen-2.5-7b-instruct (attempt 3): {"model": "qwen/qwen-2.5-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:26:32,701 - INFO - OpenRouter response for qwen/qwen-2.5-7b-instruct (attempt 3): {"id": "gen-1752531991-rZ1khamkiApfebyk5Khe", "model": "qwen/qwen-2.5-7b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:26:32,701 - INFO - Retry 2: Received raw move 'e2e4' from model qwen/qwen-2.5-7b-instruct:free
2025-07-15 00:26:32,702 - INFO - Using default board with active color: b
2025-07-15 00:26:32,702 - INFO - Attempting to interpret ambiguous move with API: 'e2e4'
2025-07-15 00:26:32,726 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e2e4'
2025-07-15 00:26:33,312 - INFO - Interpreted move 'e2e4' as 'INVALID'
2025-07-15 00:26:33,313 - WARNING - Model qwen/qwen-2.5-7b-instruct:free made an invalid move: 'e2e4' that couldn't be interpreted (attempt 3/5)
2025-07-15 00:26:33,313 - INFO - Calling OpenRouter API with model: qwen/qwen-2.5-7b-instruct:free
2025-07-15 00:26:33,313 - INFO - Detected 0.5 move pairs already made in the game
2025-07-15 00:26:33,313 - INFO - Model has suffix: base=qwen/qwen-2.5-7b-instruct, suffix=:free
2025-07-15 00:26:33,313 - INFO - OpenRouter Request for qwen/qwen-2.5-7b-instruct:free (attempt 1): {"model": "qwen/qwen-2.5-7b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:26:33,446 - ERROR - Error calling model qwen/qwen-2.5-7b-instruct:free (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:26:33,447 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwen-2.5-7b-instruct:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:26:34,948 - INFO - Retry attempt 1/3 for model qwen/qwen-2.5-7b-instruct:free
2025-07-15 00:26:34,948 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:26:34,948 - INFO - OpenRouter Request for qwen/qwen-2.5-7b-instruct:free (attempt 2): {"model": "qwen/qwen-2.5-7b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:26:35,076 - ERROR - Error calling model qwen/qwen-2.5-7b-instruct:free (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:26:35,077 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwen-2.5-7b-instruct:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:26:36,580 - INFO - Retry attempt 2/3 for model qwen/qwen-2.5-7b-instruct:free
2025-07-15 00:26:36,581 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:26:36,581 - INFO - Trying base model without suffix: qwen/qwen-2.5-7b-instruct
2025-07-15 00:26:36,581 - INFO - OpenRouter Request for qwen/qwen-2.5-7b-instruct (attempt 3): {"model": "qwen/qwen-2.5-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:26:37,603 - INFO - OpenRouter response for qwen/qwen-2.5-7b-instruct (attempt 3): {"id": "gen-1752531996-lUisRRqXiOwcSIgupJKx", "model": "qwen/qwen-2.5-7b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:26:37,604 - INFO - Retry 3: Received raw move 'd2d4' from model qwen/qwen-2.5-7b-instruct:free
2025-07-15 00:26:37,605 - INFO - Using default board with active color: b
2025-07-15 00:26:37,605 - INFO - Attempting to interpret ambiguous move with API: 'd2d4'
2025-07-15 00:26:37,627 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd2d4'
2025-07-15 00:26:38,459 - INFO - Interpreted move 'd2d4' as 'INVALID'
2025-07-15 00:26:38,460 - WARNING - Model qwen/qwen-2.5-7b-instruct:free made an invalid move: 'd2d4' that couldn't be interpreted (attempt 4/5)
2025-07-15 00:26:38,460 - INFO - Calling OpenRouter API with model: qwen/qwen-2.5-7b-instruct:free
2025-07-15 00:26:38,460 - INFO - Detected 0.5 move pairs already made in the game
2025-07-15 00:26:38,460 - INFO - Model has suffix: base=qwen/qwen-2.5-7b-instruct, suffix=:free
2025-07-15 00:26:38,460 - INFO - OpenRouter Request for qwen/qwen-2.5-7b-instruct:free (attempt 1): {"model": "qwen/qwen-2.5-7b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:26:38,564 - ERROR - Error calling model qwen/qwen-2.5-7b-instruct:free (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:26:38,564 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwen-2.5-7b-instruct:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:26:40,065 - INFO - Retry attempt 1/3 for model qwen/qwen-2.5-7b-instruct:free
2025-07-15 00:26:40,065 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:26:40,065 - INFO - OpenRouter Request for qwen/qwen-2.5-7b-instruct:free (attempt 2): {"model": "qwen/qwen-2.5-7b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:26:40,192 - ERROR - Error calling model qwen/qwen-2.5-7b-instruct:free (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:26:40,192 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwen-2.5-7b-instruct:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:26:41,696 - INFO - Retry attempt 2/3 for model qwen/qwen-2.5-7b-instruct:free
2025-07-15 00:26:41,696 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:26:41,696 - INFO - Trying base model without suffix: qwen/qwen-2.5-7b-instruct
2025-07-15 00:26:41,696 - INFO - OpenRouter Request for qwen/qwen-2.5-7b-instruct (attempt 3): {"model": "qwen/qwen-2.5-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:26:42,186 - INFO - OpenRouter response for qwen/qwen-2.5-7b-instruct (attempt 3): {"id": "gen-1752532001-y6DP6ipYQg0IARV8mSZQ", "model": "qwen/qwen-2.5-7b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:26:42,187 - INFO - Retry 4: Received raw move 'e2e4' from model qwen/qwen-2.5-7b-instruct:free
2025-07-15 00:26:42,187 - INFO - Using default board with active color: b
2025-07-15 00:26:42,187 - INFO - Attempting to interpret ambiguous move with API: 'e2e4'
2025-07-15 00:26:42,207 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e2e4'
2025-07-15 00:26:42,948 - INFO - Interpreted move 'e2e4' as 'INVALID'
2025-07-15 00:26:42,948 - WARNING - Model qwen/qwen-2.5-7b-instruct:free made an invalid move: 'e2e4' that couldn't be interpreted (attempt 5/5)
2025-07-15 00:26:42,948 - ERROR - Model qwen/qwen-2.5-7b-instruct:free failed to make a valid move after 5 attempts
2025-07-15 00:26:42,948 - INFO - Requesting game over explanation from openai/gpt-4.1-mini
2025-07-15 00:26:44,692 - INFO - Received game over explanation: qwen/qwen-2.5-7b-instruct:free lost because it tri...
2025-07-15 00:26:47,411 - INFO - New game created: openai/gpt-4-turbo-preview (White) vs deepseek/deepseek-r1-distill-qwen-32b:free (Black)
2025-07-15 00:26:47,422 - INFO - WebSocket connection established for game game_1752532007_7478
2025-07-15 00:26:47,422 - INFO - Starting game: openai/gpt-4-turbo-preview vs deepseek/deepseek-r1-distill-qwen-32b:free
2025-07-15 00:26:47,424 - INFO - Calling OpenRouter API with model: openai/gpt-4-turbo-preview
2025-07-15 00:26:47,424 - INFO - OpenRouter Request for openai/gpt-4-turbo-preview (attempt 1): {"model": "openai/gpt-4-turbo-preview", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:26:48,358 - INFO - OpenRouter response for openai/gpt-4-turbo-preview (attempt 1): {"id": "gen-1752532007-bAijHlqtCoHPLcOTZD9y", "model": "openai/gpt-4-turbo-preview", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:26:48,358 - INFO - Received raw move 'e2e4' from model openai/gpt-4-turbo-preview
2025-07-15 00:26:48,359 - INFO - Using default board with active color: w
2025-07-15 00:26:48,359 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-15 00:26:48,360 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:26:50,013 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4! White takes control of ...
2025-07-15 00:26:50,366 - INFO - Calling OpenRouter API with model: deepseek/deepseek-r1-distill-qwen-32b:free
2025-07-15 00:26:50,367 - INFO - Detected 0.5 move pairs already made in the game
2025-07-15 00:26:50,367 - INFO - Model has suffix: base=deepseek/deepseek-r1-distill-qwen-32b, suffix=:free
2025-07-15 00:26:50,367 - INFO - OpenRouter Request for deepseek/deepseek-r1-distill-qwen-32b:free (attempt 1): {"model": "deepseek/deepseek-r1-distill-qwen-32b:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:26:50,559 - ERROR - Error calling model deepseek/deepseek-r1-distill-qwen-32b:free (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:26:50,559 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for deepseek/deepseek-r1-distill-qwen-32b:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:26:52,060 - INFO - Retry attempt 1/3 for model deepseek/deepseek-r1-distill-qwen-32b:free
2025-07-15 00:26:52,061 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:26:52,061 - INFO - OpenRouter Request for deepseek/deepseek-r1-distill-qwen-32b:free (attempt 2): {"model": "deepseek/deepseek-r1-distill-qwen-32b:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:26:52,209 - ERROR - Error calling model deepseek/deepseek-r1-distill-qwen-32b:free (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:26:52,210 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for deepseek/deepseek-r1-distill-qwen-32b:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:26:53,711 - INFO - Retry attempt 2/3 for model deepseek/deepseek-r1-distill-qwen-32b:free
2025-07-15 00:26:53,713 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:26:53,713 - INFO - Trying base model without suffix: deepseek/deepseek-r1-distill-qwen-32b
2025-07-15 00:26:53,713 - INFO - OpenRouter Request for deepseek/deepseek-r1-distill-qwen-32b (attempt 3): {"model": "deepseek/deepseek-r1-distill-qwen-32b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:27:30,206 - INFO - OpenRouter response for deepseek/deepseek-r1-distill-qwen-32b (attempt 3): {"id": "gen-1752532013-6aberT23pScxll7LzlkA", "model": "deepseek/deepseek-r1-distill-qwen-32b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:27:30,207 - INFO - Received raw move 'e2e4' from model deepseek/deepseek-r1-distill-qwen-32b:free
2025-07-15 00:27:30,207 - INFO - Using default board with active color: b
2025-07-15 00:27:30,207 - INFO - Attempting to interpret ambiguous move with API: 'e2e4'
2025-07-15 00:27:30,231 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e2e4'
2025-07-15 00:27:30,890 - INFO - Interpreted move 'e2e4' as 'e2e4'
2025-07-15 00:27:30,890 - WARNING - Interpreted move 'e2e4' is not legal on the current board
2025-07-15 00:27:30,890 - WARNING - Model deepseek/deepseek-r1-distill-qwen-32b:free made an invalid move: 'e2e4' that couldn't be interpreted (attempt 1/5)
2025-07-15 00:27:30,890 - INFO - Calling OpenRouter API with model: deepseek/deepseek-r1-distill-qwen-32b:free
2025-07-15 00:27:30,890 - INFO - Detected 0.5 move pairs already made in the game
2025-07-15 00:27:30,890 - INFO - Model has suffix: base=deepseek/deepseek-r1-distill-qwen-32b, suffix=:free
2025-07-15 00:27:30,891 - INFO - OpenRouter Request for deepseek/deepseek-r1-distill-qwen-32b:free (attempt 1): {"model": "deepseek/deepseek-r1-distill-qwen-32b:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:27:31,012 - ERROR - Error calling model deepseek/deepseek-r1-distill-qwen-32b:free (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:27:31,013 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for deepseek/deepseek-r1-distill-qwen-32b:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:27:32,514 - INFO - Retry attempt 1/3 for model deepseek/deepseek-r1-distill-qwen-32b:free
2025-07-15 00:27:32,514 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:27:32,514 - INFO - OpenRouter Request for deepseek/deepseek-r1-distill-qwen-32b:free (attempt 2): {"model": "deepseek/deepseek-r1-distill-qwen-32b:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:27:32,633 - ERROR - Error calling model deepseek/deepseek-r1-distill-qwen-32b:free (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:27:32,634 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for deepseek/deepseek-r1-distill-qwen-32b:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:27:34,135 - INFO - Retry attempt 2/3 for model deepseek/deepseek-r1-distill-qwen-32b:free
2025-07-15 00:27:34,135 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:27:34,135 - INFO - Trying base model without suffix: deepseek/deepseek-r1-distill-qwen-32b
2025-07-15 00:27:34,135 - INFO - OpenRouter Request for deepseek/deepseek-r1-distill-qwen-32b (attempt 3): {"model": "deepseek/deepseek-r1-distill-qwen-32b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:27:41,976 - INFO - OpenRouter response for deepseek/deepseek-r1-distill-qwen-32b (attempt 3): {"id": "gen-1752532054-qCqOHRTHGEOAnxd9MP8p", "model": "deepseek/deepseek-r1-distill-qwen-32b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:27:41,977 - INFO - Retry 1: Received raw move 'e2e4' from model deepseek/deepseek-r1-distill-qwen-32b:free
2025-07-15 00:27:41,977 - INFO - Using default board with active color: b
2025-07-15 00:27:41,977 - INFO - Attempting to interpret ambiguous move with API: 'e2e4'
2025-07-15 00:27:41,996 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e2e4'
2025-07-15 00:27:42,656 - INFO - New game created: openai/gpt-4o-2024-11-20 (White) vs mistralai/codestral-2501 (Black)
2025-07-15 00:27:42,663 - INFO - WebSocket connection established for game game_1752532062_4406
2025-07-15 00:27:42,663 - INFO - Starting game: openai/gpt-4o-2024-11-20 vs mistralai/codestral-2501
2025-07-15 00:27:42,664 - INFO - Calling OpenRouter API with model: openai/gpt-4o-2024-11-20
2025-07-15 00:27:42,664 - INFO - OpenRouter Request for openai/gpt-4o-2024-11-20 (attempt 1): {"model": "openai/gpt-4o-2024-11-20", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:27:42,755 - INFO - Interpreted move 'e2e4' as 'e7e5'
2025-07-15 00:27:42,756 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-07-15 00:27:42,756 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-07-15 00:27:42,756 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:27:43,614 - INFO - OpenRouter response for openai/gpt-4o-2024-11-20 (attempt 1): {"id": "gen-1752532062-OBXdYKfWDihaBasV2tXf", "model": "openai/gpt-4o-2024-11-20", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:27:43,614 - INFO - Received raw move 'e2e4' from model openai/gpt-4o-2024-11-20
2025-07-15 00:27:43,614 - INFO - Using default board with active color: w
2025-07-15 00:27:43,614 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-15 00:27:43,615 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:27:43,756 - INFO - Received commentary from openai/gpt-4.1-mini: 1...e5 is a classic and solid ...
2025-07-15 00:27:44,565 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4! White claims central sp...
2025-07-15 00:27:44,617 - INFO - Calling OpenRouter API with model: mistralai/codestral-2501
2025-07-15 00:27:44,617 - INFO - Detected 0.5 move pairs already made in the game
2025-07-15 00:27:44,617 - INFO - OpenRouter Request for mistralai/codestral-2501 (attempt 1): {"model": "mistralai/codestral-2501", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:27:45,089 - INFO - OpenRouter response for mistralai/codestral-2501 (attempt 1): {"id": "gen-1752532064-TXV6Xg3Tmv4Zl1g6aBB1", "model": "mistralai/codestral-2501", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:27:45,090 - INFO - Received raw move 'e7e5' from model mistralai/codestral-2501
2025-07-15 00:27:45,090 - INFO - Using default board with active color: b
2025-07-15 00:27:45,090 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-07-15 00:27:45,091 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:27:46,246 - INFO - Received commentary from openai/gpt-4.1-mini: 1...e5 is a classical response...
2025-07-15 00:27:46,595 - INFO - Calling OpenRouter API with model: openai/gpt-4o-2024-11-20
2025-07-15 00:27:46,596 - INFO - Detected 1 move pairs already made in the game
2025-07-15 00:27:46,596 - INFO - OpenRouter Request for openai/gpt-4o-2024-11-20 (attempt 1): {"model": "openai/gpt-4o-2024-11-20", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:27:47,314 - INFO - OpenRouter response for openai/gpt-4o-2024-11-20 (attempt 1): {"id": "gen-1752532066-Ygo0cSvc9A5cNor2u6WN", "model": "openai/gpt-4o-2024-11-20", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:27:47,314 - INFO - Received raw move 'g1f3' from model openai/gpt-4o-2024-11-20
2025-07-15 00:27:47,315 - INFO - Using default board with active color: w
2025-07-15 00:27:47,315 - INFO - Processed move: Raw 'g1f3' -> Interpreted 'g1f3' -> UCI 'g1f3' -> SAN 'Nf3'
2025-07-15 00:27:47,316 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:27:48,216 - INFO - Received commentary from openai/gpt-4.1-mini: Nf3 develops a knight towards ...
2025-07-15 00:27:48,318 - INFO - Calling OpenRouter API with model: mistralai/codestral-2501
2025-07-15 00:27:48,318 - INFO - Detected 1.5 move pairs already made in the game
2025-07-15 00:27:48,318 - INFO - OpenRouter Request for mistralai/codestral-2501 (attempt 1): {"model": "mistralai/codestral-2501", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:28:34,795 - INFO - OpenRouter response for mistralai/codestral-2501 (attempt 1): {"id": "gen-1752532068-P0nJ3xuS2KLGG84cNSk4", "model": "mistralai/codestral-2501", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:28:34,796 - INFO - Received raw move 'b8c6' from model mistralai/codestral-2501
2025-07-15 00:28:34,796 - INFO - Using default board with active color: b
2025-07-15 00:28:34,796 - INFO - Processed move: Raw 'b8c6' -> Interpreted 'b8c6' -> UCI 'b8c6' -> SAN 'Nc6'
2025-07-15 00:28:34,797 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:28:36,729 - INFO - Received commentary from openai/gpt-4.1-mini: Nc6 develops a knight to a nat...
2025-07-15 00:28:36,801 - INFO - Calling OpenRouter API with model: openai/gpt-4o-2024-11-20
2025-07-15 00:28:36,801 - INFO - Detected 2 move pairs already made in the game
2025-07-15 00:28:36,801 - INFO - OpenRouter Request for openai/gpt-4o-2024-11-20 (attempt 1): {"model": "openai/gpt-4o-2024-11-20", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr . b q k b n r\np p p p . p p p\n. . n . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 b8c6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:28:37,416 - INFO - OpenRouter response for openai/gpt-4o-2024-11-20 (attempt 1): {"id": "gen-1752532116-GXG7comvUNHrCoYVjvaU", "model": "openai/gpt-4o-2024-11-20", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:28:37,416 - INFO - Received raw move 'f1b5' from model openai/gpt-4o-2024-11-20
2025-07-15 00:28:37,416 - INFO - Using default board with active color: w
2025-07-15 00:28:37,416 - INFO - Attempting to interpret ambiguous move with API: 'f1b5'
2025-07-15 00:28:37,436 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'f1b5'
2025-07-15 00:28:39,715 - INFO - Interpreted move 'f1b5' as 'INVALID'
2025-07-15 00:28:39,716 - WARNING - Model openai/gpt-4o-2024-11-20 made an invalid move: 'f1b5' that couldn't be interpreted (attempt 1/5)
2025-07-15 00:28:39,717 - INFO - Calling OpenRouter API with model: openai/gpt-4o-2024-11-20
2025-07-15 00:28:39,717 - INFO - Detected 2 move pairs already made in the game
2025-07-15 00:28:39,717 - INFO - OpenRouter Request for openai/gpt-4o-2024-11-20 (attempt 1): {"model": "openai/gpt-4o-2024-11-20", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr . b q k b n r\np p p p . p p p\n. . n . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 b8c6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:28:41,166 - INFO - OpenRouter response for openai/gpt-4o-2024-11-20 (attempt 1): {"id": "gen-1752532119-gOnhkTatoAb6isP1hmBL", "model": "openai/gpt-4o-2024-11-20", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:28:41,167 - INFO - Retry 1: Received raw move 'f1c4' from model openai/gpt-4o-2024-11-20
2025-07-15 00:28:41,168 - INFO - Using default board with active color: w
2025-07-15 00:28:41,168 - INFO - Attempting to interpret ambiguous move with API: 'f1c4'
2025-07-15 00:28:41,191 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'f1c4'
2025-07-15 00:28:41,850 - INFO - Interpreted move 'f1c4' as 'f1c4'
2025-07-15 00:28:41,851 - WARNING - Interpreted move 'f1c4' is not legal on the current board
2025-07-15 00:28:41,851 - WARNING - Model openai/gpt-4o-2024-11-20 made an invalid move: 'f1c4' that couldn't be interpreted (attempt 2/5)
2025-07-15 00:28:41,852 - INFO - Calling OpenRouter API with model: openai/gpt-4o-2024-11-20
2025-07-15 00:28:41,852 - INFO - Detected 2 move pairs already made in the game
2025-07-15 00:28:41,853 - INFO - OpenRouter Request for openai/gpt-4o-2024-11-20 (attempt 1): {"model": "openai/gpt-4o-2024-11-20", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr . b q k b n r\np p p p . p p p\n. . n . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 b8c6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:28:42,403 - INFO - OpenRouter response for openai/gpt-4o-2024-11-20 (attempt 1): {"id": "gen-1752532121-oksWGdAAbuJy5ZaUj3EQ", "model": "openai/gpt-4o-2024-11-20", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:28:42,403 - INFO - Retry 2: Received raw move 'f1b5' from model openai/gpt-4o-2024-11-20
2025-07-15 00:28:42,403 - INFO - Using default board with active color: w
2025-07-15 00:28:42,404 - INFO - Attempting to interpret ambiguous move with API: 'f1b5'
2025-07-15 00:28:42,424 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'f1b5'
2025-07-15 00:28:43,079 - INFO - Interpreted move 'f1b5' as 'INVALID'
2025-07-15 00:28:43,080 - WARNING - Model openai/gpt-4o-2024-11-20 made an invalid move: 'f1b5' that couldn't be interpreted (attempt 3/5)
2025-07-15 00:28:43,081 - INFO - Calling OpenRouter API with model: openai/gpt-4o-2024-11-20
2025-07-15 00:28:43,081 - INFO - Detected 2 move pairs already made in the game
2025-07-15 00:28:43,081 - INFO - OpenRouter Request for openai/gpt-4o-2024-11-20 (attempt 1): {"model": "openai/gpt-4o-2024-11-20", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr . b q k b n r\np p p p . p p p\n. . n . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 b8c6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:28:43,718 - INFO - OpenRouter response for openai/gpt-4o-2024-11-20 (attempt 1): {"id": "gen-1752532123-lcUcSgnsnxA7bIwqCn9F", "model": "openai/gpt-4o-2024-11-20", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:28:43,720 - INFO - Retry 3: Received raw move 'f1c4' from model openai/gpt-4o-2024-11-20
2025-07-15 00:28:43,720 - INFO - Using default board with active color: w
2025-07-15 00:28:43,721 - INFO - Attempting to interpret ambiguous move with API: 'f1c4'
2025-07-15 00:28:43,747 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'f1c4'
2025-07-15 00:28:44,416 - INFO - Interpreted move 'f1c4' as 'f1c4'
2025-07-15 00:28:44,417 - WARNING - Interpreted move 'f1c4' is not legal on the current board
2025-07-15 00:28:44,417 - WARNING - Model openai/gpt-4o-2024-11-20 made an invalid move: 'f1c4' that couldn't be interpreted (attempt 4/5)
2025-07-15 00:28:44,417 - INFO - Calling OpenRouter API with model: openai/gpt-4o-2024-11-20
2025-07-15 00:28:44,417 - INFO - Detected 2 move pairs already made in the game
2025-07-15 00:28:44,417 - INFO - OpenRouter Request for openai/gpt-4o-2024-11-20 (attempt 1): {"model": "openai/gpt-4o-2024-11-20", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr . b q k b n r\np p p p . p p p\n. . n . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 b8c6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:28:45,028 - INFO - OpenRouter response for openai/gpt-4o-2024-11-20 (attempt 1): {"id": "gen-1752532124-ftdSR63bxkxkZSNGbIT6", "model": "openai/gpt-4o-2024-11-20", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:28:45,028 - INFO - Retry 4: Received raw move 'f1b5' from model openai/gpt-4o-2024-11-20
2025-07-15 00:28:45,028 - INFO - Using default board with active color: w
2025-07-15 00:28:45,029 - INFO - Attempting to interpret ambiguous move with API: 'f1b5'
2025-07-15 00:28:45,048 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'f1b5'
2025-07-15 00:28:45,813 - INFO - Interpreted move 'f1b5' as 'INVALID'
2025-07-15 00:28:45,813 - WARNING - Model openai/gpt-4o-2024-11-20 made an invalid move: 'f1b5' that couldn't be interpreted (attempt 5/5)
2025-07-15 00:28:45,813 - ERROR - Model openai/gpt-4o-2024-11-20 failed to make a valid move after 5 attempts
2025-07-15 00:28:45,813 - INFO - Requesting game over explanation from openai/gpt-4.1-mini
2025-07-15 00:28:47,163 - INFO - Received game over explanation: Openai/gpt-4o-2024-11-20 lost because it tried to ...
2025-07-15 00:28:49,792 - INFO - New game created: openai/o1-preview-2024-09-12 (White) vs anthropic/claude-3.7-sonnet (Black)
2025-07-15 00:28:49,797 - INFO - WebSocket connection established for game game_1752532129_9642
2025-07-15 00:28:49,797 - INFO - Starting game: openai/o1-preview-2024-09-12 vs anthropic/claude-3.7-sonnet
2025-07-15 00:28:49,798 - INFO - Calling OpenRouter API with model: openai/o1-preview-2024-09-12
2025-07-15 00:28:49,799 - INFO - OpenRouter Request for openai/o1-preview-2024-09-12 (attempt 1): {"model": "openai/o1-preview-2024-09-12", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:28:52,438 - INFO - New game created: amazon/nova-pro-v1 (White) vs anthropic/claude-3.5-sonnet-20240620:beta (Black)
2025-07-15 00:28:52,447 - INFO - WebSocket connection established for game game_1752532132_4520
2025-07-15 00:28:52,447 - INFO - Starting game: amazon/nova-pro-v1 vs anthropic/claude-3.5-sonnet-20240620:beta
2025-07-15 00:28:52,448 - INFO - Calling OpenRouter API with model: amazon/nova-pro-v1
2025-07-15 00:28:52,448 - INFO - OpenRouter Request for amazon/nova-pro-v1 (attempt 1): {"model": "amazon/nova-pro-v1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:28:53,256 - INFO - OpenRouter response for amazon/nova-pro-v1 (attempt 1): {"id": "gen-1752532132-0Op3r9cNrksoyxuiBKPl", "model": "amazon/nova-pro-v1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:28:53,257 - INFO - Received raw move 'e2e4' from model amazon/nova-pro-v1
2025-07-15 00:28:53,257 - INFO - Using default board with active color: w
2025-07-15 00:28:53,258 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-15 00:28:53,259 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:28:54,407 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 ! White takes control of...
2025-07-15 00:28:54,763 - INFO - Calling OpenRouter API with model: anthropic/claude-3.5-sonnet-20240620:beta
2025-07-15 00:28:54,763 - INFO - Detected 0.5 move pairs already made in the game
2025-07-15 00:28:54,763 - INFO - Model has suffix: base=anthropic/claude-3.5-sonnet-20240620, suffix=:beta
2025-07-15 00:28:54,763 - INFO - OpenRouter Request for anthropic/claude-3.5-sonnet-20240620:beta (attempt 1): {"model": "anthropic/claude-3.5-sonnet-20240620:beta", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:28:56,131 - INFO - OpenRouter response for anthropic/claude-3.5-sonnet-20240620:beta (attempt 1): {"id": "gen-1752532134-A03bPoiF5D2ZL0GHVRve", "model": "anthropic/claude-3.5-sonnet-20240620:beta", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:28:56,131 - INFO - Received raw move 'e7e5' from model anthropic/claude-3.5-sonnet-20240620:beta
2025-07-15 00:28:56,131 - INFO - Using default board with active color: b
2025-07-15 00:28:56,132 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-07-15 00:28:56,132 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:28:57,253 - INFO - Received commentary from openai/gpt-4.1-mini: 1... e5 is a classical and sol...
2025-07-15 00:28:57,635 - INFO - Calling OpenRouter API with model: amazon/nova-pro-v1
2025-07-15 00:28:57,636 - INFO - Detected 1 move pairs already made in the game
2025-07-15 00:28:57,636 - INFO - OpenRouter Request for amazon/nova-pro-v1 (attempt 1): {"model": "amazon/nova-pro-v1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:28:59,300 - INFO - OpenRouter response for amazon/nova-pro-v1 (attempt 1): {"id": "gen-1752532137-6NXkHwAbQF8Juo9jiwq4", "model": "amazon/nova-pro-v1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:28:59,301 - INFO - Received raw move 'g1f3' from model amazon/nova-pro-v1
2025-07-15 00:28:59,301 - INFO - Using default board with active color: w
2025-07-15 00:28:59,301 - INFO - Processed move: Raw 'g1f3' -> Interpreted 'g1f3' -> UCI 'g1f3' -> SAN 'Nf3'
2025-07-15 00:28:59,301 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:29:00,200 - INFO - Received commentary from openai/gpt-4.1-mini: Nf3 develops a knight towards ...
2025-07-15 00:29:00,304 - INFO - Calling OpenRouter API with model: anthropic/claude-3.5-sonnet-20240620:beta
2025-07-15 00:29:00,304 - INFO - Detected 1.5 move pairs already made in the game
2025-07-15 00:29:00,305 - INFO - Model has suffix: base=anthropic/claude-3.5-sonnet-20240620, suffix=:beta
2025-07-15 00:29:00,305 - INFO - OpenRouter Request for anthropic/claude-3.5-sonnet-20240620:beta (attempt 1): {"model": "anthropic/claude-3.5-sonnet-20240620:beta", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:29:01,345 - INFO - OpenRouter response for anthropic/claude-3.5-sonnet-20240620:beta (attempt 1): {"id": "gen-1752532140-T5VEmiaeM3zfNxID7ZPC", "model": "anthropic/claude-3.5-sonnet-20240620:beta", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:29:01,346 - INFO - Received raw move 'g8f6' from model anthropic/claude-3.5-sonnet-20240620:beta
2025-07-15 00:29:01,346 - INFO - Using default board with active color: b
2025-07-15 00:29:01,346 - INFO - Processed move: Raw 'g8f6' -> Interpreted 'g8f6' -> UCI 'g8f6' -> SAN 'Nf6'
2025-07-15 00:29:01,347 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:29:02,733 - INFO - Received commentary from openai/gpt-4.1-mini: Black's Nf6 develops a knight ...
2025-07-15 00:29:02,850 - INFO - Calling OpenRouter API with model: amazon/nova-pro-v1
2025-07-15 00:29:02,850 - INFO - Detected 2 move pairs already made in the game
2025-07-15 00:29:02,851 - INFO - OpenRouter Request for amazon/nova-pro-v1 (attempt 1): {"model": "amazon/nova-pro-v1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p p . p p p\n. . . . . n . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 g8f6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:29:03,590 - INFO - OpenRouter response for openai/o1-preview-2024-09-12 (attempt 1): {"id": "gen-1752532129-2T9HsaQWYdqh81QRwejE", "model": "openai/o1-preview-2024-09-12", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:29:03,591 - INFO - Received raw move 'e2e4' from model openai/o1-preview-2024-09-12
2025-07-15 00:29:03,592 - INFO - Using default board with active color: w
2025-07-15 00:29:03,592 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-15 00:29:03,592 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-07-15 00:29:03,592 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:29:03,789 - INFO - OpenRouter response for amazon/nova-pro-v1 (attempt 1): {"id": "gen-1752532143-HCIYK4rO0srubmKt83Hy", "model": "amazon/nova-pro-v1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:29:03,789 - INFO - Received raw move 'd2d3' from model amazon/nova-pro-v1
2025-07-15 00:29:03,790 - INFO - Using default board with active color: w
2025-07-15 00:29:03,790 - INFO - Processed move: Raw 'd2d3' -> Interpreted 'd2d3' -> UCI 'd2d3' -> SAN 'd3'
2025-07-15 00:29:03,791 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:29:05,190 - INFO - Received commentary from openai/gpt-4.1-mini: 3. d3 is a solid, non-committa...
2025-07-15 00:29:05,296 - INFO - Calling OpenRouter API with model: anthropic/claude-3.5-sonnet-20240620:beta
2025-07-15 00:29:05,296 - INFO - Detected 2.5 move pairs already made in the game
2025-07-15 00:29:05,296 - INFO - Model has suffix: base=anthropic/claude-3.5-sonnet-20240620, suffix=:beta
2025-07-15 00:29:05,296 - INFO - OpenRouter Request for anthropic/claude-3.5-sonnet-20240620:beta (attempt 1): {"model": "anthropic/claude-3.5-sonnet-20240620:beta", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b . r\np p p p . p p p\n. . . . . n . .\n. . . . p . . .\n. . . . P . . .\n. . . P . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 g8f6\n3. d2d3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:29:06,064 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4! White takes control of ...
2025-07-15 00:29:07,188 - INFO - OpenRouter response for anthropic/claude-3.5-sonnet-20240620:beta (attempt 1): {"id": "gen-1752532145-8cqVfDCAwXZGq87Q0Vwy", "model": "anthropic/claude-3.5-sonnet-20240620:beta", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:29:07,188 - INFO - Received raw move 'd7d6' from model anthropic/claude-3.5-sonnet-20240620:beta
2025-07-15 00:29:07,188 - INFO - Using default board with active color: b
2025-07-15 00:29:07,188 - INFO - Processed move: Raw 'd7d6' -> Interpreted 'd7d6' -> UCI 'd7d6' -> SAN 'd6'
2025-07-15 00:29:07,189 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:29:08,357 - INFO - Received commentary from openai/gpt-4.1-mini: 3...d6 is a solid and classica...
2025-07-15 00:29:08,691 - INFO - Calling OpenRouter API with model: amazon/nova-pro-v1
2025-07-15 00:29:08,691 - INFO - Detected 3 move pairs already made in the game
2025-07-15 00:29:08,691 - INFO - OpenRouter Request for amazon/nova-pro-v1 (attempt 1): {"model": "amazon/nova-pro-v1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p . . p p p\n. . . p . n . .\n. . . . p . . .\n. . . . P . . .\n. . . P . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 g8f6\n3. d2d3 d7d6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:29:09,417 - INFO - OpenRouter response for amazon/nova-pro-v1 (attempt 1): {"id": "gen-1752532148-XdlQBTIZyLgq8uKr3PkL", "model": "amazon/nova-pro-v1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:29:09,418 - INFO - Received raw move 'b1c3' from model amazon/nova-pro-v1
2025-07-15 00:29:09,418 - INFO - Using default board with active color: w
2025-07-15 00:29:09,420 - INFO - Processed move: Raw 'b1c3' -> Interpreted 'b1c3' -> UCI 'b1c3' -> SAN 'Nc3'
2025-07-15 00:29:09,421 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:29:10,480 - INFO - Received commentary from openai/gpt-4.1-mini: Nc3 develops a knight to a nat...
2025-07-15 00:29:10,923 - INFO - Calling OpenRouter API with model: anthropic/claude-3.5-sonnet-20240620:beta
2025-07-15 00:29:10,923 - INFO - Detected 3.5 move pairs already made in the game
2025-07-15 00:29:10,923 - INFO - Model has suffix: base=anthropic/claude-3.5-sonnet-20240620, suffix=:beta
2025-07-15 00:29:10,923 - INFO - OpenRouter Request for anthropic/claude-3.5-sonnet-20240620:beta (attempt 1): {"model": "anthropic/claude-3.5-sonnet-20240620:beta", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b . r\np p p . . p p p\n. . . p . n . .\n. . . . p . . .\n. . . . P . . .\n. . N P . N . .\nP P P . . P P P\nR . B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 g8f6\n3. d2d3 d7d6\n4. b1c3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:29:11,974 - INFO - OpenRouter response for anthropic/claude-3.5-sonnet-20240620:beta (attempt 1): {"id": "gen-1752532151-X4mYiaS69FdqqMlF0Vfu", "model": "anthropic/claude-3.5-sonnet-20240620:beta", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:29:11,974 - INFO - Received raw move 'c7c5' from model anthropic/claude-3.5-sonnet-20240620:beta
2025-07-15 00:29:11,975 - INFO - Using default board with active color: b
2025-07-15 00:29:11,975 - INFO - Processed move: Raw 'c7c5' -> Interpreted 'c7c5' -> UCI 'c7c5' -> SAN 'c5'
2025-07-15 00:29:11,975 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:29:13,358 - INFO - Received commentary from openai/gpt-4.1-mini: 4...c5 challenges White's cent...
2025-07-15 00:29:13,481 - INFO - Calling OpenRouter API with model: amazon/nova-pro-v1
2025-07-15 00:29:13,482 - INFO - Detected 4 move pairs already made in the game
2025-07-15 00:29:13,482 - INFO - OpenRouter Request for amazon/nova-pro-v1 (attempt 1): {"model": "amazon/nova-pro-v1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p . . . p p p\n. . . p . n . .\n. . p . p . . .\n. . . . P . . .\n. . N P . N . .\nP P P . . P P P\nR . B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 g8f6\n3. d2d3 d7d6\n4. b1c3 c7c5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:29:14,230 - INFO - OpenRouter response for amazon/nova-pro-v1 (attempt 1): {"id": "gen-1752532153-9vDR3HuAsb8Y5bkAcZKJ", "model": "amazon/nova-pro-v1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:29:14,230 - INFO - Received raw move 'f1e2' from model amazon/nova-pro-v1
2025-07-15 00:29:14,231 - INFO - Using default board with active color: w
2025-07-15 00:29:14,231 - INFO - Attempting to interpret ambiguous move with API: 'f1e2'
2025-07-15 00:29:14,251 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'f1e2'
2025-07-15 00:29:14,884 - INFO - Interpreted move 'f1e2' as 'f1e2'
2025-07-15 00:29:14,884 - WARNING - Interpreted move 'f1e2' is not legal on the current board
2025-07-15 00:29:14,886 - WARNING - Model amazon/nova-pro-v1 made an invalid move: 'f1e2' that couldn't be interpreted (attempt 1/5)
2025-07-15 00:29:14,886 - INFO - Calling OpenRouter API with model: amazon/nova-pro-v1
2025-07-15 00:29:14,887 - INFO - Detected 4 move pairs already made in the game
2025-07-15 00:29:14,887 - INFO - OpenRouter Request for amazon/nova-pro-v1 (attempt 1): {"model": "amazon/nova-pro-v1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p . . . p p p\n. . . p . n . .\n. . p . p . . .\n. . . . P . . .\n. . N P . N . .\nP P P . . P P P\nR . B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 g8f6\n3. d2d3 d7d6\n4. b1c3 c7c5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:29:15,626 - INFO - OpenRouter response for amazon/nova-pro-v1 (attempt 1): {"id": "gen-1752532155-fwHq8a0Djrnoq6BFJW9U", "model": "amazon/nova-pro-v1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:29:15,626 - INFO - Retry 1: Received raw move 'f1e2' from model amazon/nova-pro-v1
2025-07-15 00:29:15,626 - INFO - Using default board with active color: w
2025-07-15 00:29:15,626 - INFO - Attempting to interpret ambiguous move with API: 'f1e2'
2025-07-15 00:29:15,642 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'f1e2'
2025-07-15 00:29:16,272 - INFO - Interpreted move 'f1e2' as 'f1e2'
2025-07-15 00:29:16,272 - WARNING - Interpreted move 'f1e2' is not legal on the current board
2025-07-15 00:29:16,273 - WARNING - Model amazon/nova-pro-v1 made an invalid move: 'f1e2' that couldn't be interpreted (attempt 2/5)
2025-07-15 00:29:16,273 - INFO - Calling OpenRouter API with model: amazon/nova-pro-v1
2025-07-15 00:29:16,273 - INFO - Detected 4 move pairs already made in the game
2025-07-15 00:29:16,273 - INFO - OpenRouter Request for amazon/nova-pro-v1 (attempt 1): {"model": "amazon/nova-pro-v1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p . . . p p p\n. . . p . n . .\n. . p . p . . .\n. . . . P . . .\n. . N P . N . .\nP P P . . P P P\nR . B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 g8f6\n3. d2d3 d7d6\n4. b1c3 c7c5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:29:17,061 - INFO - OpenRouter response for amazon/nova-pro-v1 (attempt 1): {"id": "gen-1752532156-IIbxKBTXkTYnTteSa2t6", "model": "amazon/nova-pro-v1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:29:17,062 - INFO - Retry 2: Received raw move 'f1e2' from model amazon/nova-pro-v1
2025-07-15 00:29:17,063 - INFO - Using default board with active color: w
2025-07-15 00:29:17,063 - INFO - Attempting to interpret ambiguous move with API: 'f1e2'
2025-07-15 00:29:17,098 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'f1e2'
2025-07-15 00:29:17,663 - INFO - Interpreted move 'f1e2' as 'f1e2'
2025-07-15 00:29:17,663 - WARNING - Interpreted move 'f1e2' is not legal on the current board
2025-07-15 00:29:17,664 - WARNING - Model amazon/nova-pro-v1 made an invalid move: 'f1e2' that couldn't be interpreted (attempt 3/5)
2025-07-15 00:29:17,665 - INFO - Calling OpenRouter API with model: amazon/nova-pro-v1
2025-07-15 00:29:17,665 - INFO - Detected 4 move pairs already made in the game
2025-07-15 00:29:17,665 - INFO - OpenRouter Request for amazon/nova-pro-v1 (attempt 1): {"model": "amazon/nova-pro-v1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p . . . p p p\n. . . p . n . .\n. . p . p . . .\n. . . . P . . .\n. . N P . N . .\nP P P . . P P P\nR . B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 g8f6\n3. d2d3 d7d6\n4. b1c3 c7c5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:29:18,475 - INFO - OpenRouter response for amazon/nova-pro-v1 (attempt 1): {"id": "gen-1752532157-dzuYkcNf6WiuDn6PHb8U", "model": "amazon/nova-pro-v1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:29:18,476 - INFO - Retry 3: Received raw move 'f1e2' from model amazon/nova-pro-v1
2025-07-15 00:29:18,476 - INFO - Using default board with active color: w
2025-07-15 00:29:18,476 - INFO - Attempting to interpret ambiguous move with API: 'f1e2'
2025-07-15 00:29:18,500 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'f1e2'
2025-07-15 00:29:20,760 - INFO - Interpreted move 'f1e2' as 'f1e2'
2025-07-15 00:29:20,761 - WARNING - Interpreted move 'f1e2' is not legal on the current board
2025-07-15 00:29:20,762 - WARNING - Model amazon/nova-pro-v1 made an invalid move: 'f1e2' that couldn't be interpreted (attempt 4/5)
2025-07-15 00:29:20,762 - INFO - Calling OpenRouter API with model: amazon/nova-pro-v1
2025-07-15 00:29:20,762 - INFO - Detected 4 move pairs already made in the game
2025-07-15 00:29:20,762 - INFO - OpenRouter Request for amazon/nova-pro-v1 (attempt 1): {"model": "amazon/nova-pro-v1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p . . . p p p\n. . . p . n . .\n. . p . p . . .\n. . . . P . . .\n. . N P . N . .\nP P P . . P P P\nR . B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 g8f6\n3. d2d3 d7d6\n4. b1c3 c7c5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:29:21,649 - INFO - OpenRouter response for amazon/nova-pro-v1 (attempt 1): {"id": "gen-1752532160-iHDkVUK2V689mKcnNixu", "model": "amazon/nova-pro-v1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:29:21,650 - INFO - Retry 4: Received raw move 'f1e2' from model amazon/nova-pro-v1
2025-07-15 00:29:21,650 - INFO - Using default board with active color: w
2025-07-15 00:29:21,651 - INFO - Attempting to interpret ambiguous move with API: 'f1e2'
2025-07-15 00:29:21,684 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'f1e2'
2025-07-15 00:29:23,665 - INFO - Interpreted move 'f1e2' as 'f1e2'
2025-07-15 00:29:23,665 - WARNING - Interpreted move 'f1e2' is not legal on the current board
2025-07-15 00:29:23,666 - WARNING - Model amazon/nova-pro-v1 made an invalid move: 'f1e2' that couldn't be interpreted (attempt 5/5)
2025-07-15 00:29:23,666 - ERROR - Model amazon/nova-pro-v1 failed to make a valid move after 5 attempts
2025-07-15 00:29:23,666 - INFO - Requesting game over explanation from openai/gpt-4.1-mini
2025-07-15 00:29:25,388 - INFO - Received game over explanation: Amazon/nova-pro-v1 lost because it tried to make a...
2025-07-15 00:29:28,109 - INFO - New game created: google/gemini-2.5-flash-preview (White) vs openai/o3 (Black)
2025-07-15 00:29:28,116 - INFO - WebSocket connection established for game game_1752532168_6963
2025-07-15 00:29:28,117 - INFO - Starting game: google/gemini-2.5-flash-preview vs openai/o3
2025-07-15 00:29:28,119 - INFO - Calling OpenRouter API with model: google/gemini-2.5-flash-preview
2025-07-15 00:29:28,120 - INFO - OpenRouter Request for google/gemini-2.5-flash-preview (attempt 1): {"model": "google/gemini-2.5-flash-preview", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:29:29,975 - INFO - OpenRouter response for google/gemini-2.5-flash-preview (attempt 1): {"id": "gen-1752532168-cEihXYVp3nDAVAu2ACs0", "model": "google/gemini-2.5-flash-preview", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:29:29,976 - INFO - Received raw move 'e2e4' from model google/gemini-2.5-flash-preview
2025-07-15 00:29:29,976 - INFO - Using default board with active color: w
2025-07-15 00:29:29,978 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-15 00:29:29,979 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:29:32,483 - INFO - Calling OpenRouter API with model: openai/o3
2025-07-15 00:29:32,483 - INFO - Detected 0.5 move pairs already made in the game
2025-07-15 00:29:32,483 - INFO - OpenRouter Request for openai/o3 (attempt 1): {"model": "openai/o3", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:29:33,350 - INFO - Received commentary from openai/gpt-4.1-mini: 1.e4! White stakes a strong cl...
2025-07-15 00:29:34,406 - ERROR - Error calling model openai/o3 (attempt 1): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-15 00:29:34,406 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"message\": \"Your organization must be verified to stream this model. Please go to: https://platform.openai.com/settings/organization/general and click on Verify Organization. If you just verified, it can take up to 15 minutes for access to propagate.\",\n    \"type\": \"invalid_request_error\",\n    \"param\": \"stream\",\n    \"code\": \"unsupported_value\"\n  }\n}","provider_name":"OpenAI"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:29:35,907 - INFO - Retry attempt 1/3 for model openai/o3
2025-07-15 00:29:35,908 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:29:35,908 - INFO - OpenRouter Request for openai/o3 (attempt 2): {"model": "openai/o3", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:29:36,385 - ERROR - Error calling model openai/o3 (attempt 2): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-15 00:29:36,386 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"message\": \"Your organization must be verified to stream this model. Please go to: https://platform.openai.com/settings/organization/general and click on Verify Organization. If you just verified, it can take up to 15 minutes for access to propagate.\",\n    \"type\": \"invalid_request_error\",\n    \"param\": \"stream\",\n    \"code\": \"unsupported_value\"\n  }\n}","provider_name":"OpenAI"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:29:37,887 - INFO - Retry attempt 2/3 for model openai/o3
2025-07-15 00:29:37,888 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:29:37,888 - INFO - OpenRouter Request for openai/o3 (attempt 3): {"model": "openai/o3", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:29:38,325 - ERROR - Error calling model openai/o3 (attempt 3): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-15 00:29:38,325 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"message\": \"Your organization must be verified to stream this model. Please go to: https://platform.openai.com/settings/organization/general and click on Verify Organization. If you just verified, it can take up to 15 minutes for access to propagate.\",\n    \"type\": \"invalid_request_error\",\n    \"param\": \"stream\",\n    \"code\": \"unsupported_value\"\n  }\n}","provider_name":"OpenAI"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:29:39,828 - INFO - Retry attempt 3/3 for model openai/o3
2025-07-15 00:29:39,829 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:29:39,829 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:29:39,829 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:29:40,547 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752532179-2Q7i4O7R4PKwDDQp5Nkg", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:29:40,548 - INFO - Received raw move 'e7e5' from model openai/o3
2025-07-15 00:29:40,548 - INFO - Using default board with active color: b
2025-07-15 00:29:40,548 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-07-15 00:29:40,549 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:29:41,313 - INFO - Received commentary from openai/gpt-4.1-mini: 1...e5 is a classical response...
2025-07-15 00:29:41,551 - INFO - Calling OpenRouter API with model: google/gemini-2.5-flash-preview
2025-07-15 00:29:41,551 - INFO - Detected 1 move pairs already made in the game
2025-07-15 00:29:41,551 - INFO - OpenRouter Request for google/gemini-2.5-flash-preview (attempt 1): {"model": "google/gemini-2.5-flash-preview", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:29:42,856 - INFO - OpenRouter response for google/gemini-2.5-flash-preview (attempt 1): {"id": "gen-1752532181-Ou9jNk40V2yCcPUlZQZE", "model": "google/gemini-2.5-flash-preview", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:29:42,857 - INFO - Received raw move 'g1f3' from model google/gemini-2.5-flash-preview
2025-07-15 00:29:42,857 - INFO - Using default board with active color: w
2025-07-15 00:29:42,857 - INFO - Processed move: Raw 'g1f3' -> Interpreted 'g1f3' -> UCI 'g1f3' -> SAN 'Nf3'
2025-07-15 00:29:42,858 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:29:43,929 - INFO - Received commentary from openai/gpt-4.1-mini: Nf3 develops a knight to a nat...
2025-07-15 00:29:44,362 - INFO - Calling OpenRouter API with model: openai/o3
2025-07-15 00:29:44,362 - INFO - Detected 1.5 move pairs already made in the game
2025-07-15 00:29:44,363 - INFO - OpenRouter Request for openai/o3 (attempt 1): {"model": "openai/o3", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:29:44,728 - ERROR - Error calling model openai/o3 (attempt 1): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-15 00:29:44,729 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"message\": \"Your organization must be verified to stream this model. Please go to: https://platform.openai.com/settings/organization/general and click on Verify Organization. If you just verified, it can take up to 15 minutes for access to propagate.\",\n    \"type\": \"invalid_request_error\",\n    \"param\": \"stream\",\n    \"code\": \"unsupported_value\"\n  }\n}","provider_name":"OpenAI"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:29:46,230 - INFO - Retry attempt 1/3 for model openai/o3
2025-07-15 00:29:46,231 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:29:46,231 - INFO - OpenRouter Request for openai/o3 (attempt 2): {"model": "openai/o3", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:29:46,597 - ERROR - Error calling model openai/o3 (attempt 2): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-15 00:29:46,598 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"message\": \"Your organization must be verified to stream this model. Please go to: https://platform.openai.com/settings/organization/general and click on Verify Organization. If you just verified, it can take up to 15 minutes for access to propagate.\",\n    \"type\": \"invalid_request_error\",\n    \"param\": \"stream\",\n    \"code\": \"unsupported_value\"\n  }\n}","provider_name":"OpenAI"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:29:48,099 - INFO - Retry attempt 2/3 for model openai/o3
2025-07-15 00:29:48,099 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:29:48,099 - INFO - OpenRouter Request for openai/o3 (attempt 3): {"model": "openai/o3", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:29:48,972 - ERROR - Error calling model openai/o3 (attempt 3): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-15 00:29:48,972 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"message\": \"Your organization must be verified to stream this model. Please go to: https://platform.openai.com/settings/organization/general and click on Verify Organization. If you just verified, it can take up to 15 minutes for access to propagate.\",\n    \"type\": \"invalid_request_error\",\n    \"param\": \"stream\",\n    \"code\": \"unsupported_value\"\n  }\n}","provider_name":"OpenAI"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:29:50,473 - INFO - Retry attempt 3/3 for model openai/o3
2025-07-15 00:29:50,474 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:29:50,474 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:29:50,474 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:29:52,695 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752532191-AQrpeLWeQ4FvT7srFNpE", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:29:52,696 - INFO - Received raw move 'e5e4' from model openai/o3
2025-07-15 00:29:52,696 - INFO - Using default board with active color: b
2025-07-15 00:29:52,696 - INFO - Attempting to interpret ambiguous move with API: 'e5e4'
2025-07-15 00:29:52,727 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5e4'
2025-07-15 00:29:53,484 - INFO - Interpreted move 'e5e4' as 'e7e5'
2025-07-15 00:29:53,486 - ERROR - Failed to convert move 'e7e5': ValueError: Illegal move: e7e5
2025-07-15 00:29:53,486 - WARNING - Move parsing attempt 1/5 failed, retrying...
2025-07-15 00:29:53,487 - INFO - Calling OpenRouter API with model: openai/o3
2025-07-15 00:29:53,487 - INFO - Detected 1.5 move pairs already made in the game
2025-07-15 00:29:53,487 - INFO - OpenRouter Request for openai/o3 (attempt 1): {"model": "openai/o3", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:29:53,911 - ERROR - Error calling model openai/o3 (attempt 1): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-15 00:29:53,911 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"message\": \"Your organization must be verified to stream this model. Please go to: https://platform.openai.com/settings/organization/general and click on Verify Organization. If you just verified, it can take up to 15 minutes for access to propagate.\",\n    \"type\": \"invalid_request_error\",\n    \"param\": \"stream\",\n    \"code\": \"unsupported_value\"\n  }\n}","provider_name":"OpenAI"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:29:55,413 - INFO - Retry attempt 1/3 for model openai/o3
2025-07-15 00:29:55,413 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:29:55,413 - INFO - OpenRouter Request for openai/o3 (attempt 2): {"model": "openai/o3", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:29:55,814 - ERROR - Error calling model openai/o3 (attempt 2): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-15 00:29:55,814 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"message\": \"Your organization must be verified to stream this model. Please go to: https://platform.openai.com/settings/organization/general and click on Verify Organization. If you just verified, it can take up to 15 minutes for access to propagate.\",\n    \"type\": \"invalid_request_error\",\n    \"param\": \"stream\",\n    \"code\": \"unsupported_value\"\n  }\n}","provider_name":"OpenAI"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:29:57,315 - INFO - Retry attempt 2/3 for model openai/o3
2025-07-15 00:29:57,316 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:29:57,316 - INFO - OpenRouter Request for openai/o3 (attempt 3): {"model": "openai/o3", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:29:58,045 - ERROR - Error calling model openai/o3 (attempt 3): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-15 00:29:58,046 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"message\": \"Your organization must be verified to stream this model. Please go to: https://platform.openai.com/settings/organization/general and click on Verify Organization. If you just verified, it can take up to 15 minutes for access to propagate.\",\n    \"type\": \"invalid_request_error\",\n    \"param\": \"stream\",\n    \"code\": \"unsupported_value\"\n  }\n}","provider_name":"OpenAI"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:29:59,547 - INFO - Retry attempt 3/3 for model openai/o3
2025-07-15 00:29:59,547 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:29:59,547 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:29:59,547 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:30:01,485 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752532200-5KNxHP1hXvutRSvMuO1m", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:30:01,486 - INFO - Move retry 1: Received raw move 'd7d6' from model openai/o3
2025-07-15 00:30:01,486 - INFO - Using default board with active color: b
2025-07-15 00:30:01,486 - INFO - Processed move: Raw 'd7d6' -> Interpreted 'd7d6' -> UCI 'd7d6' -> SAN 'd6'
2025-07-15 00:30:01,486 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:30:02,546 - INFO - Received commentary from openai/gpt-4.1-mini: Black's 2...d6 solidifies cont...
2025-07-15 00:30:02,989 - INFO - Calling OpenRouter API with model: google/gemini-2.5-flash-preview
2025-07-15 00:30:02,989 - INFO - Detected 2 move pairs already made in the game
2025-07-15 00:30:02,989 - INFO - OpenRouter Request for google/gemini-2.5-flash-preview (attempt 1): {"model": "google/gemini-2.5-flash-preview", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:30:05,304 - INFO - OpenRouter response for google/gemini-2.5-flash-preview (attempt 1): {"id": "gen-1752532203-X7lZAgOwaSYojhrvtavf", "model": "google/gemini-2.5-flash-preview", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:30:05,304 - INFO - Received raw move 'f1b5' from model google/gemini-2.5-flash-preview
2025-07-15 00:30:05,305 - INFO - Using default board with active color: w
2025-07-15 00:30:05,305 - INFO - Attempting to interpret ambiguous move with API: 'f1b5'
2025-07-15 00:30:05,325 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'f1b5'
2025-07-15 00:30:06,356 - INFO - Interpreted move 'f1b5' as 'INVALID'
2025-07-15 00:30:06,356 - WARNING - Model google/gemini-2.5-flash-preview made an invalid move: 'f1b5' that couldn't be interpreted (attempt 1/5)
2025-07-15 00:30:06,356 - INFO - Calling OpenRouter API with model: google/gemini-2.5-flash-preview
2025-07-15 00:30:06,356 - INFO - Detected 2 move pairs already made in the game
2025-07-15 00:30:06,357 - INFO - OpenRouter Request for google/gemini-2.5-flash-preview (attempt 1): {"model": "google/gemini-2.5-flash-preview", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:30:07,804 - INFO - OpenRouter response for google/gemini-2.5-flash-preview (attempt 1): {"id": "gen-1752532206-0kS62FFe9eQCVSdu2MYQ", "model": "google/gemini-2.5-flash-preview", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:30:07,804 - INFO - Retry 1: Received raw move 'd2d4' from model google/gemini-2.5-flash-preview
2025-07-15 00:30:07,805 - INFO - Using default board with active color: w
2025-07-15 00:30:07,805 - INFO - Processed move: Raw 'd2d4' -> Interpreted 'd2d4' -> UCI 'd2d4' -> SAN 'd4'
2025-07-15 00:30:07,805 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:30:08,824 - INFO - Received commentary from openai/gpt-4.1-mini: 3. d4!? challenges the center ...
2025-07-15 00:30:09,308 - INFO - Calling OpenRouter API with model: openai/o3
2025-07-15 00:30:09,308 - INFO - Detected 2.5 move pairs already made in the game
2025-07-15 00:30:09,309 - INFO - OpenRouter Request for openai/o3 (attempt 1): {"model": "openai/o3", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:30:10,061 - ERROR - Error calling model openai/o3 (attempt 1): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-15 00:30:10,062 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"message\": \"Your organization must be verified to stream this model. Please go to: https://platform.openai.com/settings/organization/general and click on Verify Organization. If you just verified, it can take up to 15 minutes for access to propagate.\",\n    \"type\": \"invalid_request_error\",\n    \"param\": \"stream\",\n    \"code\": \"unsupported_value\"\n  }\n}","provider_name":"OpenAI"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:30:11,563 - INFO - Retry attempt 1/3 for model openai/o3
2025-07-15 00:30:11,563 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:30:11,563 - INFO - OpenRouter Request for openai/o3 (attempt 2): {"model": "openai/o3", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:30:11,950 - ERROR - Error calling model openai/o3 (attempt 2): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-15 00:30:11,950 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"message\": \"Your organization must be verified to stream this model. Please go to: https://platform.openai.com/settings/organization/general and click on Verify Organization. If you just verified, it can take up to 15 minutes for access to propagate.\",\n    \"type\": \"invalid_request_error\",\n    \"param\": \"stream\",\n    \"code\": \"unsupported_value\"\n  }\n}","provider_name":"OpenAI"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:30:13,452 - INFO - Retry attempt 2/3 for model openai/o3
2025-07-15 00:30:13,452 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:30:13,452 - INFO - OpenRouter Request for openai/o3 (attempt 3): {"model": "openai/o3", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:30:13,858 - ERROR - Error calling model openai/o3 (attempt 3): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-15 00:30:13,859 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"message\": \"Your organization must be verified to stream this model. Please go to: https://platform.openai.com/settings/organization/general and click on Verify Organization. If you just verified, it can take up to 15 minutes for access to propagate.\",\n    \"type\": \"invalid_request_error\",\n    \"param\": \"stream\",\n    \"code\": \"unsupported_value\"\n  }\n}","provider_name":"OpenAI"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:30:15,361 - INFO - Retry attempt 3/3 for model openai/o3
2025-07-15 00:30:15,362 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:30:15,362 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:30:15,362 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:30:16,071 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752532215-lpg1nZS2M3FzRg6chPVt", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:30:16,072 - INFO - Received raw move 'e5d4' from model openai/o3
2025-07-15 00:30:16,072 - INFO - Using default board with active color: b
2025-07-15 00:30:16,073 - INFO - Attempting to interpret ambiguous move with API: 'e5d4'
2025-07-15 00:30:16,106 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5d4'
2025-07-15 00:30:16,806 - INFO - Interpreted move 'e5d4' as 'e5d4'
2025-07-15 00:30:16,806 - WARNING - Interpreted move 'e5d4' is not legal on the current board
2025-07-15 00:30:16,807 - WARNING - Model openai/o3 made an invalid move: 'e5d4' that couldn't be interpreted (attempt 1/5)
2025-07-15 00:30:16,807 - INFO - Calling OpenRouter API with model: openai/o3
2025-07-15 00:30:16,807 - INFO - Detected 2.5 move pairs already made in the game
2025-07-15 00:30:16,807 - INFO - OpenRouter Request for openai/o3 (attempt 1): {"model": "openai/o3", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:30:17,162 - ERROR - Error calling model openai/o3 (attempt 1): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-15 00:30:17,162 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"message\": \"Your organization must be verified to stream this model. Please go to: https://platform.openai.com/settings/organization/general and click on Verify Organization. If you just verified, it can take up to 15 minutes for access to propagate.\",\n    \"type\": \"invalid_request_error\",\n    \"param\": \"stream\",\n    \"code\": \"unsupported_value\"\n  }\n}","provider_name":"OpenAI"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:30:18,663 - INFO - Retry attempt 1/3 for model openai/o3
2025-07-15 00:30:18,663 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:30:18,663 - INFO - OpenRouter Request for openai/o3 (attempt 2): {"model": "openai/o3", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:30:19,027 - ERROR - Error calling model openai/o3 (attempt 2): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-15 00:30:19,028 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"message\": \"Your organization must be verified to stream this model. Please go to: https://platform.openai.com/settings/organization/general and click on Verify Organization. If you just verified, it can take up to 15 minutes for access to propagate.\",\n    \"type\": \"invalid_request_error\",\n    \"param\": \"stream\",\n    \"code\": \"unsupported_value\"\n  }\n}","provider_name":"OpenAI"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:30:20,529 - INFO - Retry attempt 2/3 for model openai/o3
2025-07-15 00:30:20,529 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:30:20,529 - INFO - OpenRouter Request for openai/o3 (attempt 3): {"model": "openai/o3", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:30:20,994 - ERROR - Error calling model openai/o3 (attempt 3): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-15 00:30:20,995 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"message\": \"Your organization must be verified to stream this model. Please go to: https://platform.openai.com/settings/organization/general and click on Verify Organization. If you just verified, it can take up to 15 minutes for access to propagate.\",\n    \"type\": \"invalid_request_error\",\n    \"param\": \"stream\",\n    \"code\": \"unsupported_value\"\n  }\n}","provider_name":"OpenAI"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:30:22,496 - INFO - Retry attempt 3/3 for model openai/o3
2025-07-15 00:30:22,496 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:30:22,496 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:30:22,496 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:30:23,277 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752532222-iXFxa3PdPKFA1qDJrX08", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:30:23,278 - INFO - Retry 1: Received raw move 'd6d5' from model openai/o3
2025-07-15 00:30:23,278 - INFO - Using default board with active color: b
2025-07-15 00:30:23,278 - INFO - Attempting to interpret ambiguous move with API: 'd6d5'
2025-07-15 00:30:23,308 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd6d5'
2025-07-15 00:30:24,113 - INFO - Interpreted move 'd6d5' as 'd7d5'
2025-07-15 00:30:24,114 - ERROR - Failed to convert move 'd7d5': ValueError: Illegal move: d7d5
2025-07-15 00:30:24,114 - WARNING - Move parsing attempt 1/5 failed, retrying...
2025-07-15 00:30:24,115 - INFO - Calling OpenRouter API with model: openai/o3
2025-07-15 00:30:24,115 - INFO - Detected 2.5 move pairs already made in the game
2025-07-15 00:30:24,115 - INFO - OpenRouter Request for openai/o3 (attempt 1): {"model": "openai/o3", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:30:24,490 - ERROR - Error calling model openai/o3 (attempt 1): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-15 00:30:24,491 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"message\": \"Your organization must be verified to stream this model. Please go to: https://platform.openai.com/settings/organization/general and click on Verify Organization. If you just verified, it can take up to 15 minutes for access to propagate.\",\n    \"type\": \"invalid_request_error\",\n    \"param\": \"stream\",\n    \"code\": \"unsupported_value\"\n  }\n}","provider_name":"OpenAI"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:30:25,992 - INFO - Retry attempt 1/3 for model openai/o3
2025-07-15 00:30:25,994 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:30:25,994 - INFO - OpenRouter Request for openai/o3 (attempt 2): {"model": "openai/o3", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:30:26,455 - ERROR - Error calling model openai/o3 (attempt 2): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-15 00:30:26,456 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"message\": \"Your organization must be verified to stream this model. Please go to: https://platform.openai.com/settings/organization/general and click on Verify Organization. If you just verified, it can take up to 15 minutes for access to propagate.\",\n    \"type\": \"invalid_request_error\",\n    \"param\": \"stream\",\n    \"code\": \"unsupported_value\"\n  }\n}","provider_name":"OpenAI"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:30:27,957 - INFO - Retry attempt 2/3 for model openai/o3
2025-07-15 00:30:27,957 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:30:27,957 - INFO - OpenRouter Request for openai/o3 (attempt 3): {"model": "openai/o3", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:30:28,412 - ERROR - Error calling model openai/o3 (attempt 3): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-15 00:30:28,412 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"message\": \"Your organization must be verified to stream this model. Please go to: https://platform.openai.com/settings/organization/general and click on Verify Organization. If you just verified, it can take up to 15 minutes for access to propagate.\",\n    \"type\": \"invalid_request_error\",\n    \"param\": \"stream\",\n    \"code\": \"unsupported_value\"\n  }\n}","provider_name":"OpenAI"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:30:29,913 - INFO - Retry attempt 3/3 for model openai/o3
2025-07-15 00:30:29,913 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:30:29,913 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:30:29,913 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:30:31,371 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752532230-7bKRWtzl94dsaaLYdlG5", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:30:31,372 - INFO - Move retry 1: Received raw move 'd6d5' from model openai/o3
2025-07-15 00:30:31,372 - INFO - Using default board with active color: b
2025-07-15 00:30:31,372 - INFO - Attempting to interpret ambiguous move with API: 'd6d5'
2025-07-15 00:30:31,405 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd6d5'
2025-07-15 00:30:32,121 - INFO - Interpreted move 'd6d5' as 'd7d5'
2025-07-15 00:30:32,121 - ERROR - Failed to convert move 'd7d5': ValueError: Illegal move: d7d5
2025-07-15 00:30:32,121 - WARNING - Move parsing attempt 2/5 failed, retrying...
2025-07-15 00:30:32,122 - INFO - Calling OpenRouter API with model: openai/o3
2025-07-15 00:30:32,122 - INFO - Detected 2.5 move pairs already made in the game
2025-07-15 00:30:32,122 - INFO - OpenRouter Request for openai/o3 (attempt 1): {"model": "openai/o3", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:30:32,537 - ERROR - Error calling model openai/o3 (attempt 1): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-15 00:30:32,537 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"message\": \"Your organization must be verified to stream this model. Please go to: https://platform.openai.com/settings/organization/general and click on Verify Organization. If you just verified, it can take up to 15 minutes for access to propagate.\",\n    \"type\": \"invalid_request_error\",\n    \"param\": \"stream\",\n    \"code\": \"unsupported_value\"\n  }\n}","provider_name":"OpenAI"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:30:34,038 - INFO - Retry attempt 1/3 for model openai/o3
2025-07-15 00:30:34,038 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:30:34,039 - INFO - OpenRouter Request for openai/o3 (attempt 2): {"model": "openai/o3", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:30:34,479 - ERROR - Error calling model openai/o3 (attempt 2): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-15 00:30:34,480 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"message\": \"Your organization must be verified to stream this model. Please go to: https://platform.openai.com/settings/organization/general and click on Verify Organization. If you just verified, it can take up to 15 minutes for access to propagate.\",\n    \"type\": \"invalid_request_error\",\n    \"param\": \"stream\",\n    \"code\": \"unsupported_value\"\n  }\n}","provider_name":"OpenAI"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:30:35,981 - INFO - Retry attempt 2/3 for model openai/o3
2025-07-15 00:30:35,981 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:30:35,981 - INFO - OpenRouter Request for openai/o3 (attempt 3): {"model": "openai/o3", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:30:36,353 - ERROR - Error calling model openai/o3 (attempt 3): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-15 00:30:36,353 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"message\": \"Your organization must be verified to stream this model. Please go to: https://platform.openai.com/settings/organization/general and click on Verify Organization. If you just verified, it can take up to 15 minutes for access to propagate.\",\n    \"type\": \"invalid_request_error\",\n    \"param\": \"stream\",\n    \"code\": \"unsupported_value\"\n  }\n}","provider_name":"OpenAI"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:30:37,853 - INFO - Retry attempt 3/3 for model openai/o3
2025-07-15 00:30:37,854 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:30:37,854 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:30:37,854 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:30:38,800 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752532238-1RpRQg6Co4FhVY6PzP91", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:30:38,802 - INFO - Move retry 2: Received raw move 'd6d5' from model openai/o3
2025-07-15 00:30:38,802 - INFO - Using default board with active color: b
2025-07-15 00:30:38,803 - INFO - Attempting to interpret ambiguous move with API: 'd6d5'
2025-07-15 00:30:38,836 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd6d5'
2025-07-15 00:30:39,607 - INFO - Interpreted move 'd6d5' as 'd7d5'
2025-07-15 00:30:39,608 - ERROR - Failed to convert move 'd7d5': ValueError: Illegal move: d7d5
2025-07-15 00:30:39,608 - WARNING - Move parsing attempt 3/5 failed, retrying...
2025-07-15 00:30:39,609 - INFO - Calling OpenRouter API with model: openai/o3
2025-07-15 00:30:39,609 - INFO - Detected 2.5 move pairs already made in the game
2025-07-15 00:30:39,609 - INFO - OpenRouter Request for openai/o3 (attempt 1): {"model": "openai/o3", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:30:40,033 - ERROR - Error calling model openai/o3 (attempt 1): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-15 00:30:40,034 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"message\": \"Your organization must be verified to stream this model. Please go to: https://platform.openai.com/settings/organization/general and click on Verify Organization. If you just verified, it can take up to 15 minutes for access to propagate.\",\n    \"type\": \"invalid_request_error\",\n    \"param\": \"stream\",\n    \"code\": \"unsupported_value\"\n  }\n}","provider_name":"OpenAI"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:30:41,535 - INFO - Retry attempt 1/3 for model openai/o3
2025-07-15 00:30:41,536 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:30:41,536 - INFO - OpenRouter Request for openai/o3 (attempt 2): {"model": "openai/o3", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:30:41,985 - ERROR - Error calling model openai/o3 (attempt 2): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-15 00:30:41,986 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"message\": \"Your organization must be verified to stream this model. Please go to: https://platform.openai.com/settings/organization/general and click on Verify Organization. If you just verified, it can take up to 15 minutes for access to propagate.\",\n    \"type\": \"invalid_request_error\",\n    \"param\": \"stream\",\n    \"code\": \"unsupported_value\"\n  }\n}","provider_name":"OpenAI"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:30:43,488 - INFO - Retry attempt 2/3 for model openai/o3
2025-07-15 00:30:43,488 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:30:43,488 - INFO - OpenRouter Request for openai/o3 (attempt 3): {"model": "openai/o3", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:30:43,947 - ERROR - Error calling model openai/o3 (attempt 3): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-15 00:30:43,948 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"message\": \"Your organization must be verified to stream this model. Please go to: https://platform.openai.com/settings/organization/general and click on Verify Organization. If you just verified, it can take up to 15 minutes for access to propagate.\",\n    \"type\": \"invalid_request_error\",\n    \"param\": \"stream\",\n    \"code\": \"unsupported_value\"\n  }\n}","provider_name":"OpenAI"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:30:45,449 - INFO - Retry attempt 3/3 for model openai/o3
2025-07-15 00:30:45,450 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:30:45,450 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:30:45,450 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:30:46,341 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752532245-OZp5o7H0DXHPEBxUWFka", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:30:46,344 - INFO - Move retry 3: Received raw move 'd6d5' from model openai/o3
2025-07-15 00:30:46,344 - INFO - Using default board with active color: b
2025-07-15 00:30:46,345 - INFO - Attempting to interpret ambiguous move with API: 'd6d5'
2025-07-15 00:30:46,375 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd6d5'
2025-07-15 00:30:47,413 - INFO - Interpreted move 'd6d5' as 'd7d5'
2025-07-15 00:30:47,413 - ERROR - Failed to convert move 'd7d5': ValueError: Illegal move: d7d5
2025-07-15 00:30:47,414 - WARNING - Move parsing attempt 4/5 failed, retrying...
2025-07-15 00:30:47,414 - INFO - Calling OpenRouter API with model: openai/o3
2025-07-15 00:30:47,414 - INFO - Detected 2.5 move pairs already made in the game
2025-07-15 00:30:47,414 - INFO - OpenRouter Request for openai/o3 (attempt 1): {"model": "openai/o3", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:30:47,814 - ERROR - Error calling model openai/o3 (attempt 1): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-15 00:30:47,815 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"message\": \"Your organization must be verified to stream this model. Please go to: https://platform.openai.com/settings/organization/general and click on Verify Organization. If you just verified, it can take up to 15 minutes for access to propagate.\",\n    \"type\": \"invalid_request_error\",\n    \"param\": \"stream\",\n    \"code\": \"unsupported_value\"\n  }\n}","provider_name":"OpenAI"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:30:49,316 - INFO - Retry attempt 1/3 for model openai/o3
2025-07-15 00:30:49,316 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:30:49,317 - INFO - OpenRouter Request for openai/o3 (attempt 2): {"model": "openai/o3", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:30:49,787 - ERROR - Error calling model openai/o3 (attempt 2): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-15 00:30:49,787 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"message\": \"Your organization must be verified to stream this model. Please go to: https://platform.openai.com/settings/organization/general and click on Verify Organization. If you just verified, it can take up to 15 minutes for access to propagate.\",\n    \"type\": \"invalid_request_error\",\n    \"param\": \"stream\",\n    \"code\": \"unsupported_value\"\n  }\n}","provider_name":"OpenAI"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:30:51,288 - INFO - Retry attempt 2/3 for model openai/o3
2025-07-15 00:30:51,288 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:30:51,288 - INFO - OpenRouter Request for openai/o3 (attempt 3): {"model": "openai/o3", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:30:51,640 - ERROR - Error calling model openai/o3 (attempt 3): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-15 00:30:51,640 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"message\": \"Your organization must be verified to stream this model. Please go to: https://platform.openai.com/settings/organization/general and click on Verify Organization. If you just verified, it can take up to 15 minutes for access to propagate.\",\n    \"type\": \"invalid_request_error\",\n    \"param\": \"stream\",\n    \"code\": \"unsupported_value\"\n  }\n}","provider_name":"OpenAI"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:30:53,141 - INFO - Retry attempt 3/3 for model openai/o3
2025-07-15 00:30:53,142 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:30:53,142 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:30:53,142 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:30:53,815 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752532253-qS2xo2gdnxygslE4Oj1N", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:30:53,816 - INFO - Move retry 4: Received raw move 'd6d5' from model openai/o3
2025-07-15 00:30:53,816 - INFO - Using default board with active color: b
2025-07-15 00:30:53,817 - INFO - Attempting to interpret ambiguous move with API: 'd6d5'
2025-07-15 00:30:53,856 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd6d5'
2025-07-15 00:30:54,579 - INFO - Interpreted move 'd6d5' as 'd7d5'
2025-07-15 00:30:54,580 - ERROR - Failed to convert move 'd7d5': ValueError: Illegal move: d7d5
2025-07-15 00:30:54,580 - ERROR - Failed to parse/apply move after 5 attempts
2025-07-15 00:30:54,580 - ERROR - Recovery attempt failed: All move parsing retries failed for 'd7d5'
2025-07-15 00:30:54,580 - INFO - Requesting game over explanation from openai/gpt-4.1-mini
2025-07-15 00:30:55,530 - INFO - Received game over explanation: Openai/o3 lost because they tried to make a move t...
2025-07-15 00:30:57,991 - INFO - New game created: perplexity/sonar-deep-research (White) vs meta-llama/llama-3-8b-instruct (Black)
2025-07-15 00:30:58,000 - INFO - WebSocket connection established for game game_1752532257_2824
2025-07-15 00:30:58,000 - INFO - Starting game: perplexity/sonar-deep-research vs meta-llama/llama-3-8b-instruct
2025-07-15 00:30:58,004 - INFO - Calling OpenRouter API with model: perplexity/sonar-deep-research
2025-07-15 00:30:58,004 - INFO - OpenRouter Request for perplexity/sonar-deep-research (attempt 1): {"model": "perplexity/sonar-deep-research", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:31:19,544 - INFO - OpenRouter response for perplexity/sonar-deep-research (attempt 1): {"id": "gen-1752532258-GBD6effACvRYTrP3zX2r", "model": "perplexity/sonar-deep-research", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:31:19,546 - INFO - Received raw move 'e2e4' from model perplexity/sonar-deep-research
2025-07-15 00:31:19,546 - INFO - Using default board with active color: w
2025-07-15 00:31:19,546 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-15 00:31:19,548 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:31:20,638 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 ! This classical opening...
2025-07-15 00:31:21,050 - INFO - Calling OpenRouter API with model: meta-llama/llama-3-8b-instruct
2025-07-15 00:31:21,051 - INFO - Detected 0.5 move pairs already made in the game
2025-07-15 00:31:21,052 - INFO - OpenRouter Request for meta-llama/llama-3-8b-instruct (attempt 1): {"model": "meta-llama/llama-3-8b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:31:21,457 - INFO - OpenRouter response for meta-llama/llama-3-8b-instruct (attempt 1): {"id": "gen-1752532281-ksqixBMw4n56qhrM6bI7", "model": "meta-llama/llama-3-8b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:31:21,458 - INFO - Received raw move 'e7e5' from model meta-llama/llama-3-8b-instruct
2025-07-15 00:31:21,458 - INFO - Using default board with active color: b
2025-07-15 00:31:21,458 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-07-15 00:31:21,460 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:31:22,493 - INFO - Received commentary from openai/gpt-4.1-mini: Black's move 1...e5 is a class...
2025-07-15 00:31:22,962 - INFO - Calling OpenRouter API with model: perplexity/sonar-deep-research
2025-07-15 00:31:22,963 - INFO - Detected 1 move pairs already made in the game
2025-07-15 00:31:22,963 - INFO - OpenRouter Request for perplexity/sonar-deep-research (attempt 1): {"model": "perplexity/sonar-deep-research", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:33:29,311 - INFO - OpenRouter response for perplexity/sonar-deep-research (attempt 1): {"id": "gen-1752532283-t2kAfVfxmOhUUzheAQVo", "model": "perplexity/sonar-deep-research", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:33:29,312 - INFO - Received raw move 'g1f3' from model perplexity/sonar-deep-research
2025-07-15 00:33:29,312 - INFO - Using default board with active color: w
2025-07-15 00:33:29,312 - INFO - Processed move: Raw 'g1f3' -> Interpreted 'g1f3' -> UCI 'g1f3' -> SAN 'Nf3'
2025-07-15 00:33:29,313 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:33:31,817 - INFO - Calling OpenRouter API with model: meta-llama/llama-3-8b-instruct
2025-07-15 00:33:31,817 - INFO - Detected 1.5 move pairs already made in the game
2025-07-15 00:33:31,817 - INFO - OpenRouter Request for meta-llama/llama-3-8b-instruct (attempt 1): {"model": "meta-llama/llama-3-8b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:33:31,912 - INFO - Received commentary from openai/gpt-4.1-mini: Nf3 develops a knight to a nat...
2025-07-15 00:33:32,802 - INFO - OpenRouter response for meta-llama/llama-3-8b-instruct (attempt 1): {"id": "gen-1752532411-4CkVn867eQP542x5vIAI", "model": "meta-llama/llama-3-8b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:33:32,803 - INFO - Received raw move 'e7g5' from model meta-llama/llama-3-8b-instruct
2025-07-15 00:33:32,804 - INFO - Using default board with active color: b
2025-07-15 00:33:32,804 - INFO - Attempting to interpret ambiguous move with API: 'e7g5'
2025-07-15 00:33:32,841 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e7g5'
2025-07-15 00:33:33,466 - INFO - Interpreted move 'e7g5' as 'INVALID'
2025-07-15 00:33:33,467 - WARNING - Model meta-llama/llama-3-8b-instruct made an invalid move: 'e7g5' that couldn't be interpreted (attempt 1/5)
2025-07-15 00:33:33,468 - INFO - Calling OpenRouter API with model: meta-llama/llama-3-8b-instruct
2025-07-15 00:33:33,468 - INFO - Detected 1.5 move pairs already made in the game
2025-07-15 00:33:33,468 - INFO - OpenRouter Request for meta-llama/llama-3-8b-instruct (attempt 1): {"model": "meta-llama/llama-3-8b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:33:35,005 - INFO - OpenRouter response for meta-llama/llama-3-8b-instruct (attempt 1): {"id": "gen-1752532413-R83T91PlBAKVhSzTYDl4", "model": "meta-llama/llama-3-8b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:33:35,005 - INFO - Retry 1: Received raw move 'c7c5' from model meta-llama/llama-3-8b-instruct
2025-07-15 00:33:35,006 - INFO - Using default board with active color: b
2025-07-15 00:33:35,006 - INFO - Processed move: Raw 'c7c5' -> Interpreted 'c7c5' -> UCI 'c7c5' -> SAN 'c5'
2025-07-15 00:33:35,009 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:33:37,515 - INFO - Calling OpenRouter API with model: perplexity/sonar-deep-research
2025-07-15 00:33:37,515 - INFO - Detected 2 move pairs already made in the game
2025-07-15 00:33:37,515 - INFO - OpenRouter Request for perplexity/sonar-deep-research (attempt 1): {"model": "perplexity/sonar-deep-research", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . p . p p p\n. . . . . . . .\n. . p . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 c7c5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:33:37,814 - INFO - Received commentary from openai/gpt-4.1-mini: Black's move 2...c5 challenges...
2025-07-15 00:35:19,361 - INFO - OpenRouter response for perplexity/sonar-deep-research (attempt 1): {"id": "gen-1752532417-oCKlJPx7mWyTtft5AQxb", "model": "perplexity/sonar-deep-research", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:35:19,362 - INFO - Received raw move 'f3e5' from model perplexity/sonar-deep-research
2025-07-15 00:35:19,362 - INFO - Using default board with active color: w
2025-07-15 00:35:19,362 - INFO - Attempting to interpret ambiguous move with API: 'f3e5'
2025-07-15 00:35:19,384 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'f3e5'
2025-07-15 00:35:20,001 - INFO - Interpreted move 'f3e5' as 'f3e5'
2025-07-15 00:35:20,001 - WARNING - Interpreted move 'f3e5' is not legal on the current board
2025-07-15 00:35:20,001 - WARNING - Model perplexity/sonar-deep-research made an invalid move: 'f3e5' that couldn't be interpreted (attempt 1/5)
2025-07-15 00:35:20,001 - INFO - Calling OpenRouter API with model: perplexity/sonar-deep-research
2025-07-15 00:35:20,001 - INFO - Detected 2 move pairs already made in the game
2025-07-15 00:35:20,002 - INFO - OpenRouter Request for perplexity/sonar-deep-research (attempt 1): {"model": "perplexity/sonar-deep-research", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . p . p p p\n. . . . . . . .\n. . p . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 c7c5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:35:23,559 - INFO - New game created: mistralai/mistral-small-3.1-24b-instruct (White) vs allenai/olmo-7b-instruct (Black)
2025-07-15 00:35:23,567 - INFO - WebSocket connection established for game game_1752532523_5148
2025-07-15 00:35:23,568 - INFO - Starting game: mistralai/mistral-small-3.1-24b-instruct vs allenai/olmo-7b-instruct
2025-07-15 00:35:23,570 - INFO - Calling OpenRouter API with model: mistralai/mistral-small-3.1-24b-instruct
2025-07-15 00:35:23,570 - INFO - OpenRouter Request for mistralai/mistral-small-3.1-24b-instruct (attempt 1): {"model": "mistralai/mistral-small-3.1-24b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:35:23,983 - INFO - OpenRouter response for mistralai/mistral-small-3.1-24b-instruct (attempt 1): {"id": "gen-1752532523-aQdROuUEVifhFhQGnuif", "model": "mistralai/mistral-small-3.1-24b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:35:23,984 - INFO - Received raw move 'e2e4' from model mistralai/mistral-small-3.1-24b-instruct
2025-07-15 00:35:23,985 - INFO - Using default board with active color: w
2025-07-15 00:35:23,985 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-15 00:35:23,986 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:35:24,964 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 ! White takes control of...
2025-07-15 00:35:24,988 - INFO - Calling OpenRouter API with model: allenai/olmo-7b-instruct
2025-07-15 00:35:24,988 - INFO - Detected 0.5 move pairs already made in the game
2025-07-15 00:35:24,988 - INFO - OpenRouter Request for allenai/olmo-7b-instruct (attempt 1): {"model": "allenai/olmo-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:35:25,117 - ERROR - Error calling model allenai/olmo-7b-instruct (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:35:25,118 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for allenai/olmo-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:35:26,618 - INFO - Retry attempt 1/3 for model allenai/olmo-7b-instruct
2025-07-15 00:35:26,619 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:35:26,619 - INFO - OpenRouter Request for allenai/olmo-7b-instruct (attempt 2): {"model": "allenai/olmo-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:35:26,784 - ERROR - Error calling model allenai/olmo-7b-instruct (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:35:26,785 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for allenai/olmo-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:35:28,286 - INFO - Retry attempt 2/3 for model allenai/olmo-7b-instruct
2025-07-15 00:35:28,286 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:35:28,286 - INFO - OpenRouter Request for allenai/olmo-7b-instruct (attempt 3): {"model": "allenai/olmo-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:35:28,453 - ERROR - Error calling model allenai/olmo-7b-instruct (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:35:28,453 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for allenai/olmo-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:35:29,954 - INFO - Retry attempt 3/3 for model allenai/olmo-7b-instruct
2025-07-15 00:35:29,954 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:35:29,954 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:35:29,954 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:35:30,540 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752532530-JQqUByWUX0zN2oGjpmWT", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:35:30,540 - INFO - Received raw move 'e7e5' from model allenai/olmo-7b-instruct
2025-07-15 00:35:30,541 - INFO - Using default board with active color: b
2025-07-15 00:35:30,541 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-07-15 00:35:30,541 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:35:32,161 - INFO - Received commentary from openai/gpt-4.1-mini: Black's move 1...e5 is a class...
2025-07-15 00:35:32,544 - INFO - Calling OpenRouter API with model: mistralai/mistral-small-3.1-24b-instruct
2025-07-15 00:35:32,544 - INFO - Detected 1 move pairs already made in the game
2025-07-15 00:35:32,544 - INFO - OpenRouter Request for mistralai/mistral-small-3.1-24b-instruct (attempt 1): {"model": "mistralai/mistral-small-3.1-24b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:35:32,983 - INFO - OpenRouter response for mistralai/mistral-small-3.1-24b-instruct (attempt 1): {"id": "gen-1752532532-QoIGu8sXxnwflFpc18Tv", "model": "mistralai/mistral-small-3.1-24b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:35:32,984 - INFO - Received raw move 'g1f3' from model mistralai/mistral-small-3.1-24b-instruct
2025-07-15 00:35:32,984 - INFO - Using default board with active color: w
2025-07-15 00:35:32,984 - INFO - Processed move: Raw 'g1f3' -> Interpreted 'g1f3' -> UCI 'g1f3' -> SAN 'Nf3'
2025-07-15 00:35:32,985 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:35:34,108 - INFO - Received commentary from openai/gpt-4.1-mini: Nf3 develops a knight to a nat...
2025-07-15 00:35:34,488 - INFO - Calling OpenRouter API with model: allenai/olmo-7b-instruct
2025-07-15 00:35:34,488 - INFO - Detected 1.5 move pairs already made in the game
2025-07-15 00:35:34,488 - INFO - OpenRouter Request for allenai/olmo-7b-instruct (attempt 1): {"model": "allenai/olmo-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:35:34,616 - ERROR - Error calling model allenai/olmo-7b-instruct (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:35:34,616 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for allenai/olmo-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:35:36,117 - INFO - Retry attempt 1/3 for model allenai/olmo-7b-instruct
2025-07-15 00:35:36,117 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:35:36,117 - INFO - OpenRouter Request for allenai/olmo-7b-instruct (attempt 2): {"model": "allenai/olmo-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:35:36,233 - ERROR - Error calling model allenai/olmo-7b-instruct (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:35:36,233 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for allenai/olmo-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:35:37,735 - INFO - Retry attempt 2/3 for model allenai/olmo-7b-instruct
2025-07-15 00:35:37,735 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:35:37,735 - INFO - OpenRouter Request for allenai/olmo-7b-instruct (attempt 3): {"model": "allenai/olmo-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:35:37,859 - ERROR - Error calling model allenai/olmo-7b-instruct (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:35:37,859 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for allenai/olmo-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:35:39,361 - INFO - Retry attempt 3/3 for model allenai/olmo-7b-instruct
2025-07-15 00:35:39,361 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:35:39,361 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:35:39,361 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:35:40,011 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752532539-aypzbwCBs0jLdq0azElT", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:35:40,012 - INFO - Received raw move 'd7d6' from model allenai/olmo-7b-instruct
2025-07-15 00:35:40,012 - INFO - Using default board with active color: b
2025-07-15 00:35:40,012 - INFO - Processed move: Raw 'd7d6' -> Interpreted 'd7d6' -> UCI 'd7d6' -> SAN 'd6'
2025-07-15 00:35:40,012 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:35:41,247 - INFO - Received commentary from openai/gpt-4.1-mini: 2... d6 is a solid defensive m...
2025-07-15 00:35:41,516 - INFO - Calling OpenRouter API with model: mistralai/mistral-small-3.1-24b-instruct
2025-07-15 00:35:41,517 - INFO - Detected 2 move pairs already made in the game
2025-07-15 00:35:41,517 - INFO - OpenRouter Request for mistralai/mistral-small-3.1-24b-instruct (attempt 1): {"model": "mistralai/mistral-small-3.1-24b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:35:41,925 - INFO - OpenRouter response for mistralai/mistral-small-3.1-24b-instruct (attempt 1): {"id": "gen-1752532541-F04A0kwkHh9YKdLGzdly", "model": "mistralai/mistral-small-3.1-24b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:35:41,926 - INFO - Received raw move 'c2c4' from model mistralai/mistral-small-3.1-24b-instruct
2025-07-15 00:35:41,926 - INFO - Using default board with active color: w
2025-07-15 00:35:41,926 - INFO - Processed move: Raw 'c2c4' -> Interpreted 'c2c4' -> UCI 'c2c4' -> SAN 'c4'
2025-07-15 00:35:41,927 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:35:43,435 - INFO - Received commentary from openai/gpt-4.1-mini: 3. c4!? aims to challenge Blac...
2025-07-15 00:35:43,930 - INFO - Calling OpenRouter API with model: allenai/olmo-7b-instruct
2025-07-15 00:35:43,930 - INFO - Detected 2.5 move pairs already made in the game
2025-07-15 00:35:43,930 - INFO - OpenRouter Request for allenai/olmo-7b-instruct (attempt 1): {"model": "allenai/olmo-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . P . P . . .\n. . . . . N . .\nP P . P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. c2c4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:35:44,118 - ERROR - Error calling model allenai/olmo-7b-instruct (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:35:44,119 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for allenai/olmo-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:35:45,621 - INFO - Retry attempt 1/3 for model allenai/olmo-7b-instruct
2025-07-15 00:35:45,621 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:35:45,621 - INFO - OpenRouter Request for allenai/olmo-7b-instruct (attempt 2): {"model": "allenai/olmo-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:35:45,751 - ERROR - Error calling model allenai/olmo-7b-instruct (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:35:45,751 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for allenai/olmo-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:35:47,253 - INFO - Retry attempt 2/3 for model allenai/olmo-7b-instruct
2025-07-15 00:35:47,253 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:35:47,253 - INFO - OpenRouter Request for allenai/olmo-7b-instruct (attempt 3): {"model": "allenai/olmo-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:35:47,369 - ERROR - Error calling model allenai/olmo-7b-instruct (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:35:47,369 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for allenai/olmo-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:35:48,870 - INFO - Retry attempt 3/3 for model allenai/olmo-7b-instruct
2025-07-15 00:35:48,871 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:35:48,871 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:35:48,871 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . P . P . . .\n. . . . . N . .\nP P . P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. c2c4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:35:49,562 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752532549-V5Cv5XkXrsZ1J9xSr3iF", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:35:49,563 - INFO - Received raw move 'd6d5' from model allenai/olmo-7b-instruct
2025-07-15 00:35:49,563 - INFO - Using default board with active color: b
2025-07-15 00:35:49,563 - INFO - Attempting to interpret ambiguous move with API: 'd6d5'
2025-07-15 00:35:49,578 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd6d5'
2025-07-15 00:35:50,240 - INFO - Interpreted move 'd6d5' as 'd7d5'
2025-07-15 00:35:50,240 - ERROR - Failed to convert move 'd7d5': ValueError: Illegal move: d7d5
2025-07-15 00:35:50,240 - WARNING - Move parsing attempt 1/5 failed, retrying...
2025-07-15 00:35:50,240 - INFO - Calling OpenRouter API with model: allenai/olmo-7b-instruct
2025-07-15 00:35:50,240 - INFO - Detected 2.5 move pairs already made in the game
2025-07-15 00:35:50,240 - INFO - OpenRouter Request for allenai/olmo-7b-instruct (attempt 1): {"model": "allenai/olmo-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . P . P . . .\n. . . . . N . .\nP P . P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. c2c4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:35:50,342 - ERROR - Error calling model allenai/olmo-7b-instruct (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:35:50,342 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for allenai/olmo-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:35:51,843 - INFO - Retry attempt 1/3 for model allenai/olmo-7b-instruct
2025-07-15 00:35:51,844 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:35:51,844 - INFO - OpenRouter Request for allenai/olmo-7b-instruct (attempt 2): {"model": "allenai/olmo-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:35:51,960 - ERROR - Error calling model allenai/olmo-7b-instruct (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:35:51,960 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for allenai/olmo-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:35:53,460 - INFO - Retry attempt 2/3 for model allenai/olmo-7b-instruct
2025-07-15 00:35:53,461 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:35:53,461 - INFO - OpenRouter Request for allenai/olmo-7b-instruct (attempt 3): {"model": "allenai/olmo-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:35:53,577 - ERROR - Error calling model allenai/olmo-7b-instruct (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:35:53,577 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for allenai/olmo-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:35:55,078 - INFO - Retry attempt 3/3 for model allenai/olmo-7b-instruct
2025-07-15 00:35:55,078 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:35:55,079 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:35:55,079 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . P . P . . .\n. . . . . N . .\nP P . P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. c2c4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:35:55,885 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752532555-AUtKk2ysAbCPcyczv9bP", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:35:55,885 - INFO - Move retry 1: Received raw move 'd6d5' from model allenai/olmo-7b-instruct
2025-07-15 00:35:55,886 - INFO - Using default board with active color: b
2025-07-15 00:35:55,886 - INFO - Attempting to interpret ambiguous move with API: 'd6d5'
2025-07-15 00:35:55,905 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd6d5'
2025-07-15 00:35:56,791 - INFO - Interpreted move 'd6d5' as 'd7d5'
2025-07-15 00:35:56,791 - ERROR - Failed to convert move 'd7d5': ValueError: Illegal move: d7d5
2025-07-15 00:35:56,791 - WARNING - Move parsing attempt 2/5 failed, retrying...
2025-07-15 00:35:56,791 - INFO - Calling OpenRouter API with model: allenai/olmo-7b-instruct
2025-07-15 00:35:56,791 - INFO - Detected 2.5 move pairs already made in the game
2025-07-15 00:35:56,792 - INFO - OpenRouter Request for allenai/olmo-7b-instruct (attempt 1): {"model": "allenai/olmo-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . P . P . . .\n. . . . . N . .\nP P . P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. c2c4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:35:56,911 - ERROR - Error calling model allenai/olmo-7b-instruct (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:35:56,911 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for allenai/olmo-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:35:58,412 - INFO - Retry attempt 1/3 for model allenai/olmo-7b-instruct
2025-07-15 00:35:58,413 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:35:58,413 - INFO - OpenRouter Request for allenai/olmo-7b-instruct (attempt 2): {"model": "allenai/olmo-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:35:58,546 - ERROR - Error calling model allenai/olmo-7b-instruct (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:35:58,547 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for allenai/olmo-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:36:00,050 - INFO - Retry attempt 2/3 for model allenai/olmo-7b-instruct
2025-07-15 00:36:00,050 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:36:00,050 - INFO - OpenRouter Request for allenai/olmo-7b-instruct (attempt 3): {"model": "allenai/olmo-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:36:00,161 - ERROR - Error calling model allenai/olmo-7b-instruct (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:36:00,161 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for allenai/olmo-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:36:01,662 - INFO - Retry attempt 3/3 for model allenai/olmo-7b-instruct
2025-07-15 00:36:01,662 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:36:01,662 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:36:01,662 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . P . P . . .\n. . . . . N . .\nP P . P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. c2c4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:36:02,217 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752532561-i6GS9nJyj3uq0jvYgfcM", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:36:02,218 - INFO - Move retry 2: Received raw move 'd6d5' from model allenai/olmo-7b-instruct
2025-07-15 00:36:02,218 - INFO - Using default board with active color: b
2025-07-15 00:36:02,218 - INFO - Attempting to interpret ambiguous move with API: 'd6d5'
2025-07-15 00:36:02,235 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd6d5'
2025-07-15 00:36:03,784 - INFO - Interpreted move 'd6d5' as 'd7d5'
2025-07-15 00:36:03,786 - ERROR - Failed to convert move 'd7d5': ValueError: Illegal move: d7d5
2025-07-15 00:36:03,786 - WARNING - Move parsing attempt 3/5 failed, retrying...
2025-07-15 00:36:03,787 - INFO - Calling OpenRouter API with model: allenai/olmo-7b-instruct
2025-07-15 00:36:03,787 - INFO - Detected 2.5 move pairs already made in the game
2025-07-15 00:36:03,787 - INFO - OpenRouter Request for allenai/olmo-7b-instruct (attempt 1): {"model": "allenai/olmo-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . P . P . . .\n. . . . . N . .\nP P . P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. c2c4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:36:03,919 - ERROR - Error calling model allenai/olmo-7b-instruct (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:36:03,920 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for allenai/olmo-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:36:05,424 - INFO - Retry attempt 1/3 for model allenai/olmo-7b-instruct
2025-07-15 00:36:05,424 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:36:05,424 - INFO - OpenRouter Request for allenai/olmo-7b-instruct (attempt 2): {"model": "allenai/olmo-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:36:05,560 - ERROR - Error calling model allenai/olmo-7b-instruct (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:36:05,560 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for allenai/olmo-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:36:07,061 - INFO - Retry attempt 2/3 for model allenai/olmo-7b-instruct
2025-07-15 00:36:07,061 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:36:07,061 - INFO - OpenRouter Request for allenai/olmo-7b-instruct (attempt 3): {"model": "allenai/olmo-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:36:07,185 - ERROR - Error calling model allenai/olmo-7b-instruct (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:36:07,185 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for allenai/olmo-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:36:08,687 - INFO - Retry attempt 3/3 for model allenai/olmo-7b-instruct
2025-07-15 00:36:08,687 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:36:08,687 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:36:08,688 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . P . P . . .\n. . . . . N . .\nP P . P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. c2c4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:36:09,245 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752532568-Pg4yS56Am6uzWQyFbErb", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:36:09,245 - INFO - Move retry 3: Received raw move 'd6d5' from model allenai/olmo-7b-instruct
2025-07-15 00:36:09,245 - INFO - Using default board with active color: b
2025-07-15 00:36:09,245 - INFO - Attempting to interpret ambiguous move with API: 'd6d5'
2025-07-15 00:36:09,268 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd6d5'
2025-07-15 00:36:09,870 - INFO - Interpreted move 'd6d5' as 'd7d5'
2025-07-15 00:36:09,871 - ERROR - Failed to convert move 'd7d5': ValueError: Illegal move: d7d5
2025-07-15 00:36:09,871 - WARNING - Move parsing attempt 4/5 failed, retrying...
2025-07-15 00:36:09,872 - INFO - Calling OpenRouter API with model: allenai/olmo-7b-instruct
2025-07-15 00:36:09,872 - INFO - Detected 2.5 move pairs already made in the game
2025-07-15 00:36:09,872 - INFO - OpenRouter Request for allenai/olmo-7b-instruct (attempt 1): {"model": "allenai/olmo-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . P . P . . .\n. . . . . N . .\nP P . P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. c2c4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:36:09,984 - ERROR - Error calling model allenai/olmo-7b-instruct (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:36:09,984 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for allenai/olmo-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:36:11,485 - INFO - Retry attempt 1/3 for model allenai/olmo-7b-instruct
2025-07-15 00:36:11,485 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:36:11,486 - INFO - OpenRouter Request for allenai/olmo-7b-instruct (attempt 2): {"model": "allenai/olmo-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:36:11,609 - ERROR - Error calling model allenai/olmo-7b-instruct (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:36:11,609 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for allenai/olmo-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:36:13,110 - INFO - Retry attempt 2/3 for model allenai/olmo-7b-instruct
2025-07-15 00:36:13,110 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:36:13,111 - INFO - OpenRouter Request for allenai/olmo-7b-instruct (attempt 3): {"model": "allenai/olmo-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:36:13,244 - ERROR - Error calling model allenai/olmo-7b-instruct (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:36:13,244 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for allenai/olmo-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:36:14,745 - INFO - Retry attempt 3/3 for model allenai/olmo-7b-instruct
2025-07-15 00:36:14,745 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:36:14,745 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:36:14,746 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . P . P . . .\n. . . . . N . .\nP P . P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. c2c4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:36:15,582 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752532574-a3hErpkujH5z09WNVD7R", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:36:15,582 - INFO - Move retry 4: Received raw move 'd6d5' from model allenai/olmo-7b-instruct
2025-07-15 00:36:15,582 - INFO - Using default board with active color: b
2025-07-15 00:36:15,582 - INFO - Attempting to interpret ambiguous move with API: 'd6d5'
2025-07-15 00:36:15,612 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd6d5'
2025-07-15 00:36:16,639 - INFO - Interpreted move 'd6d5' as 'd7d5'
2025-07-15 00:36:16,640 - ERROR - Failed to convert move 'd7d5': ValueError: Illegal move: d7d5
2025-07-15 00:36:16,640 - ERROR - Failed to parse/apply move after 5 attempts
2025-07-15 00:36:16,640 - ERROR - Recovery attempt failed: All move parsing retries failed for 'd7d5'
2025-07-15 00:36:16,640 - INFO - Requesting game over explanation from openai/gpt-4.1-mini
2025-07-15 00:36:18,104 - INFO - Received game over explanation: allenai/olmo-7b-instruct lost because it tried to ...
2025-07-15 00:36:19,414 - INFO - New game created: open-r1/olympiccoder-32b:free (White) vs deepseek/deepseek-r1 (Black)
2025-07-15 00:36:19,420 - INFO - WebSocket connection established for game game_1752532579_3435
2025-07-15 00:36:19,420 - INFO - Starting game: open-r1/olympiccoder-32b:free vs deepseek/deepseek-r1
2025-07-15 00:36:19,422 - INFO - Calling OpenRouter API with model: open-r1/olympiccoder-32b:free
2025-07-15 00:36:19,422 - INFO - Model has suffix: base=open-r1/olympiccoder-32b, suffix=:free
2025-07-15 00:36:19,422 - INFO - OpenRouter Request for open-r1/olympiccoder-32b:free (attempt 1): {"model": "open-r1/olympiccoder-32b:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:36:19,545 - ERROR - Error calling model open-r1/olympiccoder-32b:free (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:36:19,545 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for open-r1/olympiccoder-32b:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:36:20,612 - INFO - OpenRouter response for perplexity/sonar-deep-research (attempt 1): {"id": "gen-1752532520-eZgKWOsdLkP6cZeNPEUj", "model": "perplexity/sonar-deep-research", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:36:20,613 - INFO - Retry 1: Received raw move 'f1c4' from model perplexity/sonar-deep-research
2025-07-15 00:36:20,613 - INFO - Using default board with active color: w
2025-07-15 00:36:20,613 - INFO - Attempting to interpret ambiguous move with API: 'f1c4'
2025-07-15 00:36:20,636 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'f1c4'
2025-07-15 00:36:21,047 - INFO - Retry attempt 1/3 for model open-r1/olympiccoder-32b:free
2025-07-15 00:36:21,047 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:36:21,047 - INFO - OpenRouter Request for open-r1/olympiccoder-32b:free (attempt 2): {"model": "open-r1/olympiccoder-32b:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:36:21,165 - ERROR - Error calling model open-r1/olympiccoder-32b:free (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:36:21,165 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for open-r1/olympiccoder-32b:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:36:21,797 - INFO - Interpreted move 'f1c4' as 'f1c4'
2025-07-15 00:36:21,798 - WARNING - Interpreted move 'f1c4' is not legal on the current board
2025-07-15 00:36:21,798 - WARNING - Model perplexity/sonar-deep-research made an invalid move: 'f1c4' that couldn't be interpreted (attempt 2/5)
2025-07-15 00:36:21,798 - ERROR - Error sending WebSocket message: received 1005 (no status received [internal]); then sent 1005 (no status received [internal])
2025-07-15 00:36:22,667 - INFO - Retry attempt 2/3 for model open-r1/olympiccoder-32b:free
2025-07-15 00:36:22,667 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:36:22,667 - INFO - Trying base model without suffix: open-r1/olympiccoder-32b
2025-07-15 00:36:22,668 - INFO - OpenRouter Request for open-r1/olympiccoder-32b (attempt 3): {"model": "open-r1/olympiccoder-32b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:36:22,794 - ERROR - Error calling model open-r1/olympiccoder-32b (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:36:22,794 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for open-r1/olympiccoder-32b.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:36:24,295 - INFO - Retry attempt 3/3 for model open-r1/olympiccoder-32b:free
2025-07-15 00:36:24,296 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:36:24,296 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:36:24,296 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as WHITE.\nCurrent board:\n\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:36:25,774 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752532584-UmsK0vm9F5VxwUyRwLgE", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:36:25,775 - INFO - Received raw move 'e2e4' from model open-r1/olympiccoder-32b:free
2025-07-15 00:36:25,775 - INFO - Using default board with active color: w
2025-07-15 00:36:25,776 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-15 00:36:25,777 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:36:26,780 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a classic and strong ...
2025-07-15 00:36:27,279 - INFO - Calling OpenRouter API with model: deepseek/deepseek-r1
2025-07-15 00:36:27,279 - INFO - Detected 0.5 move pairs already made in the game
2025-07-15 00:36:27,280 - INFO - OpenRouter Request for deepseek/deepseek-r1 (attempt 1): {"model": "deepseek/deepseek-r1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:36:33,022 - INFO - New game created: deepseek/deepseek-chat-v3-0324:free (White) vs nousresearch/hermes-3-llama-3.1-405b (Black)
2025-07-15 00:36:33,031 - INFO - WebSocket connection established for game game_1752532593_9758
2025-07-15 00:36:33,032 - INFO - Starting game: deepseek/deepseek-chat-v3-0324:free vs nousresearch/hermes-3-llama-3.1-405b
2025-07-15 00:36:33,033 - INFO - Calling OpenRouter API with model: deepseek/deepseek-chat-v3-0324:free
2025-07-15 00:36:33,033 - INFO - Model has suffix: base=deepseek/deepseek-chat-v3-0324, suffix=:free
2025-07-15 00:36:33,033 - INFO - OpenRouter Request for deepseek/deepseek-chat-v3-0324:free (attempt 1): {"model": "deepseek/deepseek-chat-v3-0324:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:36:34,681 - INFO - OpenRouter response for deepseek/deepseek-chat-v3-0324:free (attempt 1): {"id": "gen-1752532593-6Z2RV9KS0O61nS8BAZbh", "model": "deepseek/deepseek-chat-v3-0324:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:36:34,682 - INFO - Received raw move 'e2e4' from model deepseek/deepseek-chat-v3-0324:free
2025-07-15 00:36:34,682 - INFO - Using default board with active color: w
2025-07-15 00:36:34,682 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-15 00:36:34,682 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:36:35,517 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4! White takes control of ...
2025-07-15 00:36:35,683 - ERROR - Error sending WebSocket message: received 1005 (no status received [internal]); then sent 1005 (no status received [internal])
2025-07-15 00:36:35,943 - INFO - New game created: qwen/qwen3-1.7b:free (White) vs mistralai/mistral-nemo:free (Black)
2025-07-15 00:36:35,950 - INFO - WebSocket connection established for game game_1752532595_6827
2025-07-15 00:36:35,950 - INFO - Starting game: qwen/qwen3-1.7b:free vs mistralai/mistral-nemo:free
2025-07-15 00:36:35,951 - INFO - Calling OpenRouter API with model: qwen/qwen3-1.7b:free
2025-07-15 00:36:35,951 - INFO - Model has suffix: base=qwen/qwen3-1.7b, suffix=:free
2025-07-15 00:36:35,951 - INFO - OpenRouter Request for qwen/qwen3-1.7b:free (attempt 1): {"model": "qwen/qwen3-1.7b:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:36:36,076 - ERROR - Error calling model qwen/qwen3-1.7b:free (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:36:36,076 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwen3-1.7b:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:36:37,501 - INFO - OpenRouter response for deepseek/deepseek-r1 (attempt 1): {"id": "gen-1752532587-GCznKqA29CIYI3y0kEkE", "model": "deepseek/deepseek-r1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:36:37,502 - INFO - Received raw move 'e7e5' from model deepseek/deepseek-r1
2025-07-15 00:36:37,503 - INFO - Using default board with active color: b
2025-07-15 00:36:37,503 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-07-15 00:36:37,504 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-07-15 00:36:37,504 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:36:37,578 - INFO - Retry attempt 1/3 for model qwen/qwen3-1.7b:free
2025-07-15 00:36:37,578 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:36:37,578 - INFO - OpenRouter Request for qwen/qwen3-1.7b:free (attempt 2): {"model": "qwen/qwen3-1.7b:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:36:37,711 - ERROR - Error calling model qwen/qwen3-1.7b:free (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:36:37,712 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwen3-1.7b:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:36:38,476 - INFO - Received commentary from openai/gpt-4.1-mini: 1... e5 is a classical and sol...
2025-07-15 00:36:39,213 - INFO - Retry attempt 2/3 for model qwen/qwen3-1.7b:free
2025-07-15 00:36:39,214 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:36:39,214 - INFO - Trying base model without suffix: qwen/qwen3-1.7b
2025-07-15 00:36:39,214 - INFO - OpenRouter Request for qwen/qwen3-1.7b (attempt 3): {"model": "qwen/qwen3-1.7b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:36:39,369 - ERROR - Error calling model qwen/qwen3-1.7b (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:36:39,369 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwen3-1.7b.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:36:40,870 - INFO - Retry attempt 3/3 for model qwen/qwen3-1.7b:free
2025-07-15 00:36:40,871 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:36:40,871 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:36:40,871 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as WHITE.\nCurrent board:\n\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:36:41,451 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752532601-igTJz8NAKIRLTlIjBwBw", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:36:41,452 - INFO - Received raw move 'e2e4' from model qwen/qwen3-1.7b:free
2025-07-15 00:36:41,452 - INFO - Using default board with active color: w
2025-07-15 00:36:41,453 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-15 00:36:41,453 - ERROR - Error sending WebSocket message: sent 1012 (service restart); no close frame received
2025-07-15 00:36:41,453 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:36:42,631 - INFO - AI Chess Arena starting up...
2025-07-15 00:36:42,632 - INFO - Loaded 167 previous game results from results.txt
2025-07-15 00:36:44,819 - INFO - New game created: perplexity/r1-1776 (White) vs openai/gpt-3.5-turbo-16k (Black)
2025-07-15 00:36:44,825 - INFO - WebSocket connection established for game game_1752532604_9536
2025-07-15 00:36:44,825 - INFO - Starting game: perplexity/r1-1776 vs openai/gpt-3.5-turbo-16k
2025-07-15 00:36:44,826 - INFO - Calling OpenRouter API with model: perplexity/r1-1776
2025-07-15 00:36:44,826 - INFO - OpenRouter Request for perplexity/r1-1776 (attempt 1): {"model": "perplexity/r1-1776", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:36:49,415 - INFO - OpenRouter response for perplexity/r1-1776 (attempt 1): {"id": "gen-1752532604-3ou3V7RYSXhgMkgNX9Tr", "model": "perplexity/r1-1776", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:36:49,416 - INFO - Received raw move 'e2e4' from model perplexity/r1-1776
2025-07-15 00:36:49,417 - INFO - Using default board with active color: w
2025-07-15 00:36:49,417 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-15 00:36:49,418 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:36:50,613 - INFO - Received commentary from openai/gpt-4.1-mini: 1.e4 is a strong opening move ...
2025-07-15 00:36:50,924 - INFO - Calling OpenRouter API with model: openai/gpt-3.5-turbo-16k
2025-07-15 00:36:50,924 - INFO - Detected 0.5 move pairs already made in the game
2025-07-15 00:36:50,925 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-16k (attempt 1): {"model": "openai/gpt-3.5-turbo-16k", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:36:51,469 - INFO - OpenRouter response for openai/gpt-3.5-turbo-16k (attempt 1): {"id": "gen-1752532611-mo5Ewn6YKavLx8868UgA", "model": "openai/gpt-3.5-turbo-16k", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:36:51,470 - INFO - Received raw move 'd7d5' from model openai/gpt-3.5-turbo-16k
2025-07-15 00:36:51,471 - INFO - Using default board with active color: b
2025-07-15 00:36:51,471 - INFO - Processed move: Raw 'd7d5' -> Interpreted 'd7d5' -> UCI 'd7d5' -> SAN 'd5'
2025-07-15 00:36:51,474 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:36:52,901 - INFO - Received commentary from openai/gpt-4.1-mini: Black's 1...d5 challenges Whit...
2025-07-15 00:36:52,977 - INFO - Calling OpenRouter API with model: perplexity/r1-1776
2025-07-15 00:36:52,977 - INFO - Detected 1 move pairs already made in the game
2025-07-15 00:36:52,977 - INFO - OpenRouter Request for perplexity/r1-1776 (attempt 1): {"model": "perplexity/r1-1776", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . p p p p\n. . . . . . . .\n. . . p . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:37:17,686 - INFO - New game created: inflection/inflection-3-productivity (White) vs mistralai/mistral-large-2407 (Black)
2025-07-15 00:37:17,700 - INFO - WebSocket connection established for game game_1752532637_4168
2025-07-15 00:37:17,700 - INFO - Starting game: inflection/inflection-3-productivity vs mistralai/mistral-large-2407
2025-07-15 00:37:17,701 - INFO - Calling OpenRouter API with model: inflection/inflection-3-productivity
2025-07-15 00:37:17,701 - INFO - OpenRouter Request for inflection/inflection-3-productivity (attempt 1): {"model": "inflection/inflection-3-productivity", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:37:19,354 - INFO - OpenRouter response for inflection/inflection-3-productivity (attempt 1): {"id": "gen-1752532637-5sMAsqI0y7LcJPPuXi2k", "model": "inflection/inflection-3-productivity", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:37:19,355 - INFO - Received raw move 'd2d4' from model inflection/inflection-3-productivity
2025-07-15 00:37:19,355 - INFO - Using default board with active color: w
2025-07-15 00:37:19,356 - INFO - Processed move: Raw 'd2d4' -> Interpreted 'd2d4' -> UCI 'd2d4' -> SAN 'd4'
2025-07-15 00:37:19,357 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:37:20,256 - INFO - Received commentary from openai/gpt-4.1-mini: 1. d4 ! White stakes a strong ...
2025-07-15 00:37:20,359 - INFO - Calling OpenRouter API with model: mistralai/mistral-large-2407
2025-07-15 00:37:20,359 - INFO - Detected 0.5 move pairs already made in the game
2025-07-15 00:37:20,359 - INFO - OpenRouter Request for mistralai/mistral-large-2407 (attempt 1): {"model": "mistralai/mistral-large-2407", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . P . . . .\n. . . . . . . .\nP P P . P P P P\nR N B Q K B N R\n\nPrevious moves:\n1. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:37:20,811 - INFO - OpenRouter response for mistralai/mistral-large-2407 (attempt 1): {"id": "gen-1752532640-sQRHYPUfDakrNjmqQfMB", "model": "mistralai/mistral-large-2407", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:37:20,812 - INFO - Received raw move 'g8f6' from model mistralai/mistral-large-2407
2025-07-15 00:37:20,812 - INFO - Using default board with active color: b
2025-07-15 00:37:20,812 - INFO - Processed move: Raw 'g8f6' -> Interpreted 'g8f6' -> UCI 'g8f6' -> SAN 'Nf6'
2025-07-15 00:37:20,814 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:37:21,867 - INFO - Received commentary from openai/gpt-4.1-mini: 1...Nf6 is a natural developin...
2025-07-15 00:37:22,318 - INFO - Calling OpenRouter API with model: inflection/inflection-3-productivity
2025-07-15 00:37:22,319 - INFO - Detected 1 move pairs already made in the game
2025-07-15 00:37:22,319 - INFO - OpenRouter Request for inflection/inflection-3-productivity (attempt 1): {"model": "inflection/inflection-3-productivity", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p p p p p p\n. . . . . n . .\n. . . . . . . .\n. . . P . . . .\n. . . . . . . .\nP P P . P P P P\nR N B Q K B N R\n\nPrevious moves:\n1. d2d4 g8f6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:37:24,431 - INFO - OpenRouter response for inflection/inflection-3-productivity (attempt 1): {"id": "gen-1752532642-dlgV9jiBMJ21cBakDa4D", "model": "inflection/inflection-3-productivity", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:37:24,431 - INFO - Received raw move 'c2c4' from model inflection/inflection-3-productivity
2025-07-15 00:37:24,432 - INFO - Using default board with active color: w
2025-07-15 00:37:24,432 - INFO - Processed move: Raw 'c2c4' -> Interpreted 'c2c4' -> UCI 'c2c4' -> SAN 'c4'
2025-07-15 00:37:24,433 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:37:25,595 - INFO - Received commentary from openai/gpt-4.1-mini: 2. c4 is a principled move cha...
2025-07-15 00:37:25,936 - INFO - Calling OpenRouter API with model: mistralai/mistral-large-2407
2025-07-15 00:37:25,936 - INFO - Detected 1.5 move pairs already made in the game
2025-07-15 00:37:25,936 - INFO - OpenRouter Request for mistralai/mistral-large-2407 (attempt 1): {"model": "mistralai/mistral-large-2407", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b . r\np p p p p p p p\n. . . . . n . .\n. . . . . . . .\n. . P P . . . .\n. . . . . . . .\nP P . . P P P P\nR N B Q K B N R\n\nPrevious moves:\n1. d2d4 g8f6\n2. c2c4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:37:26,332 - INFO - OpenRouter response for mistralai/mistral-large-2407 (attempt 1): {"id": "gen-1752532646-V5LUgunXetRIDGqzCw5Y", "model": "mistralai/mistral-large-2407", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:37:26,332 - INFO - Received raw move 'g7g6' from model mistralai/mistral-large-2407
2025-07-15 00:37:26,332 - INFO - Using default board with active color: b
2025-07-15 00:37:26,332 - INFO - Processed move: Raw 'g7g6' -> Interpreted 'g7g6' -> UCI 'g7g6' -> SAN 'g6'
2025-07-15 00:37:26,334 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:37:28,059 - INFO - Received commentary from openai/gpt-4.1-mini: The move 2...g6 is a solid cho...
2025-07-15 00:37:28,338 - INFO - Calling OpenRouter API with model: inflection/inflection-3-productivity
2025-07-15 00:37:28,339 - INFO - Detected 2 move pairs already made in the game
2025-07-15 00:37:28,339 - INFO - OpenRouter Request for inflection/inflection-3-productivity (attempt 1): {"model": "inflection/inflection-3-productivity", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p p p p . p\n. . . . . n p .\n. . . . . . . .\n. . P P . . . .\n. . . . . . . .\nP P . . P P P P\nR N B Q K B N R\n\nPrevious moves:\n1. d2d4 g8f6\n2. c2c4 g7g6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:37:30,445 - INFO - OpenRouter response for inflection/inflection-3-productivity (attempt 1): {"id": "gen-1752532648-eJc0kxwE9QJHiegsT0pz", "model": "inflection/inflection-3-productivity", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:37:30,446 - INFO - Received raw move 'Nb1c3' from model inflection/inflection-3-productivity
2025-07-15 00:37:30,446 - INFO - Removed piece prefix from move: b1c3
2025-07-15 00:37:30,446 - INFO - Using default board with active color: w
2025-07-15 00:37:30,448 - INFO - Processed move: Raw 'Nb1c3' -> Interpreted 'b1c3' -> UCI 'b1c3' -> SAN 'Nc3'
2025-07-15 00:37:30,449 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:37:31,574 - INFO - Received commentary from openai/gpt-4.1-mini: Nc3 develops a knight to a nat...
2025-07-15 00:37:31,952 - INFO - Calling OpenRouter API with model: mistralai/mistral-large-2407
2025-07-15 00:37:31,952 - INFO - Detected 2.5 move pairs already made in the game
2025-07-15 00:37:31,953 - INFO - OpenRouter Request for mistralai/mistral-large-2407 (attempt 1): {"model": "mistralai/mistral-large-2407", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b . r\np p p p p p . p\n. . . . . n p .\n. . . . . . . .\n. . P P . . . .\n. . N . . . . .\nP P . . P P P P\nR . B Q K B N R\n\nPrevious moves:\n1. d2d4 g8f6\n2. c2c4 g7g6\n3. b1c3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:37:32,376 - INFO - OpenRouter response for mistralai/mistral-large-2407 (attempt 1): {"id": "gen-1752532652-q2zpkUDVWoi2gTFuMsQo", "model": "mistralai/mistral-large-2407", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:37:32,377 - INFO - Received raw move 'f8g7' from model mistralai/mistral-large-2407
2025-07-15 00:37:32,377 - INFO - Using default board with active color: b
2025-07-15 00:37:32,377 - INFO - Attempting to interpret ambiguous move with API: 'f8g7'
2025-07-15 00:37:32,398 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'f8g7'
2025-07-15 00:37:32,972 - INFO - Interpreted move 'f8g7' as 'f8g7'
2025-07-15 00:37:32,972 - WARNING - Interpreted move 'f8g7' is not legal on the current board
2025-07-15 00:37:32,972 - WARNING - Model mistralai/mistral-large-2407 made an invalid move: 'f8g7' that couldn't be interpreted (attempt 1/5)
2025-07-15 00:37:32,973 - INFO - Calling OpenRouter API with model: mistralai/mistral-large-2407
2025-07-15 00:37:32,973 - INFO - Detected 2.5 move pairs already made in the game
2025-07-15 00:37:32,973 - INFO - OpenRouter Request for mistralai/mistral-large-2407 (attempt 1): {"model": "mistralai/mistral-large-2407", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b . r\np p p p p p . p\n. . . . . n p .\n. . . . . . . .\n. . P P . . . .\n. . N . . . . .\nP P . . P P P P\nR . B Q K B N R\n\nPrevious moves:\n1. d2d4 g8f6\n2. c2c4 g7g6\n3. b1c3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:37:33,367 - INFO - OpenRouter response for mistralai/mistral-large-2407 (attempt 1): {"id": "gen-1752532653-Z05sHkL1B9daXFBhfzcv", "model": "mistralai/mistral-large-2407", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:37:33,367 - INFO - Retry 1: Received raw move 'd7d5' from model mistralai/mistral-large-2407
2025-07-15 00:37:33,368 - INFO - Using default board with active color: b
2025-07-15 00:37:33,368 - INFO - Processed move: Raw 'd7d5' -> Interpreted 'd7d5' -> UCI 'd7d5' -> SAN 'd5'
2025-07-15 00:37:33,369 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:37:34,590 - INFO - Received commentary from openai/gpt-4.1-mini: 3...d5 challenges White's cent...
2025-07-15 00:37:34,874 - INFO - Calling OpenRouter API with model: inflection/inflection-3-productivity
2025-07-15 00:37:34,874 - INFO - Detected 3 move pairs already made in the game
2025-07-15 00:37:34,874 - INFO - OpenRouter Request for inflection/inflection-3-productivity (attempt 1): {"model": "inflection/inflection-3-productivity", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p . p p . p\n. . . . . n p .\n. . . p . . . .\n. . P P . . . .\n. . N . . . . .\nP P . . P P P P\nR . B Q K B N R\n\nPrevious moves:\n1. d2d4 g8f6\n2. c2c4 g7g6\n3. b1c3 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:37:36,367 - INFO - OpenRouter response for inflection/inflection-3-productivity (attempt 1): {"id": "gen-1752532655-NZ5HoTdP1NR7OWKDTFQ1", "model": "inflection/inflection-3-productivity", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:37:36,368 - INFO - Received raw move 'c4d5' from model inflection/inflection-3-productivity
2025-07-15 00:37:36,368 - INFO - Using default board with active color: w
2025-07-15 00:37:36,368 - INFO - Attempting to interpret ambiguous move with API: 'c4d5'
2025-07-15 00:37:36,387 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'c4d5'
2025-07-15 00:37:37,000 - INFO - Interpreted move 'c4d5' as 'c4d5'
2025-07-15 00:37:37,000 - WARNING - Interpreted move 'c4d5' is not legal on the current board
2025-07-15 00:37:37,000 - WARNING - Model inflection/inflection-3-productivity made an invalid move: 'c4d5' that couldn't be interpreted (attempt 1/5)
2025-07-15 00:37:37,001 - INFO - Calling OpenRouter API with model: inflection/inflection-3-productivity
2025-07-15 00:37:37,001 - INFO - Detected 3 move pairs already made in the game
2025-07-15 00:37:37,001 - INFO - OpenRouter Request for inflection/inflection-3-productivity (attempt 1): {"model": "inflection/inflection-3-productivity", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p . p p . p\n. . . . . n p .\n. . . p . . . .\n. . P P . . . .\n. . N . . . . .\nP P . . P P P P\nR . B Q K B N R\n\nPrevious moves:\n1. d2d4 g8f6\n2. c2c4 g7g6\n3. b1c3 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:37:38,550 - INFO - OpenRouter response for inflection/inflection-3-productivity (attempt 1): {"id": "gen-1752532657-TOYX6ms3hYOsbf6tFneW", "model": "inflection/inflection-3-productivity", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:37:38,550 - INFO - Retry 1: Received raw move 'cxd5' from model inflection/inflection-3-productivity
2025-07-15 00:37:38,551 - INFO - Using default board with active color: w
2025-07-15 00:37:38,551 - INFO - Attempting to interpret ambiguous move with API: 'cxd5'
2025-07-15 00:37:38,570 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'cxd5'
2025-07-15 00:37:39,116 - INFO - Interpreted move 'cxd5' as 'c4d5'
2025-07-15 00:37:39,116 - WARNING - Interpreted move 'c4d5' is not legal on the current board
2025-07-15 00:37:39,116 - WARNING - Model inflection/inflection-3-productivity made an invalid move: 'cxd5' that couldn't be interpreted (attempt 2/5)
2025-07-15 00:37:39,117 - INFO - Calling OpenRouter API with model: inflection/inflection-3-productivity
2025-07-15 00:37:39,117 - INFO - Detected 3 move pairs already made in the game
2025-07-15 00:37:39,117 - INFO - OpenRouter Request for inflection/inflection-3-productivity (attempt 1): {"model": "inflection/inflection-3-productivity", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p . p p . p\n. . . . . n p .\n. . . p . . . .\n. . P P . . . .\n. . N . . . . .\nP P . . P P P P\nR . B Q K B N R\n\nPrevious moves:\n1. d2d4 g8f6\n2. c2c4 g7g6\n3. b1c3 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:37:40,524 - INFO - OpenRouter response for inflection/inflection-3-productivity (attempt 1): {"id": "gen-1752532659-JhMCLmjNQNWdaRL0pCOx", "model": "inflection/inflection-3-productivity", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:37:40,524 - INFO - Retry 2: Received raw move 'c4d5' from model inflection/inflection-3-productivity
2025-07-15 00:37:40,525 - INFO - Using default board with active color: w
2025-07-15 00:37:40,525 - INFO - Attempting to interpret ambiguous move with API: 'c4d5'
2025-07-15 00:37:40,550 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'c4d5'
2025-07-15 00:37:41,120 - INFO - Interpreted move 'c4d5' as 'c4d5'
2025-07-15 00:37:41,120 - WARNING - Interpreted move 'c4d5' is not legal on the current board
2025-07-15 00:37:41,120 - WARNING - Model inflection/inflection-3-productivity made an invalid move: 'c4d5' that couldn't be interpreted (attempt 3/5)
2025-07-15 00:37:41,121 - INFO - Calling OpenRouter API with model: inflection/inflection-3-productivity
2025-07-15 00:37:41,121 - INFO - Detected 3 move pairs already made in the game
2025-07-15 00:37:41,121 - INFO - OpenRouter Request for inflection/inflection-3-productivity (attempt 1): {"model": "inflection/inflection-3-productivity", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p . p p . p\n. . . . . n p .\n. . . p . . . .\n. . P P . . . .\n. . N . . . . .\nP P . . P P P P\nR . B Q K B N R\n\nPrevious moves:\n1. d2d4 g8f6\n2. c2c4 g7g6\n3. b1c3 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:37:42,842 - INFO - OpenRouter response for inflection/inflection-3-productivity (attempt 1): {"id": "gen-1752532661-bwBUvB6m8Vw5DUR58MNd", "model": "inflection/inflection-3-productivity", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:37:42,843 - INFO - Retry 3: Received raw move 'cxd5' from model inflection/inflection-3-productivity
2025-07-15 00:37:42,844 - INFO - Using default board with active color: w
2025-07-15 00:37:42,844 - INFO - Attempting to interpret ambiguous move with API: 'cxd5'
2025-07-15 00:37:42,868 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'cxd5'
2025-07-15 00:37:44,057 - INFO - Interpreted move 'cxd5' as 'c4d5'
2025-07-15 00:37:44,057 - WARNING - Interpreted move 'c4d5' is not legal on the current board
2025-07-15 00:37:44,058 - WARNING - Model inflection/inflection-3-productivity made an invalid move: 'cxd5' that couldn't be interpreted (attempt 4/5)
2025-07-15 00:37:44,058 - INFO - Calling OpenRouter API with model: inflection/inflection-3-productivity
2025-07-15 00:37:44,058 - INFO - Detected 3 move pairs already made in the game
2025-07-15 00:37:44,058 - INFO - OpenRouter Request for inflection/inflection-3-productivity (attempt 1): {"model": "inflection/inflection-3-productivity", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p . p p . p\n. . . . . n p .\n. . . p . . . .\n. . P P . . . .\n. . N . . . . .\nP P . . P P P P\nR . B Q K B N R\n\nPrevious moves:\n1. d2d4 g8f6\n2. c2c4 g7g6\n3. b1c3 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:37:45,726 - INFO - OpenRouter response for inflection/inflection-3-productivity (attempt 1): {"id": "gen-1752532664-CdMsnzjSCJ8u7EtSvBoX", "model": "inflection/inflection-3-productivity", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:37:45,727 - INFO - Retry 4: Received raw move 'c4d5' from model inflection/inflection-3-productivity
2025-07-15 00:37:45,727 - INFO - Using default board with active color: w
2025-07-15 00:37:45,727 - INFO - Attempting to interpret ambiguous move with API: 'c4d5'
2025-07-15 00:37:45,751 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'c4d5'
2025-07-15 00:37:46,257 - INFO - Interpreted move 'c4d5' as 'INVALID'
2025-07-15 00:37:46,258 - WARNING - Model inflection/inflection-3-productivity made an invalid move: 'c4d5' that couldn't be interpreted (attempt 5/5)
2025-07-15 00:37:46,258 - ERROR - Model inflection/inflection-3-productivity failed to make a valid move after 5 attempts
2025-07-15 00:37:46,258 - INFO - Requesting game over explanation from openai/gpt-4.1-mini
2025-07-15 00:37:47,724 - INFO - Received game over explanation: The player inflection/inflection-3-productivity lo...
2025-07-15 00:37:50,219 - INFO - New game created: amazon/nova-pro-v1 (White) vs anthropic/claude-2.0:beta (Black)
2025-07-15 00:37:50,226 - INFO - WebSocket connection established for game game_1752532670_8118
2025-07-15 00:37:50,226 - INFO - Starting game: amazon/nova-pro-v1 vs anthropic/claude-2.0:beta
2025-07-15 00:37:50,227 - INFO - Calling OpenRouter API with model: amazon/nova-pro-v1
2025-07-15 00:37:50,227 - INFO - OpenRouter Request for amazon/nova-pro-v1 (attempt 1): {"model": "amazon/nova-pro-v1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:37:51,064 - INFO - OpenRouter response for amazon/nova-pro-v1 (attempt 1): {"id": "gen-1752532670-ogBvdCJ76wQ61tj8v2Nb", "model": "amazon/nova-pro-v1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:37:51,065 - INFO - Received raw move 'e2e4' from model amazon/nova-pro-v1
2025-07-15 00:37:51,065 - INFO - Using default board with active color: w
2025-07-15 00:37:51,066 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-15 00:37:51,067 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:37:52,323 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 ! White takes control of...
2025-07-15 00:37:52,569 - INFO - Calling OpenRouter API with model: anthropic/claude-2.0:beta
2025-07-15 00:37:52,570 - INFO - Detected 0.5 move pairs already made in the game
2025-07-15 00:37:52,570 - INFO - Model has suffix: base=anthropic/claude-2.0, suffix=:beta
2025-07-15 00:37:52,570 - INFO - OpenRouter Request for anthropic/claude-2.0:beta (attempt 1): {"model": "anthropic/claude-2.0:beta", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:37:53,603 - INFO - OpenRouter response for anthropic/claude-2.0:beta (attempt 1): {"id": "gen-1752532672-6xcegvs5FSS1x5kmRmBP", "model": "anthropic/claude-2.0:beta", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:37:53,603 - INFO - Received raw move 'e7e5' from model anthropic/claude-2.0:beta
2025-07-15 00:37:53,604 - INFO - Using default board with active color: b
2025-07-15 00:37:53,604 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-07-15 00:37:53,606 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:37:54,544 - INFO - Received commentary from openai/gpt-4.1-mini: 1...e5 is a classical and soli...
2025-07-15 00:37:54,607 - INFO - Calling OpenRouter API with model: amazon/nova-pro-v1
2025-07-15 00:37:54,608 - INFO - Detected 1 move pairs already made in the game
2025-07-15 00:37:54,608 - INFO - OpenRouter Request for amazon/nova-pro-v1 (attempt 1): {"model": "amazon/nova-pro-v1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:37:55,568 - INFO - OpenRouter response for amazon/nova-pro-v1 (attempt 1): {"id": "gen-1752532674-vVHxvl4mCHW4ZOmn4KqP", "model": "amazon/nova-pro-v1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:37:55,569 - INFO - Received raw move 'g1f3' from model amazon/nova-pro-v1
2025-07-15 00:37:55,570 - INFO - Using default board with active color: w
2025-07-15 00:37:55,570 - INFO - Processed move: Raw 'g1f3' -> Interpreted 'g1f3' -> UCI 'g1f3' -> SAN 'Nf3'
2025-07-15 00:37:55,571 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:37:57,366 - INFO - Received commentary from openai/gpt-4.1-mini: Nf3 develops a key knight, con...
2025-07-15 00:37:57,577 - INFO - Calling OpenRouter API with model: anthropic/claude-2.0:beta
2025-07-15 00:37:57,577 - INFO - Detected 1.5 move pairs already made in the game
2025-07-15 00:37:57,577 - INFO - Model has suffix: base=anthropic/claude-2.0, suffix=:beta
2025-07-15 00:37:57,578 - INFO - OpenRouter Request for anthropic/claude-2.0:beta (attempt 1): {"model": "anthropic/claude-2.0:beta", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:37:58,441 - INFO - OpenRouter response for anthropic/claude-2.0:beta (attempt 1): {"id": "gen-1752532677-e8Q2f5TPY72ohSNRFSnP", "model": "anthropic/claude-2.0:beta", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:37:58,442 - INFO - Received raw move 'e7e6' from model anthropic/claude-2.0:beta
2025-07-15 00:37:58,443 - INFO - Using default board with active color: b
2025-07-15 00:37:58,443 - ERROR - Failed to convert move 'e7e6': ValueError: Illegal move: e7e6
2025-07-15 00:37:58,443 - WARNING - Move parsing attempt 1/5 failed, retrying...
2025-07-15 00:37:58,444 - INFO - Calling OpenRouter API with model: anthropic/claude-2.0:beta
2025-07-15 00:37:58,444 - INFO - Detected 1.5 move pairs already made in the game
2025-07-15 00:37:58,444 - INFO - Model has suffix: base=anthropic/claude-2.0, suffix=:beta
2025-07-15 00:37:58,444 - INFO - OpenRouter Request for anthropic/claude-2.0:beta (attempt 1): {"model": "anthropic/claude-2.0:beta", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:37:59,946 - INFO - OpenRouter response for anthropic/claude-2.0:beta (attempt 1): {"id": "gen-1752532678-0AH5ssN2tZbl3YVKthJe", "model": "anthropic/claude-2.0:beta", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:37:59,949 - INFO - Move retry 1: Received raw move 'e5e4' from model anthropic/claude-2.0:beta
2025-07-15 00:37:59,949 - INFO - Using default board with active color: b
2025-07-15 00:37:59,949 - INFO - Attempting to interpret ambiguous move with API: 'e5e4'
2025-07-15 00:37:59,983 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5e4'
2025-07-15 00:38:00,752 - INFO - Interpreted move 'e5e4' as 'e7e5'
2025-07-15 00:38:00,753 - ERROR - Failed to convert move 'e7e5': ValueError: Illegal move: e7e5
2025-07-15 00:38:00,753 - WARNING - Move parsing attempt 2/5 failed, retrying...
2025-07-15 00:38:00,754 - INFO - Calling OpenRouter API with model: anthropic/claude-2.0:beta
2025-07-15 00:38:00,754 - INFO - Detected 1.5 move pairs already made in the game
2025-07-15 00:38:00,754 - INFO - Model has suffix: base=anthropic/claude-2.0, suffix=:beta
2025-07-15 00:38:00,754 - INFO - OpenRouter Request for anthropic/claude-2.0:beta (attempt 1): {"model": "anthropic/claude-2.0:beta", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:38:01,686 - INFO - OpenRouter response for anthropic/claude-2.0:beta (attempt 1): {"id": "gen-1752532680-bgC6hh5yzMa2PU1LSHEb", "model": "anthropic/claude-2.0:beta", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:38:01,687 - INFO - Move retry 2: Received raw move 'e7e6' from model anthropic/claude-2.0:beta
2025-07-15 00:38:01,687 - INFO - Using default board with active color: b
2025-07-15 00:38:01,687 - ERROR - Failed to convert move 'e7e6': ValueError: Illegal move: e7e6
2025-07-15 00:38:01,688 - WARNING - Move parsing attempt 3/5 failed, retrying...
2025-07-15 00:38:01,690 - INFO - Calling OpenRouter API with model: anthropic/claude-2.0:beta
2025-07-15 00:38:01,690 - INFO - Detected 1.5 move pairs already made in the game
2025-07-15 00:38:01,690 - INFO - Model has suffix: base=anthropic/claude-2.0, suffix=:beta
2025-07-15 00:38:01,691 - INFO - OpenRouter Request for anthropic/claude-2.0:beta (attempt 1): {"model": "anthropic/claude-2.0:beta", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:38:02,894 - INFO - OpenRouter response for anthropic/claude-2.0:beta (attempt 1): {"id": "gen-1752532681-2R1uSMwIPPIbJMezItVm", "model": "anthropic/claude-2.0:beta", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:38:02,894 - INFO - Move retry 3: Received raw move 'e8g8' from model anthropic/claude-2.0:beta
2025-07-15 00:38:02,894 - INFO - Using default board with active color: b
2025-07-15 00:38:02,894 - INFO - Attempting to interpret ambiguous move with API: 'e8g8'
2025-07-15 00:38:02,915 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e8g8'
2025-07-15 00:38:03,683 - INFO - Interpreted move 'e8g8' as 'e8g8'
2025-07-15 00:38:03,684 - WARNING - Interpreted move 'e8g8' is not legal on the current board
2025-07-15 00:38:03,684 - WARNING - Interpreted move is still invalid during retry 3
2025-07-15 00:38:03,684 - ERROR - Failed to parse 'INVALID' as SAN: invalid san: 'INVALID'
2025-07-15 00:38:03,684 - ERROR - Failed to convert move 'INVALID': InvalidMoveError: invalid san: 'INVALID'
2025-07-15 00:38:03,684 - WARNING - Move parsing attempt 4/5 failed, retrying...
2025-07-15 00:38:03,685 - INFO - Calling OpenRouter API with model: anthropic/claude-2.0:beta
2025-07-15 00:38:03,685 - INFO - Detected 1.5 move pairs already made in the game
2025-07-15 00:38:03,685 - INFO - Model has suffix: base=anthropic/claude-2.0, suffix=:beta
2025-07-15 00:38:03,685 - INFO - OpenRouter Request for anthropic/claude-2.0:beta (attempt 1): {"model": "anthropic/claude-2.0:beta", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:38:04,838 - INFO - OpenRouter response for anthropic/claude-2.0:beta (attempt 1): {"id": "gen-1752532683-dYgcKuHAZejDpX2Qts5n", "model": "anthropic/claude-2.0:beta", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:38:04,839 - INFO - Move retry 4: Received raw move 'e5e4' from model anthropic/claude-2.0:beta
2025-07-15 00:38:04,839 - INFO - Using default board with active color: b
2025-07-15 00:38:04,839 - INFO - Attempting to interpret ambiguous move with API: 'e5e4'
2025-07-15 00:38:04,869 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5e4'
2025-07-15 00:38:05,565 - INFO - Interpreted move 'e5e4' as 'e7e5'
2025-07-15 00:38:05,566 - ERROR - Failed to convert move 'e7e5': ValueError: Illegal move: e7e5
2025-07-15 00:38:05,566 - ERROR - Failed to parse/apply move after 5 attempts
2025-07-15 00:38:05,566 - ERROR - Recovery attempt failed: All move parsing retries failed for 'e7e5'
2025-07-15 00:38:05,566 - INFO - Requesting game over explanation from openai/gpt-4.1-mini
2025-07-15 00:38:06,843 - INFO - Received game over explanation: Anthropic/claude-2.0:beta lost because it tried to...
2025-07-15 00:38:08,832 - INFO - New game created: moonshotai/moonlight-16b-a3b-instruct:free (White) vs openai/o3-mini-high (Black)
2025-07-15 00:38:08,840 - INFO - WebSocket connection established for game game_1752532688_2502
2025-07-15 00:38:08,841 - INFO - Starting game: moonshotai/moonlight-16b-a3b-instruct:free vs openai/o3-mini-high
2025-07-15 00:38:08,842 - INFO - Calling OpenRouter API with model: moonshotai/moonlight-16b-a3b-instruct:free
2025-07-15 00:38:08,843 - INFO - Model has suffix: base=moonshotai/moonlight-16b-a3b-instruct, suffix=:free
2025-07-15 00:38:08,843 - INFO - OpenRouter Request for moonshotai/moonlight-16b-a3b-instruct:free (attempt 1): {"model": "moonshotai/moonlight-16b-a3b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:38:08,998 - ERROR - Error calling model moonshotai/moonlight-16b-a3b-instruct:free (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:38:08,999 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for moonshotai/moonlight-16b-a3b-instruct:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:38:10,500 - INFO - Retry attempt 1/3 for model moonshotai/moonlight-16b-a3b-instruct:free
2025-07-15 00:38:10,500 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:38:10,500 - INFO - OpenRouter Request for moonshotai/moonlight-16b-a3b-instruct:free (attempt 2): {"model": "moonshotai/moonlight-16b-a3b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:38:10,633 - ERROR - Error calling model moonshotai/moonlight-16b-a3b-instruct:free (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:38:10,634 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for moonshotai/moonlight-16b-a3b-instruct:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:38:12,135 - INFO - Retry attempt 2/3 for model moonshotai/moonlight-16b-a3b-instruct:free
2025-07-15 00:38:12,135 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:38:12,136 - INFO - Trying base model without suffix: moonshotai/moonlight-16b-a3b-instruct
2025-07-15 00:38:12,136 - INFO - OpenRouter Request for moonshotai/moonlight-16b-a3b-instruct (attempt 3): {"model": "moonshotai/moonlight-16b-a3b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:38:12,267 - ERROR - Error calling model moonshotai/moonlight-16b-a3b-instruct (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:38:12,268 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for moonshotai/moonlight-16b-a3b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:38:13,769 - INFO - Retry attempt 3/3 for model moonshotai/moonlight-16b-a3b-instruct:free
2025-07-15 00:38:13,769 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:38:13,769 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:38:13,769 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as WHITE.\nCurrent board:\n\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:38:14,492 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752532693-YLzz16LEgYmtPZf2j2Dc", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:38:14,492 - INFO - Received raw move 'e2e4' from model moonshotai/moonlight-16b-a3b-instruct:free
2025-07-15 00:38:14,493 - INFO - Using default board with active color: w
2025-07-15 00:38:14,493 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-15 00:38:14,494 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:38:15,662 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a classic and strong ...
2025-07-15 00:38:15,997 - INFO - Calling OpenRouter API with model: openai/o3-mini-high
2025-07-15 00:38:15,998 - INFO - Detected 0.5 move pairs already made in the game
2025-07-15 00:38:15,998 - INFO - OpenRouter Request for openai/o3-mini-high (attempt 1): {"model": "openai/o3-mini-high", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:38:26,099 - INFO - OpenRouter response for perplexity/r1-1776 (attempt 1): {"id": "gen-1752532613-cnOQKvBdIw6tYHgNar3n", "model": "perplexity/r1-1776", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:38:26,100 - INFO - Received raw move 'e4d5' from model perplexity/r1-1776
2025-07-15 00:38:26,100 - INFO - Using default board with active color: w
2025-07-15 00:38:26,100 - INFO - Attempting to interpret ambiguous move with API: 'e4d5'
2025-07-15 00:38:26,133 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e4d5'
2025-07-15 00:38:26,919 - INFO - Interpreted move 'e4d5' as 'INVALID'
2025-07-15 00:38:26,919 - WARNING - Model perplexity/r1-1776 made an invalid move: 'e4d5' that couldn't be interpreted (attempt 1/5)
2025-07-15 00:38:26,920 - ERROR - Error sending WebSocket message: received 1005 (no status received [internal]); then sent 1005 (no status received [internal])
2025-07-15 00:38:31,357 - INFO - OpenRouter response for openai/o3-mini-high (attempt 1): {"id": "gen-1752532696-6NThswEkOJCUL7MdPMOz", "model": "openai/o3-mini-high", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:38:31,358 - INFO - Received raw move 'e7e5' from model openai/o3-mini-high
2025-07-15 00:38:31,358 - INFO - Using default board with active color: b
2025-07-15 00:38:31,358 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-07-15 00:38:31,359 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:38:32,339 - INFO - Received commentary from openai/gpt-4.1-mini: Black's 1...e5 is a classic re...
2025-07-15 00:38:32,361 - INFO - Calling OpenRouter API with model: moonshotai/moonlight-16b-a3b-instruct:free
2025-07-15 00:38:32,361 - INFO - Detected 1 move pairs already made in the game
2025-07-15 00:38:32,361 - INFO - Model has suffix: base=moonshotai/moonlight-16b-a3b-instruct, suffix=:free
2025-07-15 00:38:32,361 - INFO - OpenRouter Request for moonshotai/moonlight-16b-a3b-instruct:free (attempt 1): {"model": "moonshotai/moonlight-16b-a3b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:38:32,508 - ERROR - Error calling model moonshotai/moonlight-16b-a3b-instruct:free (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:38:32,508 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for moonshotai/moonlight-16b-a3b-instruct:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:38:34,009 - INFO - Retry attempt 1/3 for model moonshotai/moonlight-16b-a3b-instruct:free
2025-07-15 00:38:34,009 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:38:34,009 - INFO - OpenRouter Request for moonshotai/moonlight-16b-a3b-instruct:free (attempt 2): {"model": "moonshotai/moonlight-16b-a3b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:38:34,257 - ERROR - Error calling model moonshotai/moonlight-16b-a3b-instruct:free (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:38:34,257 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for moonshotai/moonlight-16b-a3b-instruct:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:38:35,759 - INFO - Retry attempt 2/3 for model moonshotai/moonlight-16b-a3b-instruct:free
2025-07-15 00:38:35,759 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:38:35,759 - INFO - Trying base model without suffix: moonshotai/moonlight-16b-a3b-instruct
2025-07-15 00:38:35,759 - INFO - OpenRouter Request for moonshotai/moonlight-16b-a3b-instruct (attempt 3): {"model": "moonshotai/moonlight-16b-a3b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:38:35,926 - ERROR - Error calling model moonshotai/moonlight-16b-a3b-instruct (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:38:35,926 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for moonshotai/moonlight-16b-a3b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:38:37,428 - INFO - Retry attempt 3/3 for model moonshotai/moonlight-16b-a3b-instruct:free
2025-07-15 00:38:37,428 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:38:37,428 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:38:37,429 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as WHITE.\nCurrent board:\n\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:38:37,957 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752532717-UoKQDNe5rChpxRfRavdK", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:38:37,958 - INFO - Received raw move 'd2d4' from model moonshotai/moonlight-16b-a3b-instruct:free
2025-07-15 00:38:37,959 - INFO - Using default board with active color: w
2025-07-15 00:38:37,959 - INFO - Processed move: Raw 'd2d4' -> Interpreted 'd2d4' -> UCI 'd2d4' -> SAN 'd4'
2025-07-15 00:38:37,962 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:38:38,918 - INFO - Received commentary from openai/gpt-4.1-mini: 2. d4!? challenges Black's cen...
2025-07-15 00:38:38,964 - INFO - Calling OpenRouter API with model: openai/o3-mini-high
2025-07-15 00:38:38,964 - INFO - Detected 1.5 move pairs already made in the game
2025-07-15 00:38:38,964 - INFO - OpenRouter Request for openai/o3-mini-high (attempt 1): {"model": "openai/o3-mini-high", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:39:04,243 - INFO - OpenRouter response for openai/o3-mini-high (attempt 1): {"id": "gen-1752532719-DEHxmU5PdSno4kTKCJbX", "model": "openai/o3-mini-high", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:39:04,243 - INFO - Received raw move 'e5d4' from model openai/o3-mini-high
2025-07-15 00:39:04,244 - INFO - Using default board with active color: b
2025-07-15 00:39:04,244 - INFO - Attempting to interpret ambiguous move with API: 'e5d4'
2025-07-15 00:39:04,268 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5d4'
2025-07-15 00:39:05,384 - INFO - Interpreted move 'e5d4' as 'e5d4'
2025-07-15 00:39:05,384 - WARNING - Interpreted move 'e5d4' is not legal on the current board
2025-07-15 00:39:05,385 - WARNING - Model openai/o3-mini-high made an invalid move: 'e5d4' that couldn't be interpreted (attempt 1/5)
2025-07-15 00:39:05,385 - INFO - Calling OpenRouter API with model: openai/o3-mini-high
2025-07-15 00:39:05,385 - INFO - Detected 1.5 move pairs already made in the game
2025-07-15 00:39:05,385 - INFO - OpenRouter Request for openai/o3-mini-high (attempt 1): {"model": "openai/o3-mini-high", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:39:34,234 - INFO - OpenRouter response for openai/o3-mini-high (attempt 1): {"id": "gen-1752532745-FIlCBJQ0QMkA1yicihin", "model": "openai/o3-mini-high", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:39:34,235 - INFO - Retry 1: Received raw move 'e5d4' from model openai/o3-mini-high
2025-07-15 00:39:34,235 - INFO - Using default board with active color: b
2025-07-15 00:39:34,235 - INFO - Attempting to interpret ambiguous move with API: 'e5d4'
2025-07-15 00:39:34,264 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5d4'
2025-07-15 00:39:35,247 - INFO - Interpreted move 'e5d4' as 'e5d4'
2025-07-15 00:39:35,247 - WARNING - Interpreted move 'e5d4' is not legal on the current board
2025-07-15 00:39:35,247 - WARNING - Model openai/o3-mini-high made an invalid move: 'e5d4' that couldn't be interpreted (attempt 2/5)
2025-07-15 00:39:35,248 - INFO - Calling OpenRouter API with model: openai/o3-mini-high
2025-07-15 00:39:35,248 - INFO - Detected 1.5 move pairs already made in the game
2025-07-15 00:39:35,248 - INFO - OpenRouter Request for openai/o3-mini-high (attempt 1): {"model": "openai/o3-mini-high", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:40:04,148 - INFO - OpenRouter response for openai/o3-mini-high (attempt 1): {"id": "gen-1752532775-GR57Z8GU4zKQ6aK2yuxV", "model": "openai/o3-mini-high", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:40:04,148 - INFO - Retry 2: Received raw move 'e5d4' from model openai/o3-mini-high
2025-07-15 00:40:04,149 - INFO - Using default board with active color: b
2025-07-15 00:40:04,149 - INFO - Attempting to interpret ambiguous move with API: 'e5d4'
2025-07-15 00:40:04,185 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5d4'
2025-07-15 00:40:04,920 - INFO - Interpreted move 'e5d4' as 'e5d4'
2025-07-15 00:40:04,920 - WARNING - Interpreted move 'e5d4' is not legal on the current board
2025-07-15 00:40:04,921 - WARNING - Model openai/o3-mini-high made an invalid move: 'e5d4' that couldn't be interpreted (attempt 3/5)
2025-07-15 00:40:04,921 - INFO - Calling OpenRouter API with model: openai/o3-mini-high
2025-07-15 00:40:04,921 - INFO - Detected 1.5 move pairs already made in the game
2025-07-15 00:40:04,921 - INFO - OpenRouter Request for openai/o3-mini-high (attempt 1): {"model": "openai/o3-mini-high", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:40:36,353 - INFO - OpenRouter response for openai/o3-mini-high (attempt 1): {"id": "gen-1752532805-SoCkE7hMLTaIiRPFlz2O", "model": "openai/o3-mini-high", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:40:36,354 - INFO - Retry 3: Received raw move 'e5d4' from model openai/o3-mini-high
2025-07-15 00:40:36,355 - INFO - Using default board with active color: b
2025-07-15 00:40:36,355 - INFO - Attempting to interpret ambiguous move with API: 'e5d4'
2025-07-15 00:40:36,388 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5d4'
2025-07-15 00:40:37,101 - INFO - Interpreted move 'e5d4' as 'e5d4'
2025-07-15 00:40:37,101 - WARNING - Interpreted move 'e5d4' is not legal on the current board
2025-07-15 00:40:37,101 - WARNING - Model openai/o3-mini-high made an invalid move: 'e5d4' that couldn't be interpreted (attempt 4/5)
2025-07-15 00:40:37,102 - INFO - Calling OpenRouter API with model: openai/o3-mini-high
2025-07-15 00:40:37,102 - INFO - Detected 1.5 move pairs already made in the game
2025-07-15 00:40:37,102 - INFO - OpenRouter Request for openai/o3-mini-high (attempt 1): {"model": "openai/o3-mini-high", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:41:07,767 - INFO - OpenRouter response for openai/o3-mini-high (attempt 1): {"id": "gen-1752532837-yv1PdDPgwSxNpDMifANb", "model": "openai/o3-mini-high", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:41:07,768 - INFO - Retry 4: Received raw move 'e5d4' from model openai/o3-mini-high
2025-07-15 00:41:07,768 - INFO - Using default board with active color: b
2025-07-15 00:41:07,769 - INFO - Attempting to interpret ambiguous move with API: 'e5d4'
2025-07-15 00:41:07,803 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5d4'
2025-07-15 00:41:08,444 - INFO - Interpreted move 'e5d4' as 'e5d4'
2025-07-15 00:41:08,445 - WARNING - Interpreted move 'e5d4' is not legal on the current board
2025-07-15 00:41:08,446 - WARNING - Model openai/o3-mini-high made an invalid move: 'e5d4' that couldn't be interpreted (attempt 5/5)
2025-07-15 00:41:08,446 - ERROR - Model openai/o3-mini-high failed to make a valid move after 5 attempts
2025-07-15 00:41:08,446 - INFO - Requesting game over explanation from openai/gpt-4.1-mini
2025-07-15 00:41:09,729 - INFO - Received game over explanation: Openai/o3-mini-high lost because it tried to make ...
2025-07-15 00:44:11,160 - INFO - New game created: undi95/remm-slerp-l2-13b (White) vs google/palm-2-codechat-bison (Black)
2025-07-15 00:44:11,167 - INFO - WebSocket connection established for game game_1752533051_2474
2025-07-15 00:44:11,168 - INFO - Starting game: undi95/remm-slerp-l2-13b vs google/palm-2-codechat-bison
2025-07-15 00:44:11,170 - INFO - Calling OpenRouter API with model: undi95/remm-slerp-l2-13b
2025-07-15 00:44:11,170 - INFO - OpenRouter Request for undi95/remm-slerp-l2-13b (attempt 1): {"model": "undi95/remm-slerp-l2-13b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:44:13,555 - INFO - OpenRouter response for undi95/remm-slerp-l2-13b (attempt 1): {"id": "gen-1752533051-gYEAyVIyHDRRQRyIPN7t", "model": "undi95/remm-slerp-l2-13b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:44:13,556 - INFO - Received raw move 'e4' from model undi95/remm-slerp-l2-13b
2025-07-15 00:44:13,556 - INFO - Using default board with active color: w
2025-07-15 00:44:13,556 - INFO - Expanded pawn shorthand e4 to e2e4
2025-07-15 00:44:13,556 - INFO - Processed move: Raw 'e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-15 00:44:13,558 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:44:14,527 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4! White seizes central co...
2025-07-15 00:44:14,560 - INFO - Calling OpenRouter API with model: google/palm-2-codechat-bison
2025-07-15 00:44:14,561 - INFO - Detected 0.5 move pairs already made in the game
2025-07-15 00:44:14,561 - INFO - OpenRouter Request for google/palm-2-codechat-bison (attempt 1): {"model": "google/palm-2-codechat-bison", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:44:14,707 - ERROR - Error calling model google/palm-2-codechat-bison (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:44:14,707 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for google/palm-2-codechat-bison.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:44:16,208 - INFO - Retry attempt 1/3 for model google/palm-2-codechat-bison
2025-07-15 00:44:16,209 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:44:16,209 - INFO - OpenRouter Request for google/palm-2-codechat-bison (attempt 2): {"model": "google/palm-2-codechat-bison", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:44:16,369 - ERROR - Error calling model google/palm-2-codechat-bison (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:44:16,370 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for google/palm-2-codechat-bison.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:44:16,882 - INFO - New game created: openai/gpt-4o (White) vs qwen/qwen3-235b-a22b (Black)
2025-07-15 00:44:16,893 - INFO - WebSocket connection established for game game_1752533056_1893
2025-07-15 00:44:16,893 - INFO - Starting game: openai/gpt-4o vs qwen/qwen3-235b-a22b
2025-07-15 00:44:16,894 - INFO - Calling OpenRouter API with model: openai/gpt-4o
2025-07-15 00:44:16,894 - INFO - OpenRouter Request for openai/gpt-4o (attempt 1): {"model": "openai/gpt-4o", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:44:17,545 - INFO - OpenRouter response for openai/gpt-4o (attempt 1): {"id": "gen-1752533057-XZTbdXp3q7UcNOnPYZ9o", "model": "openai/gpt-4o", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:44:17,546 - INFO - Received raw move 'e2e4' from model openai/gpt-4o
2025-07-15 00:44:17,547 - INFO - Using default board with active color: w
2025-07-15 00:44:17,547 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-15 00:44:17,548 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:44:17,871 - INFO - Retry attempt 2/3 for model google/palm-2-codechat-bison
2025-07-15 00:44:17,871 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:44:17,871 - INFO - OpenRouter Request for google/palm-2-codechat-bison (attempt 3): {"model": "google/palm-2-codechat-bison", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:44:18,020 - ERROR - Error calling model google/palm-2-codechat-bison (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:44:18,020 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for google/palm-2-codechat-bison.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:44:18,593 - INFO - Received commentary from openai/gpt-4.1-mini: 1.e4! controls the center and ...
2025-07-15 00:44:19,054 - INFO - Calling OpenRouter API with model: qwen/qwen3-235b-a22b
2025-07-15 00:44:19,054 - INFO - Detected 0.5 move pairs already made in the game
2025-07-15 00:44:19,054 - INFO - OpenRouter Request for qwen/qwen3-235b-a22b (attempt 1): {"model": "qwen/qwen3-235b-a22b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:44:19,520 - INFO - Retry attempt 3/3 for model google/palm-2-codechat-bison
2025-07-15 00:44:19,520 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:44:19,521 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:44:19,521 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:44:20,053 - INFO - New game created: nousresearch/deephermes-3-llama-3-8b-preview:free (White) vs thudm/glm-4-32b (Black)
2025-07-15 00:44:20,063 - INFO - WebSocket connection established for game game_1752533060_1418
2025-07-15 00:44:20,063 - INFO - Starting game: nousresearch/deephermes-3-llama-3-8b-preview:free vs thudm/glm-4-32b
2025-07-15 00:44:20,065 - INFO - Calling OpenRouter API with model: nousresearch/deephermes-3-llama-3-8b-preview:free
2025-07-15 00:44:20,065 - INFO - Model has suffix: base=nousresearch/deephermes-3-llama-3-8b-preview, suffix=:free
2025-07-15 00:44:20,065 - INFO - OpenRouter Request for nousresearch/deephermes-3-llama-3-8b-preview:free (attempt 1): {"model": "nousresearch/deephermes-3-llama-3-8b-preview:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:44:20,220 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752533059-bWz79wy5xuhNpwUpGYxm", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:44:20,221 - INFO - Received raw move 'e7e5' from model google/palm-2-codechat-bison
2025-07-15 00:44:20,221 - INFO - Using default board with active color: b
2025-07-15 00:44:20,221 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-07-15 00:44:20,221 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-07-15 00:44:20,222 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:44:21,401 - INFO - Received commentary from openai/gpt-4.1-mini: Black's 1...e5! challenges Whi...
2025-07-15 00:44:22,018 - INFO - OpenRouter response for nousresearch/deephermes-3-llama-3-8b-preview:free (attempt 1): {"id": "gen-1752533060-ORNhx9XZxwSgTtlQb5JU", "model": "nousresearch/deephermes-3-llama-3-8b-preview:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:44:22,018 - INFO - Received raw move 'e4' from model nousresearch/deephermes-3-llama-3-8b-preview:free
2025-07-15 00:44:22,019 - INFO - Using default board with active color: w
2025-07-15 00:44:22,019 - INFO - Expanded pawn shorthand e4 to e2e4
2025-07-15 00:44:22,019 - INFO - Processed move: Raw 'e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-15 00:44:22,019 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:44:23,745 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a strong opening move...
2025-07-15 00:44:24,024 - INFO - Calling OpenRouter API with model: thudm/glm-4-32b
2025-07-15 00:44:24,024 - INFO - Detected 0.5 move pairs already made in the game
2025-07-15 00:44:24,024 - INFO - OpenRouter Request for thudm/glm-4-32b (attempt 1): {"model": "thudm/glm-4-32b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:44:25,239 - INFO - OpenRouter response for thudm/glm-4-32b (attempt 1): {"id": "gen-1752533064-eUMSuZir2qBUpWZVa4aL", "model": "thudm/glm-4-32b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:44:25,240 - INFO - Received raw move 'e7e5' from model thudm/glm-4-32b
2025-07-15 00:44:25,240 - INFO - Using default board with active color: b
2025-07-15 00:44:25,240 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-07-15 00:44:25,242 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:44:26,985 - INFO - Received commentary from openai/gpt-4.1-mini: Black's 1...e5 is a classical ...
2025-07-15 00:44:27,245 - INFO - Calling OpenRouter API with model: nousresearch/deephermes-3-llama-3-8b-preview:free
2025-07-15 00:44:27,245 - INFO - Detected 1 move pairs already made in the game
2025-07-15 00:44:27,245 - INFO - Model has suffix: base=nousresearch/deephermes-3-llama-3-8b-preview, suffix=:free
2025-07-15 00:44:27,245 - INFO - OpenRouter Request for nousresearch/deephermes-3-llama-3-8b-preview:free (attempt 1): {"model": "nousresearch/deephermes-3-llama-3-8b-preview:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:44:28,836 - INFO - OpenRouter response for nousresearch/deephermes-3-llama-3-8b-preview:free (attempt 1): {"id": "gen-1752533067-whcAUh6hWqQTVTSr0lw6", "model": "nousresearch/deephermes-3-llama-3-8b-preview:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:44:28,836 - INFO - Received raw move 'e4 gums' from model nousresearch/deephermes-3-llama-3-8b-preview:free
2025-07-15 00:44:28,837 - INFO - Using default board with active color: w
2025-07-15 00:44:28,837 - INFO - Attempting to interpret ambiguous move with API: 'e4 gums'
2025-07-15 00:44:28,861 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e4 gums'
2025-07-15 00:44:30,248 - INFO - Interpreted move 'e4 gums' as 'e2e4'
2025-07-15 00:44:30,249 - ERROR - Failed to convert move 'e2e4': ValueError: Illegal move: e2e4
2025-07-15 00:44:30,249 - WARNING - Move parsing attempt 1/5 failed, retrying...
2025-07-15 00:44:30,249 - INFO - Calling OpenRouter API with model: nousresearch/deephermes-3-llama-3-8b-preview:free
2025-07-15 00:44:30,249 - INFO - Detected 1 move pairs already made in the game
2025-07-15 00:44:30,249 - INFO - Model has suffix: base=nousresearch/deephermes-3-llama-3-8b-preview, suffix=:free
2025-07-15 00:44:30,249 - INFO - OpenRouter Request for nousresearch/deephermes-3-llama-3-8b-preview:free (attempt 1): {"model": "nousresearch/deephermes-3-llama-3-8b-preview:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:44:31,490 - INFO - OpenRouter response for nousresearch/deephermes-3-llama-3-8b-preview:free (attempt 1): {"id": "gen-1752533070-LkpPbxN1To9k7HKdxFTI", "model": "nousresearch/deephermes-3-llama-3-8b-preview:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:44:31,494 - INFO - Move retry 1: Received raw move 'Bb4' from model nousresearch/deephermes-3-llama-3-8b-preview:free
2025-07-15 00:44:31,494 - INFO - Using default board with active color: w
2025-07-15 00:44:31,494 - INFO - Attempting to interpret ambiguous move with API: 'Bb4'
2025-07-15 00:44:31,530 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'Bb4'
2025-07-15 00:44:32,186 - INFO - Interpreted move 'Bb4' as 'f1b4'
2025-07-15 00:44:32,186 - WARNING - Interpreted move 'f1b4' is not legal on the current board
2025-07-15 00:44:32,187 - WARNING - Interpreted move is still invalid during retry 1
2025-07-15 00:44:32,187 - ERROR - Failed to parse 'INVALID' as SAN: invalid san: 'INVALID'
2025-07-15 00:44:32,187 - ERROR - Failed to convert move 'INVALID': InvalidMoveError: invalid san: 'INVALID'
2025-07-15 00:44:32,187 - WARNING - Move parsing attempt 2/5 failed, retrying...
2025-07-15 00:44:32,187 - INFO - Calling OpenRouter API with model: nousresearch/deephermes-3-llama-3-8b-preview:free
2025-07-15 00:44:32,187 - INFO - Detected 1 move pairs already made in the game
2025-07-15 00:44:32,187 - INFO - Model has suffix: base=nousresearch/deephermes-3-llama-3-8b-preview, suffix=:free
2025-07-15 00:44:32,187 - INFO - OpenRouter Request for nousresearch/deephermes-3-llama-3-8b-preview:free (attempt 1): {"model": "nousresearch/deephermes-3-llama-3-8b-preview:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:44:33,477 - INFO - OpenRouter response for nousresearch/deephermes-3-llama-3-8b-preview:free (attempt 1): {"id": "gen-1752533072-9jfumo2BgPVkkhEafJht", "model": "nousresearch/deephermes-3-llama-3-8b-preview:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:44:33,477 - INFO - Move retry 2: Received raw move 'e4' from model nousresearch/deephermes-3-llama-3-8b-preview:free
2025-07-15 00:44:33,477 - INFO - Using default board with active color: w
2025-07-15 00:44:33,478 - INFO - Expanded pawn shorthand e4 to e2e4
2025-07-15 00:44:33,478 - ERROR - Failed to convert move 'e2e4': ValueError: Illegal move: e2e4
2025-07-15 00:44:33,478 - WARNING - Move parsing attempt 3/5 failed, retrying...
2025-07-15 00:44:33,478 - INFO - Calling OpenRouter API with model: nousresearch/deephermes-3-llama-3-8b-preview:free
2025-07-15 00:44:33,478 - INFO - Detected 1 move pairs already made in the game
2025-07-15 00:44:33,478 - INFO - Model has suffix: base=nousresearch/deephermes-3-llama-3-8b-preview, suffix=:free
2025-07-15 00:44:33,478 - INFO - OpenRouter Request for nousresearch/deephermes-3-llama-3-8b-preview:free (attempt 1): {"model": "nousresearch/deephermes-3-llama-3-8b-preview:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:44:35,081 - INFO - OpenRouter response for nousresearch/deephermes-3-llama-3-8b-preview:free (attempt 1): {"id": "gen-1752533073-NKNg3uv3m8On7HrzVXSs", "model": "nousresearch/deephermes-3-llama-3-8b-preview:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:44:35,082 - INFO - Move retry 3: Received raw move 'f3' from model nousresearch/deephermes-3-llama-3-8b-preview:free
2025-07-15 00:44:35,082 - INFO - Using default board with active color: w
2025-07-15 00:44:35,082 - INFO - Expanded pawn shorthand f3 to f2f3
2025-07-15 00:44:35,082 - INFO - Processed move: Raw 'f3' -> Interpreted 'f2f3' -> UCI 'f2f3' -> SAN 'f3'
2025-07-15 00:44:35,083 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:44:37,589 - INFO - Calling OpenRouter API with model: thudm/glm-4-32b
2025-07-15 00:44:37,589 - INFO - Detected 1.5 move pairs already made in the game
2025-07-15 00:44:37,589 - INFO - OpenRouter Request for thudm/glm-4-32b (attempt 1): {"model": "thudm/glm-4-32b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . P . .\nP P P P . . P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. f2f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:44:37,870 - INFO - Received commentary from openai/gpt-4.1-mini: 2. f3?! weakens White's kingsi...
2025-07-15 00:44:38,746 - INFO - OpenRouter response for thudm/glm-4-32b (attempt 1): {"id": "gen-1752533077-Um7vbuasZUBrAd38aJeE", "model": "thudm/glm-4-32b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:44:38,746 - INFO - Received raw move 'c5c4' from model thudm/glm-4-32b
2025-07-15 00:44:38,747 - INFO - Using default board with active color: b
2025-07-15 00:44:38,747 - INFO - Attempting to interpret ambiguous move with API: 'c5c4'
2025-07-15 00:44:38,779 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'c5c4'
2025-07-15 00:44:39,405 - INFO - Interpreted move 'c5c4' as 'c7c5'
2025-07-15 00:44:39,406 - INFO - Processed move: Raw 'c5c4' -> Interpreted 'c7c5' -> UCI 'c7c5' -> SAN 'c5'
2025-07-15 00:44:39,408 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:44:41,728 - INFO - Received commentary from openai/gpt-4.1-mini: Black's 2...c5!? strikes at Wh...
2025-07-15 00:44:41,914 - INFO - Calling OpenRouter API with model: nousresearch/deephermes-3-llama-3-8b-preview:free
2025-07-15 00:44:41,914 - INFO - Detected 2 move pairs already made in the game
2025-07-15 00:44:41,914 - INFO - Model has suffix: base=nousresearch/deephermes-3-llama-3-8b-preview, suffix=:free
2025-07-15 00:44:41,914 - INFO - OpenRouter Request for nousresearch/deephermes-3-llama-3-8b-preview:free (attempt 1): {"model": "nousresearch/deephermes-3-llama-3-8b-preview:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . p . p p p\n. . . . . . . .\n. . p . p . . .\n. . . . P . . .\n. . . . . P . .\nP P P P . . P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. f2f3 c7c5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:44:43,922 - INFO - OpenRouter response for nousresearch/deephermes-3-llama-3-8b-preview:free (attempt 1): {"id": "gen-1752533082-gS1aUcbR78vgEv7L35zc", "model": "nousresearch/deephermes-3-llama-3-8b-preview:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:44:43,923 - INFO - Received raw move 'g1f3' from model nousresearch/deephermes-3-llama-3-8b-preview:free
2025-07-15 00:44:43,923 - INFO - Using default board with active color: w
2025-07-15 00:44:43,923 - ERROR - Failed to convert move 'g1f3': ValueError: Illegal move: g1f3
2025-07-15 00:44:43,923 - WARNING - Move parsing attempt 1/5 failed, retrying...
2025-07-15 00:44:43,923 - INFO - Calling OpenRouter API with model: nousresearch/deephermes-3-llama-3-8b-preview:free
2025-07-15 00:44:43,924 - INFO - Detected 2 move pairs already made in the game
2025-07-15 00:44:43,926 - INFO - Model has suffix: base=nousresearch/deephermes-3-llama-3-8b-preview, suffix=:free
2025-07-15 00:44:43,926 - INFO - OpenRouter Request for nousresearch/deephermes-3-llama-3-8b-preview:free (attempt 1): {"model": "nousresearch/deephermes-3-llama-3-8b-preview:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . p . p p p\n. . . . . . . .\n. . p . p . . .\n. . . . P . . .\n. . . . . P . .\nP P P P . . P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. f2f3 c7c5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:44:45,678 - INFO - OpenRouter response for nousresearch/deephermes-3-llama-3-8b-preview:free (attempt 1): {"id": "gen-1752533084-E1toP7sFwCGGMWv5t4F5", "model": "nousresearch/deephermes-3-llama-3-8b-preview:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:44:45,679 - INFO - Move retry 1: Received raw move 'f3d5' from model nousresearch/deephermes-3-llama-3-8b-preview:free
2025-07-15 00:44:45,679 - INFO - Using default board with active color: w
2025-07-15 00:44:45,679 - INFO - Attempting to interpret ambiguous move with API: 'f3d5'
2025-07-15 00:44:45,719 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'f3d5'
2025-07-15 00:44:46,195 - INFO - Interpreted move 'f3d5' as 'INVALID'
2025-07-15 00:44:46,196 - WARNING - Interpreted move is still invalid during retry 1
2025-07-15 00:44:46,196 - ERROR - Failed to parse 'INVALID' as SAN: invalid san: 'INVALID'
2025-07-15 00:44:46,196 - ERROR - Failed to convert move 'INVALID': InvalidMoveError: invalid san: 'INVALID'
2025-07-15 00:44:46,196 - WARNING - Move parsing attempt 2/5 failed, retrying...
2025-07-15 00:44:46,197 - INFO - Calling OpenRouter API with model: nousresearch/deephermes-3-llama-3-8b-preview:free
2025-07-15 00:44:46,197 - INFO - Detected 2 move pairs already made in the game
2025-07-15 00:44:46,197 - INFO - Model has suffix: base=nousresearch/deephermes-3-llama-3-8b-preview, suffix=:free
2025-07-15 00:44:46,197 - INFO - OpenRouter Request for nousresearch/deephermes-3-llama-3-8b-preview:free (attempt 1): {"model": "nousresearch/deephermes-3-llama-3-8b-preview:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . p . p p p\n. . . . . . . .\n. . p . p . . .\n. . . . P . . .\n. . . . . P . .\nP P P P . . P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. f2f3 c7c5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:44:47,887 - INFO - OpenRouter response for nousresearch/deephermes-3-llama-3-8b-preview:free (attempt 1): {"id": "gen-1752533086-MK8K07TWI8Tqd7Q4nqj4", "model": "nousresearch/deephermes-3-llama-3-8b-preview:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:44:47,889 - INFO - Move retry 2: Received raw move 'g1f3' from model nousresearch/deephermes-3-llama-3-8b-preview:free
2025-07-15 00:44:47,889 - INFO - Using default board with active color: w
2025-07-15 00:44:47,890 - ERROR - Failed to convert move 'g1f3': ValueError: Illegal move: g1f3
2025-07-15 00:44:47,890 - WARNING - Move parsing attempt 3/5 failed, retrying...
2025-07-15 00:44:47,890 - INFO - Calling OpenRouter API with model: nousresearch/deephermes-3-llama-3-8b-preview:free
2025-07-15 00:44:47,890 - INFO - Detected 2 move pairs already made in the game
2025-07-15 00:44:47,890 - INFO - Model has suffix: base=nousresearch/deephermes-3-llama-3-8b-preview, suffix=:free
2025-07-15 00:44:47,891 - INFO - OpenRouter Request for nousresearch/deephermes-3-llama-3-8b-preview:free (attempt 1): {"model": "nousresearch/deephermes-3-llama-3-8b-preview:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . p . p p p\n. . . . . . . .\n. . p . p . . .\n. . . . P . . .\n. . . . . P . .\nP P P P . . P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. f2f3 c7c5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:44:49,371 - INFO - OpenRouter response for nousresearch/deephermes-3-llama-3-8b-preview:free (attempt 1): {"id": "gen-1752533088-ynmhATcGcq4gCGTpWDlU", "model": "nousresearch/deephermes-3-llama-3-8b-preview:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:44:49,372 - INFO - Move retry 3: Received raw move 'g1f3' from model nousresearch/deephermes-3-llama-3-8b-preview:free
2025-07-15 00:44:49,372 - INFO - Using default board with active color: w
2025-07-15 00:44:49,372 - ERROR - Failed to convert move 'g1f3': ValueError: Illegal move: g1f3
2025-07-15 00:44:49,372 - WARNING - Move parsing attempt 4/5 failed, retrying...
2025-07-15 00:44:49,373 - INFO - Calling OpenRouter API with model: nousresearch/deephermes-3-llama-3-8b-preview:free
2025-07-15 00:44:49,373 - INFO - Detected 2 move pairs already made in the game
2025-07-15 00:44:49,373 - INFO - Model has suffix: base=nousresearch/deephermes-3-llama-3-8b-preview, suffix=:free
2025-07-15 00:44:49,373 - INFO - OpenRouter Request for nousresearch/deephermes-3-llama-3-8b-preview:free (attempt 1): {"model": "nousresearch/deephermes-3-llama-3-8b-preview:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . p . p p p\n. . . . . . . .\n. . p . p . . .\n. . . . P . . .\n. . . . . P . .\nP P P P . . P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. f2f3 c7c5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:44:51,053 - INFO - OpenRouter response for nousresearch/deephermes-3-llama-3-8b-preview:free (attempt 1): {"id": "gen-1752533089-r74zSoFewTksm5ogn5Wc", "model": "nousresearch/deephermes-3-llama-3-8b-preview:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:44:51,054 - INFO - Move retry 4: Received raw move 'd2d4' from model nousresearch/deephermes-3-llama-3-8b-preview:free
2025-07-15 00:44:51,054 - INFO - Using default board with active color: w
2025-07-15 00:44:51,054 - INFO - Processed move: Raw 'd2d4' -> Interpreted 'd2d4' -> UCI 'd2d4' -> SAN 'd4'
2025-07-15 00:44:51,055 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:44:52,386 - INFO - Received commentary from openai/gpt-4.1-mini: 3. d4 is a logical attempt to ...
2025-07-15 00:44:52,560 - INFO - Calling OpenRouter API with model: thudm/glm-4-32b
2025-07-15 00:44:52,560 - INFO - Detected 2.5 move pairs already made in the game
2025-07-15 00:44:52,560 - INFO - OpenRouter Request for thudm/glm-4-32b (attempt 1): {"model": "thudm/glm-4-32b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p . p . p p p\n. . . . . . . .\n. . p . p . . .\n. . . P P . . .\n. . . . . P . .\nP P P . . . P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. f2f3 c7c5\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:44:53,747 - INFO - OpenRouter response for thudm/glm-4-32b (attempt 1): {"id": "gen-1752533092-HU0vPtvJuyrcx2ZpZBfx", "model": "thudm/glm-4-32b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:44:53,748 - INFO - Received raw move 'c5d4' from model thudm/glm-4-32b
2025-07-15 00:44:53,749 - INFO - Using default board with active color: b
2025-07-15 00:44:53,749 - INFO - Attempting to interpret ambiguous move with API: 'c5d4'
2025-07-15 00:44:53,780 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'c5d4'
2025-07-15 00:44:56,196 - INFO - Interpreted move 'c5d4' as 'c5d4'
2025-07-15 00:44:56,196 - WARNING - Interpreted move 'c5d4' is not legal on the current board
2025-07-15 00:44:56,197 - WARNING - Model thudm/glm-4-32b made an invalid move: 'c5d4' that couldn't be interpreted (attempt 1/5)
2025-07-15 00:44:56,197 - INFO - Calling OpenRouter API with model: thudm/glm-4-32b
2025-07-15 00:44:56,198 - INFO - Detected 2.5 move pairs already made in the game
2025-07-15 00:44:56,198 - INFO - OpenRouter Request for thudm/glm-4-32b (attempt 1): {"model": "thudm/glm-4-32b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p . p . p p p\n. . . . . . . .\n. . p . p . . .\n. . . P P . . .\n. . . . . P . .\nP P P . . . P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. f2f3 c7c5\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:44:57,836 - INFO - OpenRouter response for thudm/glm-4-32b (attempt 1): {"id": "gen-1752533096-kJRGtH3suim01CrmwXDi", "model": "thudm/glm-4-32b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:44:57,837 - INFO - Retry 1: Received raw move 'c5d4' from model thudm/glm-4-32b
2025-07-15 00:44:57,837 - INFO - Using default board with active color: b
2025-07-15 00:44:57,837 - INFO - Attempting to interpret ambiguous move with API: 'c5d4'
2025-07-15 00:44:57,867 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'c5d4'
2025-07-15 00:44:59,057 - INFO - Interpreted move 'c5d4' as 'c5d4'
2025-07-15 00:44:59,057 - WARNING - Interpreted move 'c5d4' is not legal on the current board
2025-07-15 00:44:59,058 - WARNING - Model thudm/glm-4-32b made an invalid move: 'c5d4' that couldn't be interpreted (attempt 2/5)
2025-07-15 00:44:59,058 - INFO - Calling OpenRouter API with model: thudm/glm-4-32b
2025-07-15 00:44:59,058 - INFO - Detected 2.5 move pairs already made in the game
2025-07-15 00:44:59,058 - INFO - OpenRouter Request for thudm/glm-4-32b (attempt 1): {"model": "thudm/glm-4-32b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p . p . p p p\n. . . . . . . .\n. . p . p . . .\n. . . P P . . .\n. . . . . P . .\nP P P . . . P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. f2f3 c7c5\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:45:00,713 - INFO - OpenRouter response for thudm/glm-4-32b (attempt 1): {"id": "gen-1752533099-VH3JLQ0GdPPQh15Ie8Gh", "model": "thudm/glm-4-32b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:45:00,714 - INFO - Retry 2: Received raw move 'c5d4' from model thudm/glm-4-32b
2025-07-15 00:45:00,715 - INFO - Using default board with active color: b
2025-07-15 00:45:00,715 - INFO - Attempting to interpret ambiguous move with API: 'c5d4'
2025-07-15 00:45:00,746 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'c5d4'
2025-07-15 00:45:01,562 - INFO - Interpreted move 'c5d4' as 'c5d4'
2025-07-15 00:45:01,563 - WARNING - Interpreted move 'c5d4' is not legal on the current board
2025-07-15 00:45:01,563 - WARNING - Model thudm/glm-4-32b made an invalid move: 'c5d4' that couldn't be interpreted (attempt 3/5)
2025-07-15 00:45:01,564 - INFO - Calling OpenRouter API with model: thudm/glm-4-32b
2025-07-15 00:45:01,564 - INFO - Detected 2.5 move pairs already made in the game
2025-07-15 00:45:01,564 - INFO - OpenRouter Request for thudm/glm-4-32b (attempt 1): {"model": "thudm/glm-4-32b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p . p . p p p\n. . . . . . . .\n. . p . p . . .\n. . . P P . . .\n. . . . . P . .\nP P P . . . P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. f2f3 c7c5\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:45:02,702 - INFO - OpenRouter response for thudm/glm-4-32b (attempt 1): {"id": "gen-1752533101-ni7EMa5KtQm7NhrTmxq5", "model": "thudm/glm-4-32b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:45:02,703 - INFO - Retry 3: Received raw move 'e7e6' from model thudm/glm-4-32b
2025-07-15 00:45:02,703 - INFO - Using default board with active color: b
2025-07-15 00:45:02,703 - ERROR - Failed to convert move 'e7e6': ValueError: Illegal move: e7e6
2025-07-15 00:45:02,704 - WARNING - Move parsing attempt 1/5 failed, retrying...
2025-07-15 00:45:02,704 - INFO - Calling OpenRouter API with model: thudm/glm-4-32b
2025-07-15 00:45:02,704 - INFO - Detected 2.5 move pairs already made in the game
2025-07-15 00:45:02,704 - INFO - OpenRouter Request for thudm/glm-4-32b (attempt 1): {"model": "thudm/glm-4-32b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p . p . p p p\n. . . . . . . .\n. . p . p . . .\n. . . P P . . .\n. . . . . P . .\nP P P . . . P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. f2f3 c7c5\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:45:03,810 - INFO - OpenRouter response for thudm/glm-4-32b (attempt 1): {"id": "gen-1752533102-XLvFzarnJOV3TjwGQjMP", "model": "thudm/glm-4-32b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:45:03,811 - INFO - Move retry 1: Received raw move 'c5d4' from model thudm/glm-4-32b
2025-07-15 00:45:03,811 - INFO - Using default board with active color: b
2025-07-15 00:45:03,812 - INFO - Attempting to interpret ambiguous move with API: 'c5d4'
2025-07-15 00:45:03,842 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'c5d4'
2025-07-15 00:45:04,371 - INFO - Interpreted move 'c5d4' as 'c5d4'
2025-07-15 00:45:04,371 - WARNING - Interpreted move 'c5d4' is not legal on the current board
2025-07-15 00:45:04,372 - WARNING - Interpreted move is still invalid during retry 1
2025-07-15 00:45:04,372 - ERROR - Failed to parse 'INVALID' as SAN: invalid san: 'INVALID'
2025-07-15 00:45:04,372 - ERROR - Failed to convert move 'INVALID': InvalidMoveError: invalid san: 'INVALID'
2025-07-15 00:45:04,372 - WARNING - Move parsing attempt 2/5 failed, retrying...
2025-07-15 00:45:04,372 - INFO - Calling OpenRouter API with model: thudm/glm-4-32b
2025-07-15 00:45:04,373 - INFO - Detected 2.5 move pairs already made in the game
2025-07-15 00:45:04,373 - INFO - OpenRouter Request for thudm/glm-4-32b (attempt 1): {"model": "thudm/glm-4-32b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p . p . p p p\n. . . . . . . .\n. . p . p . . .\n. . . P P . . .\n. . . . . P . .\nP P P . . . P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. f2f3 c7c5\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:45:05,337 - INFO - OpenRouter response for thudm/glm-4-32b (attempt 1): {"id": "gen-1752533104-3eaurjn0jUSEEyj5UTfw", "model": "thudm/glm-4-32b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:45:05,338 - INFO - Move retry 2: Received raw move 'c5d4' from model thudm/glm-4-32b
2025-07-15 00:45:05,338 - INFO - Using default board with active color: b
2025-07-15 00:45:05,338 - INFO - Attempting to interpret ambiguous move with API: 'c5d4'
2025-07-15 00:45:05,370 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'c5d4'
2025-07-15 00:45:05,975 - INFO - Interpreted move 'c5d4' as 'c5d4'
2025-07-15 00:45:05,976 - WARNING - Interpreted move 'c5d4' is not legal on the current board
2025-07-15 00:45:05,977 - WARNING - Interpreted move is still invalid during retry 2
2025-07-15 00:45:05,977 - ERROR - Failed to parse 'INVALID' as SAN: invalid san: 'INVALID'
2025-07-15 00:45:05,977 - ERROR - Failed to convert move 'INVALID': InvalidMoveError: invalid san: 'INVALID'
2025-07-15 00:45:05,977 - WARNING - Move parsing attempt 3/5 failed, retrying...
2025-07-15 00:45:05,977 - INFO - Calling OpenRouter API with model: thudm/glm-4-32b
2025-07-15 00:45:05,977 - INFO - Detected 2.5 move pairs already made in the game
2025-07-15 00:45:05,977 - INFO - OpenRouter Request for thudm/glm-4-32b (attempt 1): {"model": "thudm/glm-4-32b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p . p . p p p\n. . . . . . . .\n. . p . p . . .\n. . . P P . . .\n. . . . . P . .\nP P P . . . P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. f2f3 c7c5\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:45:07,055 - INFO - OpenRouter response for thudm/glm-4-32b (attempt 1): {"id": "gen-1752533106-ACaWq3d9gLZUULKaiuEh", "model": "thudm/glm-4-32b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:45:07,056 - INFO - Move retry 3: Received raw move 'c5d4' from model thudm/glm-4-32b
2025-07-15 00:45:07,056 - INFO - Using default board with active color: b
2025-07-15 00:45:07,057 - INFO - Attempting to interpret ambiguous move with API: 'c5d4'
2025-07-15 00:45:07,091 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'c5d4'
2025-07-15 00:45:10,028 - INFO - Interpreted move 'c5d4' as 'INVALID'
2025-07-15 00:45:10,029 - WARNING - Interpreted move is still invalid during retry 3
2025-07-15 00:45:10,029 - ERROR - Failed to parse 'INVALID' as SAN: invalid san: 'INVALID'
2025-07-15 00:45:10,029 - ERROR - Failed to convert move 'INVALID': InvalidMoveError: invalid san: 'INVALID'
2025-07-15 00:45:10,029 - WARNING - Move parsing attempt 4/5 failed, retrying...
2025-07-15 00:45:10,030 - INFO - Calling OpenRouter API with model: thudm/glm-4-32b
2025-07-15 00:45:10,030 - INFO - Detected 2.5 move pairs already made in the game
2025-07-15 00:45:10,030 - INFO - OpenRouter Request for thudm/glm-4-32b (attempt 1): {"model": "thudm/glm-4-32b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p . p . p p p\n. . . . . . . .\n. . p . p . . .\n. . . P P . . .\n. . . . . P . .\nP P P . . . P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. f2f3 c7c5\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:45:11,055 - INFO - OpenRouter response for thudm/glm-4-32b (attempt 1): {"id": "gen-1752533110-sGXkevUHhrMUJxJC42WC", "model": "thudm/glm-4-32b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:45:11,055 - INFO - Move retry 4: Received raw move 'e7e6' from model thudm/glm-4-32b
2025-07-15 00:45:11,056 - INFO - Using default board with active color: b
2025-07-15 00:45:11,056 - ERROR - Failed to convert move 'e7e6': ValueError: Illegal move: e7e6
2025-07-15 00:45:11,056 - ERROR - Failed to parse/apply move after 5 attempts
2025-07-15 00:45:11,056 - ERROR - Recovery attempt failed: All move parsing retries failed for 'e7e6'
2025-07-15 00:45:11,056 - INFO - Requesting game over explanation from openai/gpt-4.1-mini
2025-07-15 00:45:12,632 - INFO - Received game over explanation: thudm/glm-4-32b lost because it tried to make a mo...
2025-07-15 00:45:13,420 - INFO - OpenRouter response for qwen/qwen3-235b-a22b (attempt 1): {"id": "gen-1752533059-QXuyf0GcIDBWDeCfro3H", "model": "qwen/qwen3-235b-a22b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:45:13,420 - INFO - Received raw move 'e7e5' from model qwen/qwen3-235b-a22b
2025-07-15 00:45:13,421 - INFO - Using default board with active color: b
2025-07-15 00:45:13,421 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-07-15 00:45:13,421 - ERROR - Error sending WebSocket message: received 1005 (no status received [internal]); then sent 1005 (no status received [internal])
2025-07-15 00:45:13,421 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:45:14,636 - INFO - Received commentary from openai/gpt-4.1-mini: 1...e5 is a solid response cha...
2025-07-15 00:45:57,557 - INFO - New game created: mistralai/mistral-7b-instruct-v0.2 (White) vs qwen/qwen2.5-coder-7b-instruct (Black)
2025-07-15 00:45:57,565 - INFO - WebSocket connection established for game game_1752533157_8618
2025-07-15 00:45:57,565 - INFO - Starting game: mistralai/mistral-7b-instruct-v0.2 vs qwen/qwen2.5-coder-7b-instruct
2025-07-15 00:45:57,567 - INFO - Calling OpenRouter API with model: mistralai/mistral-7b-instruct-v0.2
2025-07-15 00:45:57,567 - INFO - OpenRouter Request for mistralai/mistral-7b-instruct-v0.2 (attempt 1): {"model": "mistralai/mistral-7b-instruct-v0.2", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:45:58,610 - INFO - OpenRouter response for mistralai/mistral-7b-instruct-v0.2 (attempt 1): {"id": "gen-1752533157-Wqfn4bte7V4dj5JLD6LK", "model": "mistralai/mistral-7b-instruct-v0.2", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:45:58,611 - INFO - Received raw move 'e4' from model mistralai/mistral-7b-instruct-v0.2
2025-07-15 00:45:58,612 - INFO - Using default board with active color: w
2025-07-15 00:45:58,612 - INFO - Expanded pawn shorthand e4 to e2e4
2025-07-15 00:45:58,612 - INFO - Processed move: Raw 'e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-15 00:45:58,614 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:45:59,638 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4! White takes control of ...
2025-07-15 00:46:00,116 - INFO - Calling OpenRouter API with model: qwen/qwen2.5-coder-7b-instruct
2025-07-15 00:46:00,116 - INFO - Detected 0.5 move pairs already made in the game
2025-07-15 00:46:00,117 - INFO - OpenRouter Request for qwen/qwen2.5-coder-7b-instruct (attempt 1): {"model": "qwen/qwen2.5-coder-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:46:00,266 - ERROR - Error calling model qwen/qwen2.5-coder-7b-instruct (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:46:00,267 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwen2.5-coder-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:46:01,768 - INFO - Retry attempt 1/3 for model qwen/qwen2.5-coder-7b-instruct
2025-07-15 00:46:01,768 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:46:01,768 - INFO - OpenRouter Request for qwen/qwen2.5-coder-7b-instruct (attempt 2): {"model": "qwen/qwen2.5-coder-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:46:01,895 - ERROR - Error calling model qwen/qwen2.5-coder-7b-instruct (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:46:01,895 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwen2.5-coder-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:46:03,396 - INFO - Retry attempt 2/3 for model qwen/qwen2.5-coder-7b-instruct
2025-07-15 00:46:03,397 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:46:03,397 - INFO - OpenRouter Request for qwen/qwen2.5-coder-7b-instruct (attempt 3): {"model": "qwen/qwen2.5-coder-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:46:03,571 - ERROR - Error calling model qwen/qwen2.5-coder-7b-instruct (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:46:03,571 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwen2.5-coder-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:46:05,073 - INFO - Retry attempt 3/3 for model qwen/qwen2.5-coder-7b-instruct
2025-07-15 00:46:05,073 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:46:05,073 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:46:05,074 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:46:05,639 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752533165-ayQkYTFeWtCF9M1liTDH", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:46:05,640 - INFO - Received raw move 'e7e5' from model qwen/qwen2.5-coder-7b-instruct
2025-07-15 00:46:05,640 - INFO - Using default board with active color: b
2025-07-15 00:46:05,641 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-07-15 00:46:05,643 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:46:06,763 - INFO - Received commentary from openai/gpt-4.1-mini: Black's ...e5 is a classical r...
2025-07-15 00:46:07,146 - INFO - Calling OpenRouter API with model: mistralai/mistral-7b-instruct-v0.2
2025-07-15 00:46:07,146 - INFO - Detected 1 move pairs already made in the game
2025-07-15 00:46:07,146 - INFO - OpenRouter Request for mistralai/mistral-7b-instruct-v0.2 (attempt 1): {"model": "mistralai/mistral-7b-instruct-v0.2", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:46:07,853 - INFO - OpenRouter response for mistralai/mistral-7b-instruct-v0.2 (attempt 1): {"id": "gen-1752533167-tWqBOII0TIqga4WUOYbS", "model": "mistralai/mistral-7b-instruct-v0.2", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:46:07,854 - INFO - Received raw move 'd4' from model mistralai/mistral-7b-instruct-v0.2
2025-07-15 00:46:07,854 - INFO - Using default board with active color: w
2025-07-15 00:46:07,854 - INFO - Expanded pawn shorthand d4 to d2d4
2025-07-15 00:46:07,854 - INFO - Processed move: Raw 'd4' -> Interpreted 'd2d4' -> UCI 'd2d4' -> SAN 'd4'
2025-07-15 00:46:07,856 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:46:09,023 - INFO - Received commentary from openai/gpt-4.1-mini: 2. d4!? White challenges the c...
2025-07-15 00:46:09,361 - INFO - Calling OpenRouter API with model: qwen/qwen2.5-coder-7b-instruct
2025-07-15 00:46:09,361 - INFO - Detected 1.5 move pairs already made in the game
2025-07-15 00:46:09,361 - INFO - OpenRouter Request for qwen/qwen2.5-coder-7b-instruct (attempt 1): {"model": "qwen/qwen2.5-coder-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:46:09,523 - ERROR - Error calling model qwen/qwen2.5-coder-7b-instruct (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:46:09,523 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwen2.5-coder-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:46:11,024 - INFO - Retry attempt 1/3 for model qwen/qwen2.5-coder-7b-instruct
2025-07-15 00:46:11,025 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:46:11,025 - INFO - OpenRouter Request for qwen/qwen2.5-coder-7b-instruct (attempt 2): {"model": "qwen/qwen2.5-coder-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:46:11,164 - ERROR - Error calling model qwen/qwen2.5-coder-7b-instruct (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:46:11,164 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwen2.5-coder-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:46:12,666 - INFO - Retry attempt 2/3 for model qwen/qwen2.5-coder-7b-instruct
2025-07-15 00:46:12,667 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:46:12,667 - INFO - OpenRouter Request for qwen/qwen2.5-coder-7b-instruct (attempt 3): {"model": "qwen/qwen2.5-coder-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:46:12,796 - ERROR - Error calling model qwen/qwen2.5-coder-7b-instruct (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:46:12,796 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwen2.5-coder-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:46:14,297 - INFO - Retry attempt 3/3 for model qwen/qwen2.5-coder-7b-instruct
2025-07-15 00:46:14,298 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:46:14,298 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:46:14,298 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:46:14,860 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752533174-pTUE7TfkoXZkQKxlNxJw", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:46:14,861 - INFO - Received raw move 'e5d4' from model qwen/qwen2.5-coder-7b-instruct
2025-07-15 00:46:14,861 - INFO - Using default board with active color: b
2025-07-15 00:46:14,861 - INFO - Attempting to interpret ambiguous move with API: 'e5d4'
2025-07-15 00:46:14,891 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5d4'
2025-07-15 00:46:16,209 - INFO - Interpreted move 'e5d4' as 'e5d4'
2025-07-15 00:46:16,210 - WARNING - Interpreted move 'e5d4' is not legal on the current board
2025-07-15 00:46:16,210 - WARNING - Model qwen/qwen2.5-coder-7b-instruct made an invalid move: 'e5d4' that couldn't be interpreted (attempt 1/5)
2025-07-15 00:46:16,210 - INFO - Calling OpenRouter API with model: qwen/qwen2.5-coder-7b-instruct
2025-07-15 00:46:16,211 - INFO - Detected 1.5 move pairs already made in the game
2025-07-15 00:46:16,211 - INFO - OpenRouter Request for qwen/qwen2.5-coder-7b-instruct (attempt 1): {"model": "qwen/qwen2.5-coder-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:46:16,355 - ERROR - Error calling model qwen/qwen2.5-coder-7b-instruct (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:46:16,355 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwen2.5-coder-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:46:17,857 - INFO - Retry attempt 1/3 for model qwen/qwen2.5-coder-7b-instruct
2025-07-15 00:46:17,857 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:46:17,857 - INFO - OpenRouter Request for qwen/qwen2.5-coder-7b-instruct (attempt 2): {"model": "qwen/qwen2.5-coder-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:46:18,003 - ERROR - Error calling model qwen/qwen2.5-coder-7b-instruct (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:46:18,003 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwen2.5-coder-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:46:19,504 - INFO - Retry attempt 2/3 for model qwen/qwen2.5-coder-7b-instruct
2025-07-15 00:46:19,505 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:46:19,505 - INFO - OpenRouter Request for qwen/qwen2.5-coder-7b-instruct (attempt 3): {"model": "qwen/qwen2.5-coder-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:46:19,631 - ERROR - Error calling model qwen/qwen2.5-coder-7b-instruct (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:46:19,631 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwen2.5-coder-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:46:21,132 - INFO - Retry attempt 3/3 for model qwen/qwen2.5-coder-7b-instruct
2025-07-15 00:46:21,133 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:46:21,133 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:46:21,133 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:46:21,630 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752533181-KDGCuqw1EWacB90mqwkY", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:46:21,630 - INFO - Retry 1: Received raw move 'e5d4' from model qwen/qwen2.5-coder-7b-instruct
2025-07-15 00:46:21,631 - INFO - Using default board with active color: b
2025-07-15 00:46:21,631 - INFO - Attempting to interpret ambiguous move with API: 'e5d4'
2025-07-15 00:46:21,661 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5d4'
2025-07-15 00:46:22,203 - INFO - Interpreted move 'e5d4' as 'e5d4'
2025-07-15 00:46:22,203 - WARNING - Interpreted move 'e5d4' is not legal on the current board
2025-07-15 00:46:22,204 - WARNING - Model qwen/qwen2.5-coder-7b-instruct made an invalid move: 'e5d4' that couldn't be interpreted (attempt 2/5)
2025-07-15 00:46:22,204 - INFO - Calling OpenRouter API with model: qwen/qwen2.5-coder-7b-instruct
2025-07-15 00:46:22,204 - INFO - Detected 1.5 move pairs already made in the game
2025-07-15 00:46:22,204 - INFO - OpenRouter Request for qwen/qwen2.5-coder-7b-instruct (attempt 1): {"model": "qwen/qwen2.5-coder-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:46:22,355 - ERROR - Error calling model qwen/qwen2.5-coder-7b-instruct (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:46:22,355 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwen2.5-coder-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:46:23,857 - INFO - Retry attempt 1/3 for model qwen/qwen2.5-coder-7b-instruct
2025-07-15 00:46:23,857 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:46:23,857 - INFO - OpenRouter Request for qwen/qwen2.5-coder-7b-instruct (attempt 2): {"model": "qwen/qwen2.5-coder-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:46:23,987 - ERROR - Error calling model qwen/qwen2.5-coder-7b-instruct (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:46:23,988 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwen2.5-coder-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:46:25,490 - INFO - Retry attempt 2/3 for model qwen/qwen2.5-coder-7b-instruct
2025-07-15 00:46:25,490 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:46:25,490 - INFO - OpenRouter Request for qwen/qwen2.5-coder-7b-instruct (attempt 3): {"model": "qwen/qwen2.5-coder-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:46:25,649 - ERROR - Error calling model qwen/qwen2.5-coder-7b-instruct (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:46:25,651 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwen2.5-coder-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:46:27,153 - INFO - Retry attempt 3/3 for model qwen/qwen2.5-coder-7b-instruct
2025-07-15 00:46:27,153 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:46:27,154 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:46:27,154 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:46:27,730 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752533187-NIx7Vi6Ex4B0MpxtfGPA", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:46:27,730 - INFO - Retry 2: Received raw move 'e5d4' from model qwen/qwen2.5-coder-7b-instruct
2025-07-15 00:46:27,730 - INFO - Using default board with active color: b
2025-07-15 00:46:27,731 - INFO - Attempting to interpret ambiguous move with API: 'e5d4'
2025-07-15 00:46:27,766 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5d4'
2025-07-15 00:46:28,522 - INFO - Interpreted move 'e5d4' as 'e5d4'
2025-07-15 00:46:28,522 - WARNING - Interpreted move 'e5d4' is not legal on the current board
2025-07-15 00:46:28,523 - WARNING - Model qwen/qwen2.5-coder-7b-instruct made an invalid move: 'e5d4' that couldn't be interpreted (attempt 3/5)
2025-07-15 00:46:28,524 - INFO - Calling OpenRouter API with model: qwen/qwen2.5-coder-7b-instruct
2025-07-15 00:46:28,526 - INFO - Detected 1.5 move pairs already made in the game
2025-07-15 00:46:28,526 - INFO - OpenRouter Request for qwen/qwen2.5-coder-7b-instruct (attempt 1): {"model": "qwen/qwen2.5-coder-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:46:28,657 - ERROR - Error calling model qwen/qwen2.5-coder-7b-instruct (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:46:28,658 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwen2.5-coder-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:46:30,159 - INFO - Retry attempt 1/3 for model qwen/qwen2.5-coder-7b-instruct
2025-07-15 00:46:30,160 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:46:30,160 - INFO - OpenRouter Request for qwen/qwen2.5-coder-7b-instruct (attempt 2): {"model": "qwen/qwen2.5-coder-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:46:30,332 - ERROR - Error calling model qwen/qwen2.5-coder-7b-instruct (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:46:30,332 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwen2.5-coder-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:46:31,833 - INFO - Retry attempt 2/3 for model qwen/qwen2.5-coder-7b-instruct
2025-07-15 00:46:31,834 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:46:31,834 - INFO - OpenRouter Request for qwen/qwen2.5-coder-7b-instruct (attempt 3): {"model": "qwen/qwen2.5-coder-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:46:31,979 - ERROR - Error calling model qwen/qwen2.5-coder-7b-instruct (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:46:31,980 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwen2.5-coder-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:46:33,481 - INFO - Retry attempt 3/3 for model qwen/qwen2.5-coder-7b-instruct
2025-07-15 00:46:33,482 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:46:33,482 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:46:33,482 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:46:34,024 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752533193-YYlT7Es7MPi6djlKikMs", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:46:34,025 - INFO - Retry 3: Received raw move 'e5d4' from model qwen/qwen2.5-coder-7b-instruct
2025-07-15 00:46:34,025 - INFO - Using default board with active color: b
2025-07-15 00:46:34,025 - INFO - Attempting to interpret ambiguous move with API: 'e5d4'
2025-07-15 00:46:34,056 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5d4'
2025-07-15 00:46:34,729 - INFO - Interpreted move 'e5d4' as 'e5d4'
2025-07-15 00:46:34,729 - WARNING - Interpreted move 'e5d4' is not legal on the current board
2025-07-15 00:46:34,730 - WARNING - Model qwen/qwen2.5-coder-7b-instruct made an invalid move: 'e5d4' that couldn't be interpreted (attempt 4/5)
2025-07-15 00:46:34,730 - INFO - Calling OpenRouter API with model: qwen/qwen2.5-coder-7b-instruct
2025-07-15 00:46:34,730 - INFO - Detected 1.5 move pairs already made in the game
2025-07-15 00:46:34,730 - INFO - OpenRouter Request for qwen/qwen2.5-coder-7b-instruct (attempt 1): {"model": "qwen/qwen2.5-coder-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:46:34,861 - ERROR - Error calling model qwen/qwen2.5-coder-7b-instruct (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:46:34,862 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwen2.5-coder-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:46:36,363 - INFO - Retry attempt 1/3 for model qwen/qwen2.5-coder-7b-instruct
2025-07-15 00:46:36,363 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-15 00:46:36,363 - INFO - OpenRouter Request for qwen/qwen2.5-coder-7b-instruct (attempt 2): {"model": "qwen/qwen2.5-coder-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-15 00:46:36,483 - ERROR - Error calling model qwen/qwen2.5-coder-7b-instruct (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:46:36,483 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwen2.5-coder-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:46:37,985 - INFO - Retry attempt 2/3 for model qwen/qwen2.5-coder-7b-instruct
2025-07-15 00:46:37,985 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-15 00:46:37,985 - INFO - OpenRouter Request for qwen/qwen2.5-coder-7b-instruct (attempt 3): {"model": "qwen/qwen2.5-coder-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-15 00:46:38,136 - ERROR - Error calling model qwen/qwen2.5-coder-7b-instruct (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-15 00:46:38,137 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for qwen/qwen2.5-coder-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-15 00:46:39,638 - INFO - Retry attempt 3/3 for model qwen/qwen2.5-coder-7b-instruct
2025-07-15 00:46:39,638 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-15 00:46:39,638 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-15 00:46:39,639 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-15 00:46:40,327 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752533199-pETv3dFcy6WmV5ZIl2Z8", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:46:40,328 - INFO - Retry 4: Received raw move 'e5d4' from model qwen/qwen2.5-coder-7b-instruct
2025-07-15 00:46:40,328 - INFO - Using default board with active color: b
2025-07-15 00:46:40,329 - INFO - Attempting to interpret ambiguous move with API: 'e5d4'
2025-07-15 00:46:40,363 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5d4'
2025-07-15 00:46:40,828 - INFO - Interpreted move 'e5d4' as 'e5d4'
2025-07-15 00:46:40,828 - WARNING - Interpreted move 'e5d4' is not legal on the current board
2025-07-15 00:46:40,828 - WARNING - Model qwen/qwen2.5-coder-7b-instruct made an invalid move: 'e5d4' that couldn't be interpreted (attempt 5/5)
2025-07-15 00:46:40,828 - ERROR - Model qwen/qwen2.5-coder-7b-instruct failed to make a valid move after 5 attempts
2025-07-15 00:46:40,828 - INFO - Requesting game over explanation from openai/gpt-4.1-mini
2025-07-15 00:46:42,444 - INFO - Received game over explanation: qwen/qwen2.5-coder-7b-instruct lost because it tri...
2025-07-15 00:46:45,374 - INFO - New game created: amazon/nova-pro-v1 (White) vs mistralai/mixtral-8x22b-instruct (Black)
2025-07-15 00:46:45,381 - INFO - WebSocket connection established for game game_1752533205_1744
2025-07-15 00:46:45,382 - INFO - Starting game: amazon/nova-pro-v1 vs mistralai/mixtral-8x22b-instruct
2025-07-15 00:46:45,384 - INFO - Calling OpenRouter API with model: amazon/nova-pro-v1
2025-07-15 00:46:45,384 - INFO - OpenRouter Request for amazon/nova-pro-v1 (attempt 1): {"model": "amazon/nova-pro-v1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:46:46,178 - INFO - OpenRouter response for amazon/nova-pro-v1 (attempt 1): {"id": "gen-1752533205-23rrgbWq0lJjGmZ12yj6", "model": "amazon/nova-pro-v1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:46:46,179 - INFO - Received raw move 'e2e4' from model amazon/nova-pro-v1
2025-07-15 00:46:46,180 - INFO - Using default board with active color: w
2025-07-15 00:46:46,180 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-15 00:46:46,182 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:46:47,327 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a classical and stron...
2025-07-15 00:46:47,684 - INFO - Calling OpenRouter API with model: mistralai/mixtral-8x22b-instruct
2025-07-15 00:46:47,684 - INFO - Detected 0.5 move pairs already made in the game
2025-07-15 00:46:47,684 - INFO - OpenRouter Request for mistralai/mixtral-8x22b-instruct (attempt 1): {"model": "mistralai/mixtral-8x22b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:46:48,322 - INFO - OpenRouter response for mistralai/mixtral-8x22b-instruct (attempt 1): {"id": "gen-1752533207-2fNPPpoEjMmflOIPm9Kk", "model": "mistralai/mixtral-8x22b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:46:48,323 - INFO - Received raw move 'd7d5' from model mistralai/mixtral-8x22b-instruct
2025-07-15 00:46:48,325 - INFO - Using default board with active color: b
2025-07-15 00:46:48,325 - INFO - Processed move: Raw 'd7d5' -> Interpreted 'd7d5' -> UCI 'd7d5' -> SAN 'd5'
2025-07-15 00:46:48,326 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-15 00:46:49,321 - INFO - Received commentary from openai/gpt-4.1-mini: 1...d5 challenges White’s cont...
2025-07-15 00:46:49,327 - INFO - Calling OpenRouter API with model: amazon/nova-pro-v1
2025-07-15 00:46:49,328 - INFO - Detected 1 move pairs already made in the game
2025-07-15 00:46:49,328 - INFO - OpenRouter Request for amazon/nova-pro-v1 (attempt 1): {"model": "amazon/nova-pro-v1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . p p p p\n. . . . . . . .\n. . . p . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:46:50,272 - INFO - OpenRouter response for amazon/nova-pro-v1 (attempt 1): {"id": "gen-1752533209-eIZsEfFbGKMm9E8ojDO6", "model": "amazon/nova-pro-v1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:46:50,273 - INFO - Received raw move 'e1e2' from model amazon/nova-pro-v1
2025-07-15 00:46:50,273 - INFO - Using default board with active color: w
2025-07-15 00:46:50,274 - INFO - Attempting to interpret ambiguous move with API: 'e1e2'
2025-07-15 00:46:50,305 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e1e2'
2025-07-15 00:46:50,867 - INFO - Interpreted move 'e1e2' as 'e1e2'
2025-07-15 00:46:50,867 - WARNING - Interpreted move 'e1e2' is not legal on the current board
2025-07-15 00:46:50,867 - WARNING - Model amazon/nova-pro-v1 made an invalid move: 'e1e2' that couldn't be interpreted (attempt 1/5)
2025-07-15 00:46:50,868 - INFO - Calling OpenRouter API with model: amazon/nova-pro-v1
2025-07-15 00:46:50,868 - INFO - Detected 1 move pairs already made in the game
2025-07-15 00:46:50,868 - INFO - OpenRouter Request for amazon/nova-pro-v1 (attempt 1): {"model": "amazon/nova-pro-v1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . p p p p\n. . . . . . . .\n. . . p . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:46:51,598 - INFO - OpenRouter response for amazon/nova-pro-v1 (attempt 1): {"id": "gen-1752533211-GHAytHHWUfvL5hVsS9CB", "model": "amazon/nova-pro-v1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:46:51,599 - INFO - Retry 1: Received raw move 'e1e2' from model amazon/nova-pro-v1
2025-07-15 00:46:51,600 - INFO - Using default board with active color: w
2025-07-15 00:46:51,600 - INFO - Attempting to interpret ambiguous move with API: 'e1e2'
2025-07-15 00:46:51,628 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e1e2'
2025-07-15 00:46:52,143 - INFO - Interpreted move 'e1e2' as 'e1e2'
2025-07-15 00:46:52,144 - WARNING - Interpreted move 'e1e2' is not legal on the current board
2025-07-15 00:46:52,144 - WARNING - Model amazon/nova-pro-v1 made an invalid move: 'e1e2' that couldn't be interpreted (attempt 2/5)
2025-07-15 00:46:52,145 - INFO - Calling OpenRouter API with model: amazon/nova-pro-v1
2025-07-15 00:46:52,145 - INFO - Detected 1 move pairs already made in the game
2025-07-15 00:46:52,145 - INFO - OpenRouter Request for amazon/nova-pro-v1 (attempt 1): {"model": "amazon/nova-pro-v1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . p p p p\n. . . . . . . .\n. . . p . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:46:53,112 - INFO - OpenRouter response for amazon/nova-pro-v1 (attempt 1): {"id": "gen-1752533212-b2AyroWMNpYwSizsWjhp", "model": "amazon/nova-pro-v1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:46:53,113 - INFO - Retry 2: Received raw move 'e1e2' from model amazon/nova-pro-v1
2025-07-15 00:46:53,114 - INFO - Using default board with active color: w
2025-07-15 00:46:53,114 - INFO - Attempting to interpret ambiguous move with API: 'e1e2'
2025-07-15 00:46:53,147 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e1e2'
2025-07-15 00:46:53,637 - INFO - Interpreted move 'e1e2' as 'e1e2'
2025-07-15 00:46:53,638 - WARNING - Interpreted move 'e1e2' is not legal on the current board
2025-07-15 00:46:53,638 - WARNING - Model amazon/nova-pro-v1 made an invalid move: 'e1e2' that couldn't be interpreted (attempt 3/5)
2025-07-15 00:46:53,639 - INFO - Calling OpenRouter API with model: amazon/nova-pro-v1
2025-07-15 00:46:53,639 - INFO - Detected 1 move pairs already made in the game
2025-07-15 00:46:53,639 - INFO - OpenRouter Request for amazon/nova-pro-v1 (attempt 1): {"model": "amazon/nova-pro-v1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . p p p p\n. . . . . . . .\n. . . p . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:46:54,396 - INFO - OpenRouter response for amazon/nova-pro-v1 (attempt 1): {"id": "gen-1752533213-LuOMthADdcWLLL5h6FiH", "model": "amazon/nova-pro-v1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:46:54,397 - INFO - Retry 3: Received raw move 'e1e2' from model amazon/nova-pro-v1
2025-07-15 00:46:54,398 - INFO - Using default board with active color: w
2025-07-15 00:46:54,398 - INFO - Attempting to interpret ambiguous move with API: 'e1e2'
2025-07-15 00:46:54,431 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e1e2'
2025-07-15 00:46:55,340 - INFO - Interpreted move 'e1e2' as 'e1e2'
2025-07-15 00:46:55,340 - WARNING - Interpreted move 'e1e2' is not legal on the current board
2025-07-15 00:46:55,340 - WARNING - Model amazon/nova-pro-v1 made an invalid move: 'e1e2' that couldn't be interpreted (attempt 4/5)
2025-07-15 00:46:55,341 - INFO - Calling OpenRouter API with model: amazon/nova-pro-v1
2025-07-15 00:46:55,341 - INFO - Detected 1 move pairs already made in the game
2025-07-15 00:46:55,341 - INFO - OpenRouter Request for amazon/nova-pro-v1 (attempt 1): {"model": "amazon/nova-pro-v1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . p p p p\n. . . . . . . .\n. . . p . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-15 00:46:56,246 - INFO - OpenRouter response for amazon/nova-pro-v1 (attempt 1): {"id": "gen-1752533215-iVb4qRDYPnv2Uq8rs3gG", "model": "amazon/nova-pro-v1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-15 00:46:56,247 - INFO - Retry 4: Received raw move 'e1e2' from model amazon/nova-pro-v1
2025-07-15 00:46:56,247 - INFO - Using default board with active color: w
2025-07-15 00:46:56,247 - INFO - Attempting to interpret ambiguous move with API: 'e1e2'
2025-07-15 00:46:56,286 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e1e2'
2025-07-15 00:46:57,180 - INFO - Interpreted move 'e1e2' as 'e1e2'
2025-07-15 00:46:57,181 - WARNING - Interpreted move 'e1e2' is not legal on the current board
2025-07-15 00:46:57,181 - WARNING - Model amazon/nova-pro-v1 made an invalid move: 'e1e2' that couldn't be interpreted (attempt 5/5)
2025-07-15 00:46:57,182 - ERROR - Model amazon/nova-pro-v1 failed to make a valid move after 5 attempts
2025-07-15 00:46:57,182 - INFO - Requesting game over explanation from openai/gpt-4.1-mini
2025-07-15 00:46:58,621 - INFO - Received game over explanation: Amazon/nova-pro-v1 lost because it tried to make a...
2025-07-16 19:25:32,009 - INFO - AI Chess Arena starting up...
2025-07-16 19:25:32,011 - INFO - Loaded 173 previous game results from results.txt
2025-07-16 19:25:35,140 - INFO - New game created: deepseek/deepseek-r1-distill-llama-8b (White) vs arliai/qwq-32b-arliai-rpr-v1:free (Black)
2025-07-16 19:25:35,156 - INFO - WebSocket connection established for game game_1752686735_7926
2025-07-16 19:25:35,156 - INFO - Starting game: deepseek/deepseek-r1-distill-llama-8b vs arliai/qwq-32b-arliai-rpr-v1:free
2025-07-16 19:25:35,157 - INFO - Calling OpenRouter API with model: deepseek/deepseek-r1-distill-llama-8b
2025-07-16 19:25:35,158 - INFO - OpenRouter Request for deepseek/deepseek-r1-distill-llama-8b (attempt 1): {"model": "deepseek/deepseek-r1-distill-llama-8b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-16 19:25:36,219 - ERROR - Error calling model deepseek/deepseek-r1-distill-llama-8b (attempt 1): Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-07-16 19:25:36,219 - ERROR - OpenRouter Error Response: {"error":{"message":"No auth credentials found","code":401}}
2025-07-16 19:25:37,720 - INFO - Retry attempt 1/3 for model deepseek/deepseek-r1-distill-llama-8b
2025-07-16 19:25:37,721 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-16 19:25:37,721 - INFO - OpenRouter Request for deepseek/deepseek-r1-distill-llama-8b (attempt 2): {"model": "deepseek/deepseek-r1-distill-llama-8b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-16 19:25:38,882 - ERROR - Error calling model deepseek/deepseek-r1-distill-llama-8b (attempt 2): Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-07-16 19:25:38,882 - ERROR - OpenRouter Error Response: {"error":{"message":"No auth credentials found","code":401}}
2025-07-16 19:25:40,383 - INFO - Retry attempt 2/3 for model deepseek/deepseek-r1-distill-llama-8b
2025-07-16 19:25:40,383 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-16 19:25:40,383 - INFO - OpenRouter Request for deepseek/deepseek-r1-distill-llama-8b (attempt 3): {"model": "deepseek/deepseek-r1-distill-llama-8b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-16 19:25:41,292 - ERROR - Error calling model deepseek/deepseek-r1-distill-llama-8b (attempt 3): Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-07-16 19:25:41,293 - ERROR - OpenRouter Error Response: {"error":{"message":"No auth credentials found","code":401}}
2025-07-16 19:25:42,794 - INFO - Retry attempt 3/3 for model deepseek/deepseek-r1-distill-llama-8b
2025-07-16 19:25:42,794 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-16 19:25:42,794 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-16 19:25:42,795 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as WHITE.\nCurrent board:\n\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-16 19:25:43,707 - ERROR - Error calling model openai/gpt-4.1-mini (attempt 4): Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-07-16 19:25:43,707 - ERROR - OpenRouter Error Response: {"error":{"message":"No auth credentials found","code":401}}
2025-07-16 19:25:43,707 - INFO - Received raw move '' from model deepseek/deepseek-r1-distill-llama-8b
2025-07-16 19:25:43,707 - ERROR - Failed to get any move from model deepseek/deepseek-r1-distill-llama-8b after all retries
2025-07-16 19:25:43,707 - INFO - Requesting game over explanation from openai/gpt-4.1-mini
2025-07-16 19:25:44,506 - ERROR - Error getting game over explanation: Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-07-16 19:27:11,903 - INFO - AI Chess Arena starting up...
2025-07-16 19:27:11,904 - INFO - Loaded 174 previous game results from results.txt
2025-07-16 19:27:17,537 - INFO - New game created: qwen/qwen-2.5-vl-7b-instruct:free (White) vs openai/gpt-4.1 (Black)
2025-07-16 19:27:17,549 - INFO - WebSocket connection established for game game_1752686837_9635
2025-07-16 19:27:17,550 - INFO - Starting game: qwen/qwen-2.5-vl-7b-instruct:free vs openai/gpt-4.1
2025-07-16 19:27:17,552 - INFO - Calling OpenRouter API with model: qwen/qwen-2.5-vl-7b-instruct:free
2025-07-16 19:27:17,552 - INFO - Model has suffix: base=qwen/qwen-2.5-vl-7b-instruct, suffix=:free
2025-07-16 19:27:17,552 - INFO - OpenRouter Request for qwen/qwen-2.5-vl-7b-instruct:free (attempt 1): {"model": "qwen/qwen-2.5-vl-7b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-16 19:27:18,529 - ERROR - Error calling model qwen/qwen-2.5-vl-7b-instruct:free (attempt 1): Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-07-16 19:27:18,530 - ERROR - OpenRouter Error Response: {"error":{"message":"No auth credentials found","code":401}}
2025-07-16 19:27:20,031 - INFO - Retry attempt 1/3 for model qwen/qwen-2.5-vl-7b-instruct:free
2025-07-16 19:27:20,031 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-16 19:27:20,031 - INFO - OpenRouter Request for qwen/qwen-2.5-vl-7b-instruct:free (attempt 2): {"model": "qwen/qwen-2.5-vl-7b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-16 19:27:20,744 - ERROR - Error calling model qwen/qwen-2.5-vl-7b-instruct:free (attempt 2): Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-07-16 19:27:20,745 - ERROR - OpenRouter Error Response: {"error":{"message":"No auth credentials found","code":401}}
2025-07-16 19:27:22,245 - INFO - Retry attempt 2/3 for model qwen/qwen-2.5-vl-7b-instruct:free
2025-07-16 19:27:22,245 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-16 19:27:22,246 - INFO - Trying base model without suffix: qwen/qwen-2.5-vl-7b-instruct
2025-07-16 19:27:22,246 - INFO - OpenRouter Request for qwen/qwen-2.5-vl-7b-instruct (attempt 3): {"model": "qwen/qwen-2.5-vl-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-16 19:27:23,154 - ERROR - Error calling model qwen/qwen-2.5-vl-7b-instruct (attempt 3): Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-07-16 19:27:23,155 - ERROR - OpenRouter Error Response: {"error":{"message":"No auth credentials found","code":401}}
2025-07-16 19:27:24,656 - INFO - Retry attempt 3/3 for model qwen/qwen-2.5-vl-7b-instruct:free
2025-07-16 19:27:24,656 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-16 19:27:24,656 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-16 19:27:24,656 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as WHITE.\nCurrent board:\n\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-16 19:27:25,276 - ERROR - Error calling model openai/gpt-4.1-mini (attempt 4): Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-07-16 19:27:25,276 - ERROR - OpenRouter Error Response: {"error":{"message":"No auth credentials found","code":401}}
2025-07-16 19:27:25,276 - INFO - Received raw move '' from model qwen/qwen-2.5-vl-7b-instruct:free
2025-07-16 19:27:25,276 - ERROR - Failed to get any move from model qwen/qwen-2.5-vl-7b-instruct:free after all retries
2025-07-16 19:27:25,276 - INFO - Requesting game over explanation from openai/gpt-4.1-mini
2025-07-16 19:27:25,885 - ERROR - Error getting game over explanation: Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-07-16 20:16:39,421 - INFO - AI Chess Arena starting up...
2025-07-16 20:16:39,424 - INFO - Loaded 175 previous game results from results.txt
2025-07-16 20:16:43,179 - INFO - New game created: mistralai/mistral-7b-instruct-v0.2 (White) vs thudm/glm-4-32b (Black)
2025-07-16 20:16:43,203 - INFO - WebSocket connection established for game game_1752689803_2761
2025-07-16 20:16:43,203 - INFO - Starting game: mistralai/mistral-7b-instruct-v0.2 vs thudm/glm-4-32b
2025-07-16 20:16:43,205 - INFO - Calling OpenRouter API with model: mistralai/mistral-7b-instruct-v0.2
2025-07-16 20:16:43,205 - INFO - OpenRouter Request for mistralai/mistral-7b-instruct-v0.2 (attempt 1): {"model": "mistralai/mistral-7b-instruct-v0.2", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-16 20:16:43,655 - ERROR - Error calling model mistralai/mistral-7b-instruct-v0.2 (attempt 1): Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-07-16 20:16:43,656 - ERROR - OpenRouter Error Response: {"error":{"message":"No auth credentials found","code":401}}
2025-07-16 20:16:45,157 - INFO - Retry attempt 1/3 for model mistralai/mistral-7b-instruct-v0.2
2025-07-16 20:16:45,158 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-16 20:16:45,158 - INFO - OpenRouter Request for mistralai/mistral-7b-instruct-v0.2 (attempt 2): {"model": "mistralai/mistral-7b-instruct-v0.2", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-16 20:16:45,455 - ERROR - Error calling model mistralai/mistral-7b-instruct-v0.2 (attempt 2): Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-07-16 20:16:45,455 - ERROR - OpenRouter Error Response: {"error":{"message":"No auth credentials found","code":401}}
2025-07-16 20:16:46,958 - INFO - Retry attempt 2/3 for model mistralai/mistral-7b-instruct-v0.2
2025-07-16 20:16:46,958 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-16 20:16:46,958 - INFO - OpenRouter Request for mistralai/mistral-7b-instruct-v0.2 (attempt 3): {"model": "mistralai/mistral-7b-instruct-v0.2", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-16 20:16:47,263 - ERROR - Error calling model mistralai/mistral-7b-instruct-v0.2 (attempt 3): Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-07-16 20:16:47,263 - ERROR - OpenRouter Error Response: {"error":{"message":"No auth credentials found","code":401}}
2025-07-16 20:16:48,764 - INFO - Retry attempt 3/3 for model mistralai/mistral-7b-instruct-v0.2
2025-07-16 20:16:48,765 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-16 20:16:48,766 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-16 20:16:48,766 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as WHITE.\nCurrent board:\n\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-16 20:16:49,068 - ERROR - Error calling model openai/gpt-4.1-mini (attempt 4): Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-07-16 20:16:49,069 - ERROR - OpenRouter Error Response: {"error":{"message":"No auth credentials found","code":401}}
2025-07-16 20:16:49,069 - INFO - Received raw move '' from model mistralai/mistral-7b-instruct-v0.2
2025-07-16 20:16:49,069 - ERROR - Failed to get any move from model mistralai/mistral-7b-instruct-v0.2 after all retries
2025-07-16 20:16:49,069 - INFO - Requesting game over explanation from openai/gpt-4.1-mini
2025-07-16 20:16:49,345 - ERROR - Error getting game over explanation: Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-07-16 20:17:01,162 - INFO - AI Chess Arena starting up...
2025-07-16 20:17:01,164 - INFO - Loaded 176 previous game results from results.txt
2025-07-16 20:17:03,461 - INFO - New game created: mancer/weaver (White) vs eva-unit-01/eva-qwen-2.5-72b (Black)
2025-07-16 20:17:03,474 - INFO - WebSocket connection established for game game_1752689823_6657
2025-07-16 20:17:03,475 - INFO - Starting game: mancer/weaver vs eva-unit-01/eva-qwen-2.5-72b
2025-07-16 20:17:03,476 - INFO - Calling OpenRouter API with model: mancer/weaver
2025-07-16 20:17:03,476 - INFO - OpenRouter Request for mancer/weaver (attempt 1): {"model": "mancer/weaver", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-16 20:17:18,452 - INFO - OpenRouter response for mancer/weaver (attempt 1): {"id": "gen-1752689823-VFBkK3Zsfuk9slyYVKgi", "model": "mancer/weaver", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-16 20:17:18,453 - INFO - Received raw move 'As the game starts, you feel t' from model mancer/weaver
2025-07-16 20:17:18,453 - INFO - Using default board with active color: w
2025-07-16 20:17:18,453 - INFO - Attempting to interpret ambiguous move with API: 'As the game starts you feel t'
2025-07-16 20:17:18,477 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'As the game starts you feel t'
2025-07-16 20:17:19,456 - INFO - Interpreted move 'As the game starts you feel t' as 'INVALID'
2025-07-16 20:17:19,458 - WARNING - Model mancer/weaver made an invalid move: 'As the game starts, you feel t' that couldn't be interpreted (attempt 1/5)
2025-07-16 20:17:19,459 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-07-16 20:18:04,318 - INFO - AI Chess Arena starting up...
2025-07-16 20:18:04,319 - INFO - Loaded 176 previous game results from results.txt
2025-07-16 20:18:07,179 - INFO - New game created: google/gemini-2.0-flash-lite-001 (White) vs meta-llama/llama-3.2-1b-instruct:free (Black)
2025-07-16 20:18:07,191 - INFO - WebSocket connection established for game game_1752689887_2674
2025-07-16 20:18:07,191 - INFO - Starting game: google/gemini-2.0-flash-lite-001 vs meta-llama/llama-3.2-1b-instruct:free
2025-07-16 20:18:07,192 - INFO - Calling OpenRouter API with model: google/gemini-2.0-flash-lite-001
2025-07-16 20:18:07,193 - INFO - OpenRouter Request for google/gemini-2.0-flash-lite-001 (attempt 1): {"model": "google/gemini-2.0-flash-lite-001", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-16 20:18:07,796 - INFO - OpenRouter response for google/gemini-2.0-flash-lite-001 (attempt 1): {"id": "gen-1752689887-hQfxbuuPpHilkhNzUjcH", "model": "google/gemini-2.0-flash-lite-001", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-16 20:18:07,797 - INFO - Received raw move 'e2e4' from model google/gemini-2.0-flash-lite-001
2025-07-16 20:18:07,797 - INFO - Using default board with active color: w
2025-07-16 20:18:07,798 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-16 20:18:07,800 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-16 20:18:09,828 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 ! White stakes a strong ...
2025-07-16 20:18:10,305 - INFO - Calling OpenRouter API with model: meta-llama/llama-3.2-1b-instruct:free
2025-07-16 20:18:10,306 - INFO - Detected 0.5 move pairs already made in the game
2025-07-16 20:18:10,306 - INFO - Model has suffix: base=meta-llama/llama-3.2-1b-instruct, suffix=:free
2025-07-16 20:18:10,306 - INFO - OpenRouter Request for meta-llama/llama-3.2-1b-instruct:free (attempt 1): {"model": "meta-llama/llama-3.2-1b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-16 20:18:10,494 - ERROR - Error calling model meta-llama/llama-3.2-1b-instruct:free (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-16 20:18:10,494 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for meta-llama/llama-3.2-1b-instruct:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-16 20:18:11,996 - INFO - Retry attempt 1/3 for model meta-llama/llama-3.2-1b-instruct:free
2025-07-16 20:18:11,996 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-16 20:18:11,996 - INFO - OpenRouter Request for meta-llama/llama-3.2-1b-instruct:free (attempt 2): {"model": "meta-llama/llama-3.2-1b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-16 20:18:12,153 - ERROR - Error calling model meta-llama/llama-3.2-1b-instruct:free (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-16 20:18:12,153 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for meta-llama/llama-3.2-1b-instruct:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-16 20:18:13,655 - INFO - Retry attempt 2/3 for model meta-llama/llama-3.2-1b-instruct:free
2025-07-16 20:18:13,655 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-16 20:18:13,655 - INFO - Trying base model without suffix: meta-llama/llama-3.2-1b-instruct
2025-07-16 20:18:13,655 - INFO - OpenRouter Request for meta-llama/llama-3.2-1b-instruct (attempt 3): {"model": "meta-llama/llama-3.2-1b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-16 20:18:14,537 - INFO - OpenRouter response for meta-llama/llama-3.2-1b-instruct (attempt 3): {"id": "gen-1752689893-j7MRLt1Gojzk2uasK03z", "model": "meta-llama/llama-3.2-1b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-16 20:18:14,538 - INFO - Received raw move 'e2e4' from model meta-llama/llama-3.2-1b-instruct:free
2025-07-16 20:18:14,538 - INFO - Using default board with active color: b
2025-07-16 20:18:14,538 - INFO - Attempting to interpret ambiguous move with API: 'e2e4'
2025-07-16 20:18:14,567 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e2e4'
2025-07-16 20:18:15,494 - INFO - Interpreted move 'e2e4' as 'INVALID'
2025-07-16 20:18:15,495 - WARNING - Model meta-llama/llama-3.2-1b-instruct:free made an invalid move: 'e2e4' that couldn't be interpreted (attempt 1/5)
2025-07-16 20:18:15,495 - INFO - Calling OpenRouter API with model: meta-llama/llama-3.2-1b-instruct:free
2025-07-16 20:18:15,495 - INFO - Detected 0.5 move pairs already made in the game
2025-07-16 20:18:15,495 - INFO - Model has suffix: base=meta-llama/llama-3.2-1b-instruct, suffix=:free
2025-07-16 20:18:15,496 - INFO - OpenRouter Request for meta-llama/llama-3.2-1b-instruct:free (attempt 1): {"model": "meta-llama/llama-3.2-1b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-16 20:18:15,731 - ERROR - Error calling model meta-llama/llama-3.2-1b-instruct:free (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-16 20:18:15,733 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for meta-llama/llama-3.2-1b-instruct:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-16 20:18:17,234 - INFO - Retry attempt 1/3 for model meta-llama/llama-3.2-1b-instruct:free
2025-07-16 20:18:17,235 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-16 20:18:17,235 - INFO - OpenRouter Request for meta-llama/llama-3.2-1b-instruct:free (attempt 2): {"model": "meta-llama/llama-3.2-1b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-16 20:18:17,430 - ERROR - Error calling model meta-llama/llama-3.2-1b-instruct:free (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-16 20:18:17,431 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for meta-llama/llama-3.2-1b-instruct:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-16 20:18:18,932 - INFO - Retry attempt 2/3 for model meta-llama/llama-3.2-1b-instruct:free
2025-07-16 20:18:18,932 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-16 20:18:18,932 - INFO - Trying base model without suffix: meta-llama/llama-3.2-1b-instruct
2025-07-16 20:18:18,932 - INFO - OpenRouter Request for meta-llama/llama-3.2-1b-instruct (attempt 3): {"model": "meta-llama/llama-3.2-1b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-16 20:18:19,616 - INFO - OpenRouter response for meta-llama/llama-3.2-1b-instruct (attempt 3): {"id": "gen-1752689899-VC8qpltaTMmfCrQY1ykP", "model": "meta-llama/llama-3.2-1b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-16 20:18:19,617 - INFO - Retry 1: Received raw move 'e2e4' from model meta-llama/llama-3.2-1b-instruct:free
2025-07-16 20:18:19,617 - INFO - Using default board with active color: b
2025-07-16 20:18:19,617 - INFO - Attempting to interpret ambiguous move with API: 'e2e4'
2025-07-16 20:18:19,654 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e2e4'
2025-07-16 20:18:20,308 - INFO - Interpreted move 'e2e4' as 'INVALID'
2025-07-16 20:18:20,309 - WARNING - Model meta-llama/llama-3.2-1b-instruct:free made an invalid move: 'e2e4' that couldn't be interpreted (attempt 2/5)
2025-07-16 20:18:20,309 - INFO - Calling OpenRouter API with model: meta-llama/llama-3.2-1b-instruct:free
2025-07-16 20:18:20,310 - INFO - Detected 0.5 move pairs already made in the game
2025-07-16 20:18:20,310 - INFO - Model has suffix: base=meta-llama/llama-3.2-1b-instruct, suffix=:free
2025-07-16 20:18:20,310 - INFO - OpenRouter Request for meta-llama/llama-3.2-1b-instruct:free (attempt 1): {"model": "meta-llama/llama-3.2-1b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-16 20:18:20,469 - ERROR - Error calling model meta-llama/llama-3.2-1b-instruct:free (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-16 20:18:20,469 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for meta-llama/llama-3.2-1b-instruct:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-16 20:18:21,970 - INFO - Retry attempt 1/3 for model meta-llama/llama-3.2-1b-instruct:free
2025-07-16 20:18:21,971 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-16 20:18:21,971 - INFO - OpenRouter Request for meta-llama/llama-3.2-1b-instruct:free (attempt 2): {"model": "meta-llama/llama-3.2-1b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-16 20:18:22,130 - ERROR - Error calling model meta-llama/llama-3.2-1b-instruct:free (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-16 20:18:22,130 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for meta-llama/llama-3.2-1b-instruct:free.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-16 20:18:23,633 - INFO - Retry attempt 2/3 for model meta-llama/llama-3.2-1b-instruct:free
2025-07-16 20:18:23,633 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-16 20:18:23,633 - INFO - Trying base model without suffix: meta-llama/llama-3.2-1b-instruct
2025-07-16 20:18:23,633 - INFO - OpenRouter Request for meta-llama/llama-3.2-1b-instruct (attempt 3): {"model": "meta-llama/llama-3.2-1b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-16 20:18:24,391 - INFO - OpenRouter response for meta-llama/llama-3.2-1b-instruct (attempt 3): {"id": "gen-1752689903-jvvU03lDe8TT88BnUjNQ", "model": "meta-llama/llama-3.2-1b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-16 20:18:24,392 - INFO - Retry 2: Received raw move 'e2e4' from model meta-llama/llama-3.2-1b-instruct:free
2025-07-16 20:18:24,392 - INFO - Using default board with active color: b
2025-07-16 20:18:24,393 - INFO - Attempting to interpret ambiguous move with API: 'e2e4'
2025-07-16 20:18:24,425 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e2e4'
2025-07-16 20:18:25,110 - INFO - New game created: perplexity/sonar-deep-research (White) vs featherless/qwerky-72b:free (Black)
2025-07-16 20:18:25,126 - INFO - WebSocket connection established for game game_1752689905_3698
2025-07-16 20:18:25,126 - INFO - Starting game: perplexity/sonar-deep-research vs featherless/qwerky-72b:free
2025-07-16 20:18:25,128 - INFO - Calling OpenRouter API with model: perplexity/sonar-deep-research
2025-07-16 20:18:25,128 - INFO - OpenRouter Request for perplexity/sonar-deep-research (attempt 1): {"model": "perplexity/sonar-deep-research", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-16 20:18:25,204 - INFO - Interpreted move 'e2e4' as 'INVALID'
2025-07-16 20:18:25,205 - WARNING - Model meta-llama/llama-3.2-1b-instruct:free made an invalid move: 'e2e4' that couldn't be interpreted (attempt 3/5)
2025-07-16 20:18:25,205 - ERROR - Error sending WebSocket message: received 1005 (no status received [internal]); then sent 1005 (no status received [internal])
2025-07-16 20:18:31,571 - INFO - New game created: qwen/qwen-vl-max (White) vs microsoft/phi-3-mini-128k-instruct (Black)
2025-07-16 20:18:31,581 - INFO - WebSocket connection established for game game_1752689911_9083
2025-07-16 20:18:31,581 - INFO - Starting game: qwen/qwen-vl-max vs microsoft/phi-3-mini-128k-instruct
2025-07-16 20:18:31,584 - INFO - Calling OpenRouter API with model: qwen/qwen-vl-max
2025-07-16 20:18:31,585 - INFO - OpenRouter Request for qwen/qwen-vl-max (attempt 1): {"model": "qwen/qwen-vl-max", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-16 20:18:32,212 - INFO - OpenRouter response for qwen/qwen-vl-max (attempt 1): {"id": "gen-1752689911-X86gUJ2eYAqO3Dq2fBUV", "model": "qwen/qwen-vl-max", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-16 20:18:32,213 - INFO - Received raw move 'e2e4' from model qwen/qwen-vl-max
2025-07-16 20:18:32,214 - INFO - Using default board with active color: w
2025-07-16 20:18:32,215 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-16 20:18:32,218 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-16 20:18:34,284 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 ! White takes control of...
2025-07-16 20:18:34,724 - INFO - Calling OpenRouter API with model: microsoft/phi-3-mini-128k-instruct
2025-07-16 20:18:34,725 - INFO - Detected 0.5 move pairs already made in the game
2025-07-16 20:18:34,725 - INFO - OpenRouter Request for microsoft/phi-3-mini-128k-instruct (attempt 1): {"model": "microsoft/phi-3-mini-128k-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-16 20:18:35,712 - INFO - OpenRouter response for microsoft/phi-3-mini-128k-instruct (attempt 1): {"id": "gen-1752689914-bqNUo2nbosRtqzDOeTxP", "model": "microsoft/phi-3-mini-128k-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-16 20:18:35,712 - INFO - Received raw move 'e7e5' from model microsoft/phi-3-mini-128k-instruct
2025-07-16 20:18:35,713 - INFO - Using default board with active color: b
2025-07-16 20:18:35,713 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-07-16 20:18:35,715 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-16 20:18:36,775 - INFO - Received commentary from openai/gpt-4.1-mini: 1...e5 is a classical response...
2025-07-16 20:18:37,218 - INFO - Calling OpenRouter API with model: qwen/qwen-vl-max
2025-07-16 20:18:37,218 - INFO - Detected 1 move pairs already made in the game
2025-07-16 20:18:37,218 - INFO - OpenRouter Request for qwen/qwen-vl-max (attempt 1): {"model": "qwen/qwen-vl-max", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-16 20:18:37,938 - INFO - OpenRouter response for qwen/qwen-vl-max (attempt 1): {"id": "gen-1752689917-mbLJhB4sh3w1bmXUKSMq", "model": "qwen/qwen-vl-max", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-16 20:18:37,939 - INFO - Received raw move 'g1f3' from model qwen/qwen-vl-max
2025-07-16 20:18:37,939 - INFO - Using default board with active color: w
2025-07-16 20:18:37,939 - INFO - Processed move: Raw 'g1f3' -> Interpreted 'g1f3' -> UCI 'g1f3' -> SAN 'Nf3'
2025-07-16 20:18:37,942 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-16 20:18:39,160 - INFO - Received commentary from openai/gpt-4.1-mini: 2. Nf3! develops a knight towa...
2025-07-16 20:18:39,445 - INFO - Calling OpenRouter API with model: microsoft/phi-3-mini-128k-instruct
2025-07-16 20:18:39,446 - INFO - Detected 1.5 move pairs already made in the game
2025-07-16 20:18:39,446 - INFO - OpenRouter Request for microsoft/phi-3-mini-128k-instruct (attempt 1): {"model": "microsoft/phi-3-mini-128k-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-16 20:18:40,191 - INFO - OpenRouter response for microsoft/phi-3-mini-128k-instruct (attempt 1): {"id": "gen-1752689919-hDVrnvh99atVLo66inhg", "model": "microsoft/phi-3-mini-128k-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-16 20:18:40,192 - INFO - Received raw move 'd7d5' from model microsoft/phi-3-mini-128k-instruct
2025-07-16 20:18:40,192 - INFO - Using default board with active color: b
2025-07-16 20:18:40,192 - INFO - Processed move: Raw 'd7d5' -> Interpreted 'd7d5' -> UCI 'd7d5' -> SAN 'd5'
2025-07-16 20:18:40,193 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-16 20:18:41,787 - INFO - Received commentary from openai/gpt-4.1-mini: 2... d5!? challenges the cente...
2025-07-16 20:18:42,197 - INFO - Calling OpenRouter API with model: qwen/qwen-vl-max
2025-07-16 20:18:42,197 - INFO - Detected 2 move pairs already made in the game
2025-07-16 20:18:42,198 - INFO - OpenRouter Request for qwen/qwen-vl-max (attempt 1): {"model": "qwen/qwen-vl-max", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . . . . . .\n. . . p p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-16 20:18:42,853 - INFO - OpenRouter response for qwen/qwen-vl-max (attempt 1): {"id": "gen-1752689922-uEtqLkJdok5A8AkeKKOs", "model": "qwen/qwen-vl-max", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-16 20:18:42,854 - INFO - Received raw move 'e4d5' from model qwen/qwen-vl-max
2025-07-16 20:18:42,854 - INFO - Using default board with active color: w
2025-07-16 20:18:42,854 - INFO - Attempting to interpret ambiguous move with API: 'e4d5'
2025-07-16 20:18:42,888 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e4d5'
2025-07-16 20:18:43,929 - INFO - Interpreted move 'e4d5' as 'INVALID'
2025-07-16 20:18:43,930 - WARNING - Model qwen/qwen-vl-max made an invalid move: 'e4d5' that couldn't be interpreted (attempt 1/5)
2025-07-16 20:18:43,930 - INFO - Calling OpenRouter API with model: qwen/qwen-vl-max
2025-07-16 20:18:43,931 - INFO - Detected 2 move pairs already made in the game
2025-07-16 20:18:43,931 - INFO - OpenRouter Request for qwen/qwen-vl-max (attempt 1): {"model": "qwen/qwen-vl-max", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . . . . . .\n. . . p p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-16 20:18:44,521 - INFO - OpenRouter response for qwen/qwen-vl-max (attempt 1): {"id": "gen-1752689924-XNpJyi5AO5OKoqJsD5BO", "model": "qwen/qwen-vl-max", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-16 20:18:44,522 - INFO - Retry 1: Received raw move 'e4d5' from model qwen/qwen-vl-max
2025-07-16 20:18:44,522 - INFO - Using default board with active color: w
2025-07-16 20:18:44,523 - INFO - Attempting to interpret ambiguous move with API: 'e4d5'
2025-07-16 20:18:44,553 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e4d5'
2025-07-16 20:18:45,256 - INFO - Interpreted move 'e4d5' as 'INVALID'
2025-07-16 20:18:45,258 - WARNING - Model qwen/qwen-vl-max made an invalid move: 'e4d5' that couldn't be interpreted (attempt 2/5)
2025-07-16 20:18:45,258 - INFO - Calling OpenRouter API with model: qwen/qwen-vl-max
2025-07-16 20:18:45,259 - INFO - Detected 2 move pairs already made in the game
2025-07-16 20:18:45,259 - INFO - OpenRouter Request for qwen/qwen-vl-max (attempt 1): {"model": "qwen/qwen-vl-max", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . . . . . .\n. . . p p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-16 20:18:45,935 - INFO - OpenRouter response for qwen/qwen-vl-max (attempt 1): {"id": "gen-1752689925-hs1LmmkzzDjSH51MOb1b", "model": "qwen/qwen-vl-max", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-16 20:18:45,936 - INFO - Retry 2: Received raw move 'e4d5' from model qwen/qwen-vl-max
2025-07-16 20:18:45,936 - INFO - Using default board with active color: w
2025-07-16 20:18:45,936 - INFO - Attempting to interpret ambiguous move with API: 'e4d5'
2025-07-16 20:18:45,967 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e4d5'
2025-07-16 20:18:46,577 - INFO - Interpreted move 'e4d5' as 'INVALID'
2025-07-16 20:18:46,578 - WARNING - Model qwen/qwen-vl-max made an invalid move: 'e4d5' that couldn't be interpreted (attempt 3/5)
2025-07-16 20:18:46,579 - INFO - Calling OpenRouter API with model: qwen/qwen-vl-max
2025-07-16 20:18:46,579 - INFO - Detected 2 move pairs already made in the game
2025-07-16 20:18:46,579 - INFO - OpenRouter Request for qwen/qwen-vl-max (attempt 1): {"model": "qwen/qwen-vl-max", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . . . . . .\n. . . p p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-16 20:18:47,269 - INFO - OpenRouter response for qwen/qwen-vl-max (attempt 1): {"id": "gen-1752689926-llWL8vjk35o7wLXRaJax", "model": "qwen/qwen-vl-max", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-16 20:18:47,270 - INFO - Retry 3: Received raw move 'e4d5' from model qwen/qwen-vl-max
2025-07-16 20:18:47,271 - INFO - Using default board with active color: w
2025-07-16 20:18:47,271 - INFO - Attempting to interpret ambiguous move with API: 'e4d5'
2025-07-16 20:18:47,301 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e4d5'
2025-07-16 20:18:47,936 - INFO - Interpreted move 'e4d5' as 'INVALID'
2025-07-16 20:18:47,937 - WARNING - Model qwen/qwen-vl-max made an invalid move: 'e4d5' that couldn't be interpreted (attempt 4/5)
2025-07-16 20:18:47,937 - INFO - Calling OpenRouter API with model: qwen/qwen-vl-max
2025-07-16 20:18:47,938 - INFO - Detected 2 move pairs already made in the game
2025-07-16 20:18:47,938 - INFO - OpenRouter Request for qwen/qwen-vl-max (attempt 1): {"model": "qwen/qwen-vl-max", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . . . . . .\n. . . p p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-16 20:18:48,688 - INFO - OpenRouter response for qwen/qwen-vl-max (attempt 1): {"id": "gen-1752689928-9WwExQLu6j7JxnedLnVN", "model": "qwen/qwen-vl-max", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-16 20:18:48,689 - INFO - Retry 4: Received raw move 'e4d5' from model qwen/qwen-vl-max
2025-07-16 20:18:48,689 - INFO - Using default board with active color: w
2025-07-16 20:18:48,690 - INFO - Attempting to interpret ambiguous move with API: 'e4d5'
2025-07-16 20:18:48,710 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e4d5'
2025-07-16 20:18:49,249 - INFO - Interpreted move 'e4d5' as 'INVALID'
2025-07-16 20:18:49,251 - WARNING - Model qwen/qwen-vl-max made an invalid move: 'e4d5' that couldn't be interpreted (attempt 5/5)
2025-07-16 20:18:49,251 - ERROR - Model qwen/qwen-vl-max failed to make a valid move after 5 attempts
2025-07-16 20:18:49,251 - INFO - Requesting game over explanation from openai/gpt-4.1-mini
2025-07-16 20:18:51,316 - INFO - Received game over explanation: qwen/qwen-vl-max lost because it tried to make a m...
2025-07-16 20:18:53,653 - INFO - New game created: allenai/olmo-7b-instruct (White) vs scb10x/llama3.1-typhoon2-8b-instruct (Black)
2025-07-16 20:18:53,666 - INFO - WebSocket connection established for game game_1752689933_3205
2025-07-16 20:18:53,666 - INFO - Starting game: allenai/olmo-7b-instruct vs scb10x/llama3.1-typhoon2-8b-instruct
2025-07-16 20:18:53,668 - INFO - Calling OpenRouter API with model: allenai/olmo-7b-instruct
2025-07-16 20:18:53,668 - INFO - OpenRouter Request for allenai/olmo-7b-instruct (attempt 1): {"model": "allenai/olmo-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-16 20:18:53,875 - ERROR - Error calling model allenai/olmo-7b-instruct (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-16 20:18:53,876 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for allenai/olmo-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-16 20:18:55,380 - INFO - Retry attempt 1/3 for model allenai/olmo-7b-instruct
2025-07-16 20:18:55,380 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-16 20:18:55,380 - INFO - OpenRouter Request for allenai/olmo-7b-instruct (attempt 2): {"model": "allenai/olmo-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-16 20:18:55,653 - ERROR - Error calling model allenai/olmo-7b-instruct (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-16 20:18:55,654 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for allenai/olmo-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-16 20:18:57,155 - INFO - Retry attempt 2/3 for model allenai/olmo-7b-instruct
2025-07-16 20:18:57,155 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-16 20:18:57,155 - INFO - OpenRouter Request for allenai/olmo-7b-instruct (attempt 3): {"model": "allenai/olmo-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-16 20:18:57,324 - ERROR - Error calling model allenai/olmo-7b-instruct (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-16 20:18:57,324 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for allenai/olmo-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-16 20:18:58,829 - INFO - Retry attempt 3/3 for model allenai/olmo-7b-instruct
2025-07-16 20:18:58,830 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-16 20:18:58,830 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-16 20:18:58,830 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as WHITE.\nCurrent board:\n\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-16 20:18:59,586 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752689938-Gpyp6dH2t8RMrcnVc9A8", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-16 20:18:59,587 - INFO - Received raw move 'e2e4' from model allenai/olmo-7b-instruct
2025-07-16 20:18:59,587 - INFO - Using default board with active color: w
2025-07-16 20:18:59,588 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-16 20:18:59,589 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-16 20:19:00,853 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4! White stakes a strong c...
2025-07-16 20:19:01,092 - INFO - Calling OpenRouter API with model: scb10x/llama3.1-typhoon2-8b-instruct
2025-07-16 20:19:01,093 - INFO - Detected 0.5 move pairs already made in the game
2025-07-16 20:19:01,093 - INFO - OpenRouter Request for scb10x/llama3.1-typhoon2-8b-instruct (attempt 1): {"model": "scb10x/llama3.1-typhoon2-8b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-16 20:19:01,228 - ERROR - Error calling model scb10x/llama3.1-typhoon2-8b-instruct (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-16 20:19:01,228 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for scb10x/llama3.1-typhoon2-8b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-16 20:19:02,728 - INFO - Retry attempt 1/3 for model scb10x/llama3.1-typhoon2-8b-instruct
2025-07-16 20:19:02,728 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-16 20:19:02,729 - INFO - OpenRouter Request for scb10x/llama3.1-typhoon2-8b-instruct (attempt 2): {"model": "scb10x/llama3.1-typhoon2-8b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-16 20:19:02,948 - ERROR - Error calling model scb10x/llama3.1-typhoon2-8b-instruct (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-16 20:19:02,949 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for scb10x/llama3.1-typhoon2-8b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-16 20:19:04,451 - INFO - Retry attempt 2/3 for model scb10x/llama3.1-typhoon2-8b-instruct
2025-07-16 20:19:04,452 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-16 20:19:04,452 - INFO - OpenRouter Request for scb10x/llama3.1-typhoon2-8b-instruct (attempt 3): {"model": "scb10x/llama3.1-typhoon2-8b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-16 20:19:04,635 - ERROR - Error calling model scb10x/llama3.1-typhoon2-8b-instruct (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-16 20:19:04,635 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for scb10x/llama3.1-typhoon2-8b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-16 20:19:06,136 - INFO - Retry attempt 3/3 for model scb10x/llama3.1-typhoon2-8b-instruct
2025-07-16 20:19:06,136 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-16 20:19:06,136 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-16 20:19:06,136 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-16 20:19:07,048 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752689946-4AKJsMwS2Vw7hHnWULMl", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-16 20:19:07,049 - INFO - Received raw move 'e7e5' from model scb10x/llama3.1-typhoon2-8b-instruct
2025-07-16 20:19:07,050 - INFO - Using default board with active color: b
2025-07-16 20:19:07,050 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-07-16 20:19:07,051 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-16 20:19:08,281 - INFO - Received commentary from openai/gpt-4.1-mini: Black's move 1... e5 challenge...
2025-07-16 20:19:08,553 - INFO - Calling OpenRouter API with model: allenai/olmo-7b-instruct
2025-07-16 20:19:08,554 - INFO - Detected 1 move pairs already made in the game
2025-07-16 20:19:08,554 - INFO - OpenRouter Request for allenai/olmo-7b-instruct (attempt 1): {"model": "allenai/olmo-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-16 20:19:08,752 - ERROR - Error calling model allenai/olmo-7b-instruct (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-16 20:19:08,753 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for allenai/olmo-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-16 20:19:10,253 - INFO - Retry attempt 1/3 for model allenai/olmo-7b-instruct
2025-07-16 20:19:10,254 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-16 20:19:10,254 - INFO - OpenRouter Request for allenai/olmo-7b-instruct (attempt 2): {"model": "allenai/olmo-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-16 20:19:10,419 - ERROR - Error calling model allenai/olmo-7b-instruct (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-16 20:19:10,419 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for allenai/olmo-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-16 20:19:11,920 - INFO - Retry attempt 2/3 for model allenai/olmo-7b-instruct
2025-07-16 20:19:11,921 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-16 20:19:11,921 - INFO - OpenRouter Request for allenai/olmo-7b-instruct (attempt 3): {"model": "allenai/olmo-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-16 20:19:12,067 - ERROR - Error calling model allenai/olmo-7b-instruct (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-16 20:19:12,068 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for allenai/olmo-7b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-16 20:19:13,568 - INFO - Retry attempt 3/3 for model allenai/olmo-7b-instruct
2025-07-16 20:19:13,569 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-16 20:19:13,569 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-16 20:19:13,569 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as WHITE.\nCurrent board:\n\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-16 20:19:13,835 - INFO - OpenRouter response for perplexity/sonar-deep-research (attempt 1): {"id": "gen-1752689905-R6zTVKqjtNxckHFL5Rp8", "model": "perplexity/sonar-deep-research", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-16 20:19:13,836 - INFO - Received raw move 'e2e4' from model perplexity/sonar-deep-research
2025-07-16 20:19:13,836 - INFO - Using default board with active color: w
2025-07-16 20:19:13,836 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-16 20:19:13,836 - ERROR - Error sending WebSocket message: received 1005 (no status received [internal]); then sent 1005 (no status received [internal])
2025-07-16 20:19:13,836 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-16 20:19:14,301 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752689953-JytpAsJKdnT4Pydh6Veg", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-16 20:19:14,302 - INFO - Received raw move 'd2d4' from model allenai/olmo-7b-instruct
2025-07-16 20:19:14,302 - INFO - Using default board with active color: w
2025-07-16 20:19:14,302 - INFO - Processed move: Raw 'd2d4' -> Interpreted 'd2d4' -> UCI 'd2d4' -> SAN 'd4'
2025-07-16 20:19:14,303 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-16 20:19:15,122 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a strong opening move...
2025-07-16 20:19:15,379 - INFO - Received commentary from openai/gpt-4.1-mini: 2. d4!? White challenges the c...
2025-07-16 20:19:15,805 - INFO - Calling OpenRouter API with model: scb10x/llama3.1-typhoon2-8b-instruct
2025-07-16 20:19:15,806 - INFO - Detected 1.5 move pairs already made in the game
2025-07-16 20:19:15,806 - INFO - OpenRouter Request for scb10x/llama3.1-typhoon2-8b-instruct (attempt 1): {"model": "scb10x/llama3.1-typhoon2-8b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-16 20:19:15,967 - ERROR - Error calling model scb10x/llama3.1-typhoon2-8b-instruct (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-16 20:19:15,967 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for scb10x/llama3.1-typhoon2-8b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-16 20:19:17,469 - INFO - Retry attempt 1/3 for model scb10x/llama3.1-typhoon2-8b-instruct
2025-07-16 20:19:17,469 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-16 20:19:17,469 - INFO - OpenRouter Request for scb10x/llama3.1-typhoon2-8b-instruct (attempt 2): {"model": "scb10x/llama3.1-typhoon2-8b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-16 20:19:17,799 - ERROR - Error calling model scb10x/llama3.1-typhoon2-8b-instruct (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-16 20:19:17,800 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for scb10x/llama3.1-typhoon2-8b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-16 20:19:19,301 - INFO - Retry attempt 2/3 for model scb10x/llama3.1-typhoon2-8b-instruct
2025-07-16 20:19:19,301 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-16 20:19:19,301 - INFO - OpenRouter Request for scb10x/llama3.1-typhoon2-8b-instruct (attempt 3): {"model": "scb10x/llama3.1-typhoon2-8b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-16 20:19:19,463 - ERROR - Error calling model scb10x/llama3.1-typhoon2-8b-instruct (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-16 20:19:19,463 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for scb10x/llama3.1-typhoon2-8b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-16 20:19:20,965 - INFO - Retry attempt 3/3 for model scb10x/llama3.1-typhoon2-8b-instruct
2025-07-16 20:19:20,966 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-16 20:19:20,966 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-16 20:19:20,966 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-16 20:19:22,055 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752689961-wdqulS8ANhUNFwxXlnYT", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-16 20:19:22,056 - INFO - Received raw move 'e5d4' from model scb10x/llama3.1-typhoon2-8b-instruct
2025-07-16 20:19:22,057 - INFO - Using default board with active color: b
2025-07-16 20:19:22,057 - INFO - Attempting to interpret ambiguous move with API: 'e5d4'
2025-07-16 20:19:22,096 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5d4'
2025-07-16 20:19:24,034 - INFO - Interpreted move 'e5d4' as 'e5d4'
2025-07-16 20:19:24,035 - WARNING - Interpreted move 'e5d4' is not legal on the current board
2025-07-16 20:19:24,035 - WARNING - Model scb10x/llama3.1-typhoon2-8b-instruct made an invalid move: 'e5d4' that couldn't be interpreted (attempt 1/5)
2025-07-16 20:19:24,036 - INFO - Calling OpenRouter API with model: scb10x/llama3.1-typhoon2-8b-instruct
2025-07-16 20:19:24,036 - INFO - Detected 1.5 move pairs already made in the game
2025-07-16 20:19:24,036 - INFO - OpenRouter Request for scb10x/llama3.1-typhoon2-8b-instruct (attempt 1): {"model": "scb10x/llama3.1-typhoon2-8b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-16 20:19:24,207 - ERROR - Error calling model scb10x/llama3.1-typhoon2-8b-instruct (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-16 20:19:24,208 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for scb10x/llama3.1-typhoon2-8b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-16 20:19:25,709 - INFO - Retry attempt 1/3 for model scb10x/llama3.1-typhoon2-8b-instruct
2025-07-16 20:19:25,710 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-16 20:19:25,710 - INFO - OpenRouter Request for scb10x/llama3.1-typhoon2-8b-instruct (attempt 2): {"model": "scb10x/llama3.1-typhoon2-8b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-16 20:19:26,000 - ERROR - Error calling model scb10x/llama3.1-typhoon2-8b-instruct (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-16 20:19:26,001 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for scb10x/llama3.1-typhoon2-8b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-16 20:19:27,502 - INFO - Retry attempt 2/3 for model scb10x/llama3.1-typhoon2-8b-instruct
2025-07-16 20:19:27,502 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-16 20:19:27,502 - INFO - OpenRouter Request for scb10x/llama3.1-typhoon2-8b-instruct (attempt 3): {"model": "scb10x/llama3.1-typhoon2-8b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-16 20:19:27,700 - ERROR - Error calling model scb10x/llama3.1-typhoon2-8b-instruct (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-16 20:19:27,700 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for scb10x/llama3.1-typhoon2-8b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-16 20:19:29,201 - INFO - Retry attempt 3/3 for model scb10x/llama3.1-typhoon2-8b-instruct
2025-07-16 20:19:29,202 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-16 20:19:29,202 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-16 20:19:29,202 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-16 20:19:29,854 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752689969-5CPBJdDDX8TQwrEFFuEa", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-16 20:19:29,855 - INFO - Retry 1: Received raw move 'e5d4' from model scb10x/llama3.1-typhoon2-8b-instruct
2025-07-16 20:19:29,855 - INFO - Using default board with active color: b
2025-07-16 20:19:29,856 - INFO - Attempting to interpret ambiguous move with API: 'e5d4'
2025-07-16 20:19:29,893 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5d4'
2025-07-16 20:19:30,583 - INFO - Interpreted move 'e5d4' as 'e5d4'
2025-07-16 20:19:30,583 - WARNING - Interpreted move 'e5d4' is not legal on the current board
2025-07-16 20:19:30,584 - WARNING - Model scb10x/llama3.1-typhoon2-8b-instruct made an invalid move: 'e5d4' that couldn't be interpreted (attempt 2/5)
2025-07-16 20:19:30,584 - INFO - Calling OpenRouter API with model: scb10x/llama3.1-typhoon2-8b-instruct
2025-07-16 20:19:30,585 - INFO - Detected 1.5 move pairs already made in the game
2025-07-16 20:19:30,585 - INFO - OpenRouter Request for scb10x/llama3.1-typhoon2-8b-instruct (attempt 1): {"model": "scb10x/llama3.1-typhoon2-8b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-16 20:19:30,729 - ERROR - Error calling model scb10x/llama3.1-typhoon2-8b-instruct (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-16 20:19:30,730 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for scb10x/llama3.1-typhoon2-8b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-16 20:19:32,230 - INFO - Retry attempt 1/3 for model scb10x/llama3.1-typhoon2-8b-instruct
2025-07-16 20:19:32,231 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-16 20:19:32,231 - INFO - OpenRouter Request for scb10x/llama3.1-typhoon2-8b-instruct (attempt 2): {"model": "scb10x/llama3.1-typhoon2-8b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-16 20:19:32,417 - ERROR - Error calling model scb10x/llama3.1-typhoon2-8b-instruct (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-16 20:19:32,417 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for scb10x/llama3.1-typhoon2-8b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-16 20:19:33,919 - INFO - Retry attempt 2/3 for model scb10x/llama3.1-typhoon2-8b-instruct
2025-07-16 20:19:33,919 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-16 20:19:33,919 - INFO - OpenRouter Request for scb10x/llama3.1-typhoon2-8b-instruct (attempt 3): {"model": "scb10x/llama3.1-typhoon2-8b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-16 20:19:34,075 - ERROR - Error calling model scb10x/llama3.1-typhoon2-8b-instruct (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-16 20:19:34,075 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for scb10x/llama3.1-typhoon2-8b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-16 20:19:35,577 - INFO - Retry attempt 3/3 for model scb10x/llama3.1-typhoon2-8b-instruct
2025-07-16 20:19:35,577 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-16 20:19:35,577 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-16 20:19:35,577 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-16 20:19:36,512 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752689975-xDHAx4T6ZZcqszHV4SAI", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-16 20:19:36,513 - INFO - Retry 2: Received raw move 'e5d4' from model scb10x/llama3.1-typhoon2-8b-instruct
2025-07-16 20:19:36,513 - INFO - Using default board with active color: b
2025-07-16 20:19:36,513 - INFO - Attempting to interpret ambiguous move with API: 'e5d4'
2025-07-16 20:19:36,537 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5d4'
2025-07-16 20:19:37,210 - INFO - Interpreted move 'e5d4' as 'e5d4'
2025-07-16 20:19:37,211 - WARNING - Interpreted move 'e5d4' is not legal on the current board
2025-07-16 20:19:37,211 - WARNING - Model scb10x/llama3.1-typhoon2-8b-instruct made an invalid move: 'e5d4' that couldn't be interpreted (attempt 3/5)
2025-07-16 20:19:37,211 - INFO - Calling OpenRouter API with model: scb10x/llama3.1-typhoon2-8b-instruct
2025-07-16 20:19:37,211 - INFO - Detected 1.5 move pairs already made in the game
2025-07-16 20:19:37,211 - INFO - OpenRouter Request for scb10x/llama3.1-typhoon2-8b-instruct (attempt 1): {"model": "scb10x/llama3.1-typhoon2-8b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-16 20:19:37,373 - ERROR - Error calling model scb10x/llama3.1-typhoon2-8b-instruct (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-16 20:19:37,374 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for scb10x/llama3.1-typhoon2-8b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-16 20:19:38,875 - INFO - Retry attempt 1/3 for model scb10x/llama3.1-typhoon2-8b-instruct
2025-07-16 20:19:38,875 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-16 20:19:38,875 - INFO - OpenRouter Request for scb10x/llama3.1-typhoon2-8b-instruct (attempt 2): {"model": "scb10x/llama3.1-typhoon2-8b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-16 20:19:39,013 - ERROR - Error calling model scb10x/llama3.1-typhoon2-8b-instruct (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-16 20:19:39,013 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for scb10x/llama3.1-typhoon2-8b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-16 20:19:40,516 - INFO - Retry attempt 2/3 for model scb10x/llama3.1-typhoon2-8b-instruct
2025-07-16 20:19:40,516 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-16 20:19:40,516 - INFO - OpenRouter Request for scb10x/llama3.1-typhoon2-8b-instruct (attempt 3): {"model": "scb10x/llama3.1-typhoon2-8b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-16 20:19:40,714 - ERROR - Error calling model scb10x/llama3.1-typhoon2-8b-instruct (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-16 20:19:40,714 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for scb10x/llama3.1-typhoon2-8b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-16 20:19:42,215 - INFO - Retry attempt 3/3 for model scb10x/llama3.1-typhoon2-8b-instruct
2025-07-16 20:19:42,215 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-16 20:19:42,216 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-16 20:19:42,216 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-16 20:19:43,069 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752689982-4HFdy4HOBOhyO0mbUYvs", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-16 20:19:43,070 - INFO - Retry 3: Received raw move 'e5d4' from model scb10x/llama3.1-typhoon2-8b-instruct
2025-07-16 20:19:43,070 - INFO - Using default board with active color: b
2025-07-16 20:19:43,070 - INFO - Attempting to interpret ambiguous move with API: 'e5d4'
2025-07-16 20:19:43,107 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5d4'
2025-07-16 20:19:43,800 - INFO - Interpreted move 'e5d4' as 'e5d4'
2025-07-16 20:19:43,801 - WARNING - Interpreted move 'e5d4' is not legal on the current board
2025-07-16 20:19:43,801 - WARNING - Model scb10x/llama3.1-typhoon2-8b-instruct made an invalid move: 'e5d4' that couldn't be interpreted (attempt 4/5)
2025-07-16 20:19:43,802 - INFO - Calling OpenRouter API with model: scb10x/llama3.1-typhoon2-8b-instruct
2025-07-16 20:19:43,802 - INFO - Detected 1.5 move pairs already made in the game
2025-07-16 20:19:43,802 - INFO - OpenRouter Request for scb10x/llama3.1-typhoon2-8b-instruct (attempt 1): {"model": "scb10x/llama3.1-typhoon2-8b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-16 20:19:43,928 - ERROR - Error calling model scb10x/llama3.1-typhoon2-8b-instruct (attempt 1): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-16 20:19:43,929 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for scb10x/llama3.1-typhoon2-8b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-16 20:19:45,430 - INFO - Retry attempt 1/3 for model scb10x/llama3.1-typhoon2-8b-instruct
2025-07-16 20:19:45,430 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-16 20:19:45,431 - INFO - OpenRouter Request for scb10x/llama3.1-typhoon2-8b-instruct (attempt 2): {"model": "scb10x/llama3.1-typhoon2-8b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-16 20:19:45,622 - ERROR - Error calling model scb10x/llama3.1-typhoon2-8b-instruct (attempt 2): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-16 20:19:45,622 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for scb10x/llama3.1-typhoon2-8b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-16 20:19:47,124 - INFO - Retry attempt 2/3 for model scb10x/llama3.1-typhoon2-8b-instruct
2025-07-16 20:19:47,125 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-16 20:19:47,125 - INFO - OpenRouter Request for scb10x/llama3.1-typhoon2-8b-instruct (attempt 3): {"model": "scb10x/llama3.1-typhoon2-8b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-16 20:19:47,269 - ERROR - Error calling model scb10x/llama3.1-typhoon2-8b-instruct (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-16 20:19:47,269 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for scb10x/llama3.1-typhoon2-8b-instruct.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-16 20:19:48,770 - INFO - Retry attempt 3/3 for model scb10x/llama3.1-typhoon2-8b-instruct
2025-07-16 20:19:48,771 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-16 20:19:48,771 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-16 20:19:48,771 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-16 20:19:49,817 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752689988-eFW830X4Im98Y36BzQiZ", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-16 20:19:49,818 - INFO - Retry 4: Received raw move 'e5d4' from model scb10x/llama3.1-typhoon2-8b-instruct
2025-07-16 20:19:49,818 - INFO - Using default board with active color: b
2025-07-16 20:19:49,819 - INFO - Attempting to interpret ambiguous move with API: 'e5d4'
2025-07-16 20:19:49,851 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5d4'
2025-07-16 20:19:50,494 - INFO - Interpreted move 'e5d4' as 'e5d4'
2025-07-16 20:19:50,495 - WARNING - Interpreted move 'e5d4' is not legal on the current board
2025-07-16 20:19:50,495 - WARNING - Model scb10x/llama3.1-typhoon2-8b-instruct made an invalid move: 'e5d4' that couldn't be interpreted (attempt 5/5)
2025-07-16 20:19:50,495 - ERROR - Model scb10x/llama3.1-typhoon2-8b-instruct failed to make a valid move after 5 attempts
2025-07-16 20:19:50,495 - INFO - Requesting game over explanation from openai/gpt-4.1-mini
2025-07-16 20:19:52,697 - INFO - Received game over explanation: scb10x/llama3.1-typhoon2-8b-instruct lost because ...
2025-07-17 22:49:17,220 - INFO - AI Chess Arena starting up...
2025-07-17 22:49:17,221 - INFO - Loaded 178 previous game results from results.txt
2025-07-17 22:49:20,063 - INFO - New game created: qwen/qwen-turbo (White) vs qwen/qwen3-32b:free (Black)
2025-07-17 22:49:20,077 - INFO - WebSocket connection established for game game_1752785360_9890
2025-07-17 22:49:20,077 - INFO - Starting game: qwen/qwen-turbo vs qwen/qwen3-32b:free
2025-07-17 22:49:20,079 - INFO - Calling OpenRouter API with model: qwen/qwen-turbo
2025-07-17 22:49:20,080 - INFO - OpenRouter Request for qwen/qwen-turbo (attempt 1): {"model": "qwen/qwen-turbo", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:49:21,602 - INFO - OpenRouter response for qwen/qwen-turbo (attempt 1): {"id": "gen-1752785360-T8NeNJhFwVpd4BlW42UI", "model": "qwen/qwen-turbo", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:49:21,603 - INFO - Received raw move 'e2e4' from model qwen/qwen-turbo
2025-07-17 22:49:21,603 - INFO - Using default board with active color: w
2025-07-17 22:49:21,603 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-17 22:49:21,604 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:49:22,886 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a strong opening move...
2025-07-17 22:49:23,110 - INFO - Calling OpenRouter API with model: qwen/qwen3-32b:free
2025-07-17 22:49:23,110 - INFO - Detected 0.5 move pairs already made in the game
2025-07-17 22:49:23,110 - INFO - Model has suffix: base=qwen/qwen3-32b, suffix=:free
2025-07-17 22:49:23,110 - INFO - OpenRouter Request for qwen/qwen3-32b:free (attempt 1): {"model": "qwen/qwen3-32b:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:49:38,580 - INFO - OpenRouter response for qwen/qwen3-32b:free (attempt 1): {"id": "gen-1752785363-ryynQBVCHUGOo6NYrW9v", "model": "qwen/qwen3-32b:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:49:38,581 - INFO - Received raw move 'e7e5' from model qwen/qwen3-32b:free
2025-07-17 22:49:38,581 - INFO - Using default board with active color: b
2025-07-17 22:49:38,581 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-07-17 22:49:38,583 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:49:39,917 - INFO - Received commentary from openai/gpt-4.1-mini: Black's 1...e5 is a classical ...
2025-07-17 22:49:40,085 - INFO - Calling OpenRouter API with model: qwen/qwen-turbo
2025-07-17 22:49:40,085 - INFO - Detected 1 move pairs already made in the game
2025-07-17 22:49:40,086 - INFO - OpenRouter Request for qwen/qwen-turbo (attempt 1): {"model": "qwen/qwen-turbo", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:49:41,183 - INFO - OpenRouter response for qwen/qwen-turbo (attempt 1): {"id": "gen-1752785380-A1n7hSIaWMp0s8DYFZW4", "model": "qwen/qwen-turbo", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:49:41,183 - INFO - Received raw move 'e2e4' from model qwen/qwen-turbo
2025-07-17 22:49:41,184 - INFO - Using default board with active color: w
2025-07-17 22:49:41,184 - ERROR - Failed to convert move 'e2e4': ValueError: Illegal move: e2e4
2025-07-17 22:49:41,184 - WARNING - Move parsing attempt 1/5 failed, retrying...
2025-07-17 22:49:41,184 - INFO - Calling OpenRouter API with model: qwen/qwen-turbo
2025-07-17 22:49:41,184 - INFO - Detected 1 move pairs already made in the game
2025-07-17 22:49:41,184 - INFO - OpenRouter Request for qwen/qwen-turbo (attempt 1): {"model": "qwen/qwen-turbo", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:49:42,110 - INFO - OpenRouter response for qwen/qwen-turbo (attempt 1): {"id": "gen-1752785381-KaMDGhWQWS59KEPz38ok", "model": "qwen/qwen-turbo", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:49:42,111 - INFO - Move retry 1: Received raw move 'e2e4' from model qwen/qwen-turbo
2025-07-17 22:49:42,111 - INFO - Using default board with active color: w
2025-07-17 22:49:42,112 - ERROR - Failed to convert move 'e2e4': ValueError: Illegal move: e2e4
2025-07-17 22:49:42,112 - WARNING - Move parsing attempt 2/5 failed, retrying...
2025-07-17 22:49:42,112 - INFO - Calling OpenRouter API with model: qwen/qwen-turbo
2025-07-17 22:49:42,112 - INFO - Detected 1 move pairs already made in the game
2025-07-17 22:49:42,112 - INFO - OpenRouter Request for qwen/qwen-turbo (attempt 1): {"model": "qwen/qwen-turbo", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:49:42,898 - INFO - OpenRouter response for qwen/qwen-turbo (attempt 1): {"id": "gen-1752785382-P9rJbhgkyUsGJM9gtsFf", "model": "qwen/qwen-turbo", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:49:42,899 - INFO - Move retry 2: Received raw move 'e2e4' from model qwen/qwen-turbo
2025-07-17 22:49:42,899 - INFO - Using default board with active color: w
2025-07-17 22:49:42,899 - ERROR - Failed to convert move 'e2e4': ValueError: Illegal move: e2e4
2025-07-17 22:49:42,899 - WARNING - Move parsing attempt 3/5 failed, retrying...
2025-07-17 22:49:42,900 - INFO - Calling OpenRouter API with model: qwen/qwen-turbo
2025-07-17 22:49:42,900 - INFO - Detected 1 move pairs already made in the game
2025-07-17 22:49:42,900 - INFO - OpenRouter Request for qwen/qwen-turbo (attempt 1): {"model": "qwen/qwen-turbo", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:49:43,860 - INFO - OpenRouter response for qwen/qwen-turbo (attempt 1): {"id": "gen-1752785383-3MMQ4kWy2dubMJF2mK07", "model": "qwen/qwen-turbo", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:49:43,861 - INFO - Move retry 3: Received raw move 'd2d4' from model qwen/qwen-turbo
2025-07-17 22:49:43,861 - INFO - Using default board with active color: w
2025-07-17 22:49:43,861 - INFO - Processed move: Raw 'd2d4' -> Interpreted 'd2d4' -> UCI 'd2d4' -> SAN 'd4'
2025-07-17 22:49:43,864 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:49:44,818 - INFO - Received commentary from openai/gpt-4.1-mini: 2. d4 is a good move! White ch...
2025-07-17 22:49:44,864 - INFO - Calling OpenRouter API with model: qwen/qwen3-32b:free
2025-07-17 22:49:44,865 - INFO - Detected 1.5 move pairs already made in the game
2025-07-17 22:49:44,865 - INFO - Model has suffix: base=qwen/qwen3-32b, suffix=:free
2025-07-17 22:49:44,865 - INFO - OpenRouter Request for qwen/qwen3-32b:free (attempt 1): {"model": "qwen/qwen3-32b:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:49:54,329 - INFO - New game created: perplexity/sonar-reasoning-pro (White) vs openai/gpt-4-turbo (Black)
2025-07-17 22:49:54,339 - INFO - WebSocket connection established for game game_1752785394_2376
2025-07-17 22:49:54,339 - INFO - Starting game: perplexity/sonar-reasoning-pro vs openai/gpt-4-turbo
2025-07-17 22:49:54,340 - INFO - Calling OpenRouter API with model: perplexity/sonar-reasoning-pro
2025-07-17 22:49:54,340 - INFO - OpenRouter Request for perplexity/sonar-reasoning-pro (attempt 1): {"model": "perplexity/sonar-reasoning-pro", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:50:03,331 - INFO - OpenRouter response for qwen/qwen3-32b:free (attempt 1): {"id": "gen-1752785385-hInnUKuxZFH7dJjTtzxJ", "model": "qwen/qwen3-32b:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:50:03,332 - INFO - Received raw move 'd7d5' from model qwen/qwen3-32b:free
2025-07-17 22:50:03,332 - INFO - Using default board with active color: b
2025-07-17 22:50:03,332 - INFO - Processed move: Raw 'd7d5' -> Interpreted 'd7d5' -> UCI 'd7d5' -> SAN 'd5'
2025-07-17 22:50:03,333 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-07-17 22:50:03,333 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:50:04,513 - INFO - Received commentary from openai/gpt-4.1-mini: Black's 2...d5 challenges Whit...
2025-07-17 22:50:15,522 - INFO - OpenRouter response for perplexity/sonar-reasoning-pro (attempt 1): {"id": "gen-1752785394-DtgOBtlJeGzHXWeBq3iJ", "model": "perplexity/sonar-reasoning-pro", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:50:15,522 - INFO - Received raw move 'e2e4' from model perplexity/sonar-reasoning-pro
2025-07-17 22:50:15,522 - INFO - Using default board with active color: w
2025-07-17 22:50:15,523 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-17 22:50:15,523 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:50:16,918 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a classical opening m...
2025-07-17 22:50:17,026 - INFO - Calling OpenRouter API with model: openai/gpt-4-turbo
2025-07-17 22:50:17,026 - INFO - Detected 0.5 move pairs already made in the game
2025-07-17 22:50:17,026 - INFO - OpenRouter Request for openai/gpt-4-turbo (attempt 1): {"model": "openai/gpt-4-turbo", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:50:18,178 - INFO - OpenRouter response for openai/gpt-4-turbo (attempt 1): {"id": "gen-1752785417-GT7ckZ9PVRg3hQiPJ8b1", "model": "openai/gpt-4-turbo", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:50:18,179 - INFO - Received raw move 'e7e5' from model openai/gpt-4-turbo
2025-07-17 22:50:18,179 - INFO - Using default board with active color: b
2025-07-17 22:50:18,180 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-07-17 22:50:18,181 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:50:19,203 - INFO - Received commentary from openai/gpt-4.1-mini: 1...e5 is a classical response...
2025-07-17 22:50:19,685 - INFO - Calling OpenRouter API with model: perplexity/sonar-reasoning-pro
2025-07-17 22:50:19,685 - INFO - Detected 1 move pairs already made in the game
2025-07-17 22:50:19,685 - INFO - OpenRouter Request for perplexity/sonar-reasoning-pro (attempt 1): {"model": "perplexity/sonar-reasoning-pro", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:50:28,259 - INFO - New game created: mistralai/mistral-small-3.1-24b-instruct (White) vs rekaai/reka-flash-3 (Black)
2025-07-17 22:50:28,275 - INFO - WebSocket connection established for game game_1752785428_1209
2025-07-17 22:50:28,275 - INFO - Starting game: mistralai/mistral-small-3.1-24b-instruct vs rekaai/reka-flash-3
2025-07-17 22:50:28,276 - INFO - Calling OpenRouter API with model: mistralai/mistral-small-3.1-24b-instruct
2025-07-17 22:50:28,276 - INFO - OpenRouter Request for mistralai/mistral-small-3.1-24b-instruct (attempt 1): {"model": "mistralai/mistral-small-3.1-24b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:50:29,069 - INFO - OpenRouter response for mistralai/mistral-small-3.1-24b-instruct (attempt 1): {"id": "gen-1752785428-RxFyseSRRJ2BDkKTXTmp", "model": "mistralai/mistral-small-3.1-24b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:50:29,070 - INFO - Received raw move 'e2e4' from model mistralai/mistral-small-3.1-24b-instruct
2025-07-17 22:50:29,071 - INFO - Using default board with active color: w
2025-07-17 22:50:29,071 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-17 22:50:29,072 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:50:30,113 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a classic opening mov...
2025-07-17 22:50:30,575 - INFO - Calling OpenRouter API with model: rekaai/reka-flash-3
2025-07-17 22:50:30,575 - INFO - Detected 0.5 move pairs already made in the game
2025-07-17 22:50:30,576 - INFO - OpenRouter Request for rekaai/reka-flash-3 (attempt 1): {"model": "rekaai/reka-flash-3", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:50:41,356 - INFO - OpenRouter response for rekaai/reka-flash-3 (attempt 1): {"id": "gen-1752785430-c2tBETPk8xSo0ZeyNBFP", "model": "rekaai/reka-flash-3", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:50:41,356 - INFO - Received raw move '<reasoning>
I need to make a m' from model rekaai/reka-flash-3
2025-07-17 22:50:41,357 - INFO - Model returned multiline response. Using first line: '<reasoning>'
2025-07-17 22:50:41,357 - INFO - Using default board with active color: b
2025-07-17 22:50:41,357 - INFO - Attempting to interpret ambiguous move with API: '<reasoning>'
2025-07-17 22:50:41,394 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: '<reasoning>'
2025-07-17 22:50:42,332 - INFO - Interpreted move '<reasoning>' as 'INVALID'
2025-07-17 22:50:42,333 - WARNING - Model rekaai/reka-flash-3 made an invalid move: '<reasoning>
I need to make a m' that couldn't be interpreted (attempt 1/5)
2025-07-17 22:50:42,333 - INFO - Calling OpenRouter API with model: rekaai/reka-flash-3
2025-07-17 22:50:42,333 - INFO - Detected 0.5 move pairs already made in the game
2025-07-17 22:50:42,333 - INFO - OpenRouter Request for rekaai/reka-flash-3 (attempt 1): {"model": "rekaai/reka-flash-3", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:50:48,250 - INFO - OpenRouter response for perplexity/sonar-reasoning-pro (attempt 1): {"id": "gen-1752785419-WeT1ZnqdIhNbvgSvj1sU", "model": "perplexity/sonar-reasoning-pro", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:50:48,251 - INFO - Received raw move 'g1f3' from model perplexity/sonar-reasoning-pro
2025-07-17 22:50:48,251 - INFO - Using default board with active color: w
2025-07-17 22:50:48,252 - INFO - Processed move: Raw 'g1f3' -> Interpreted 'g1f3' -> UCI 'g1f3' -> SAN 'Nf3'
2025-07-17 22:50:48,252 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-07-17 22:50:48,253 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:50:49,146 - INFO - Received commentary from openai/gpt-4.1-mini: 2. Nf3 develops a knight towar...
2025-07-17 22:51:01,284 - INFO - New game created: mistralai/mistral-small-3.1-24b-instruct:free (White) vs qwen/qwen-2.5-coder-32b-instruct:free (Black)
2025-07-17 22:51:01,300 - INFO - WebSocket connection established for game game_1752785461_7346
2025-07-17 22:51:01,300 - INFO - Starting game: mistralai/mistral-small-3.1-24b-instruct:free vs qwen/qwen-2.5-coder-32b-instruct:free
2025-07-17 22:51:01,302 - INFO - Calling OpenRouter API with model: mistralai/mistral-small-3.1-24b-instruct:free
2025-07-17 22:51:01,302 - INFO - Model has suffix: base=mistralai/mistral-small-3.1-24b-instruct, suffix=:free
2025-07-17 22:51:01,302 - INFO - OpenRouter Request for mistralai/mistral-small-3.1-24b-instruct:free (attempt 1): {"model": "mistralai/mistral-small-3.1-24b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:51:03,046 - INFO - OpenRouter response for rekaai/reka-flash-3 (attempt 1): {"id": "gen-1752785442-WPoPl208BrGY8Cf4Bwi6", "model": "rekaai/reka-flash-3", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:51:03,046 - INFO - Retry 1: Received raw move '<reasoning>
I need to figure o' from model rekaai/reka-flash-3
2025-07-17 22:51:03,047 - INFO - Model returned multiline response. Using first line: '<reasoning>'
2025-07-17 22:51:03,047 - INFO - Using default board with active color: b
2025-07-17 22:51:03,047 - INFO - Attempting to interpret ambiguous move with API: '<reasoning>'
2025-07-17 22:51:03,081 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: '<reasoning>'
2025-07-17 22:51:03,452 - INFO - OpenRouter response for mistralai/mistral-small-3.1-24b-instruct:free (attempt 1): {"id": "gen-1752785461-kwlT3uKK0ouYNQGUOYcE", "model": "mistralai/mistral-small-3.1-24b-instruct:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:51:03,453 - INFO - Received raw move 'e2e4' from model mistralai/mistral-small-3.1-24b-instruct:free
2025-07-17 22:51:03,453 - INFO - Using default board with active color: w
2025-07-17 22:51:03,454 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-17 22:51:03,455 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:51:03,556 - INFO - Interpreted move '<reasoning>' as 'INVALID'
2025-07-17 22:51:03,557 - WARNING - Model rekaai/reka-flash-3 made an invalid move: '<reasoning>
I need to figure o' that couldn't be interpreted (attempt 2/5)
2025-07-17 22:51:03,557 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-07-17 22:51:04,827 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a classical opening m...
2025-07-17 22:51:04,965 - INFO - Calling OpenRouter API with model: qwen/qwen-2.5-coder-32b-instruct:free
2025-07-17 22:51:04,966 - INFO - Detected 0.5 move pairs already made in the game
2025-07-17 22:51:04,967 - INFO - Model has suffix: base=qwen/qwen-2.5-coder-32b-instruct, suffix=:free
2025-07-17 22:51:04,967 - INFO - OpenRouter Request for qwen/qwen-2.5-coder-32b-instruct:free (attempt 1): {"model": "qwen/qwen-2.5-coder-32b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:51:08,185 - INFO - OpenRouter response for qwen/qwen-2.5-coder-32b-instruct:free (attempt 1): {"id": "gen-1752785465-L1i5CDaiL6UXntmRHOoU", "model": "qwen/qwen-2.5-coder-32b-instruct:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:51:08,185 - INFO - Received raw move 'e7e5' from model qwen/qwen-2.5-coder-32b-instruct:free
2025-07-17 22:51:08,186 - INFO - Using default board with active color: b
2025-07-17 22:51:08,186 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-07-17 22:51:08,187 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:51:09,298 - INFO - Received commentary from openai/gpt-4.1-mini: 1...e5 is a classical response...
2025-07-17 22:51:09,689 - INFO - Calling OpenRouter API with model: mistralai/mistral-small-3.1-24b-instruct:free
2025-07-17 22:51:09,689 - INFO - Detected 1 move pairs already made in the game
2025-07-17 22:51:09,689 - INFO - Model has suffix: base=mistralai/mistral-small-3.1-24b-instruct, suffix=:free
2025-07-17 22:51:09,689 - INFO - OpenRouter Request for mistralai/mistral-small-3.1-24b-instruct:free (attempt 1): {"model": "mistralai/mistral-small-3.1-24b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:51:12,153 - INFO - OpenRouter response for mistralai/mistral-small-3.1-24b-instruct:free (attempt 1): {"id": "gen-1752785469-vnu4w0mrx4pgmcizxkOB", "model": "mistralai/mistral-small-3.1-24b-instruct:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:51:12,154 - INFO - Received raw move 'g1f3' from model mistralai/mistral-small-3.1-24b-instruct:free
2025-07-17 22:51:12,154 - INFO - Using default board with active color: w
2025-07-17 22:51:12,155 - INFO - Processed move: Raw 'g1f3' -> Interpreted 'g1f3' -> UCI 'g1f3' -> SAN 'Nf3'
2025-07-17 22:51:12,156 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:51:13,210 - INFO - Received commentary from openai/gpt-4.1-mini: Nf3 develops a knight actively...
2025-07-17 22:51:13,659 - INFO - Calling OpenRouter API with model: qwen/qwen-2.5-coder-32b-instruct:free
2025-07-17 22:51:13,659 - INFO - Detected 1.5 move pairs already made in the game
2025-07-17 22:51:13,659 - INFO - Model has suffix: base=qwen/qwen-2.5-coder-32b-instruct, suffix=:free
2025-07-17 22:51:13,659 - INFO - OpenRouter Request for qwen/qwen-2.5-coder-32b-instruct:free (attempt 1): {"model": "qwen/qwen-2.5-coder-32b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:51:16,376 - INFO - OpenRouter response for qwen/qwen-2.5-coder-32b-instruct:free (attempt 1): {"id": "gen-1752785473-6Xb9lMDbr9roubxcgH6p", "model": "qwen/qwen-2.5-coder-32b-instruct:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:51:16,377 - INFO - Received raw move 'd7d6' from model qwen/qwen-2.5-coder-32b-instruct:free
2025-07-17 22:51:16,377 - INFO - Using default board with active color: b
2025-07-17 22:51:16,377 - INFO - Processed move: Raw 'd7d6' -> Interpreted 'd7d6' -> UCI 'd7d6' -> SAN 'd6'
2025-07-17 22:51:16,378 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:51:18,082 - INFO - Received commentary from openai/gpt-4.1-mini: 2...d6 is a solid and classica...
2025-07-17 22:51:18,383 - INFO - Calling OpenRouter API with model: mistralai/mistral-small-3.1-24b-instruct:free
2025-07-17 22:51:18,383 - INFO - Detected 2 move pairs already made in the game
2025-07-17 22:51:18,383 - INFO - Model has suffix: base=mistralai/mistral-small-3.1-24b-instruct, suffix=:free
2025-07-17 22:51:18,383 - INFO - OpenRouter Request for mistralai/mistral-small-3.1-24b-instruct:free (attempt 1): {"model": "mistralai/mistral-small-3.1-24b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:51:20,285 - INFO - OpenRouter response for mistralai/mistral-small-3.1-24b-instruct:free (attempt 1): {"id": "gen-1752785478-xiT0lzjsupXRSllL3G9F", "model": "mistralai/mistral-small-3.1-24b-instruct:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:51:20,286 - INFO - Received raw move 'c2c4' from model mistralai/mistral-small-3.1-24b-instruct:free
2025-07-17 22:51:20,286 - INFO - Using default board with active color: w
2025-07-17 22:51:20,287 - INFO - Processed move: Raw 'c2c4' -> Interpreted 'c2c4' -> UCI 'c2c4' -> SAN 'c4'
2025-07-17 22:51:20,288 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:51:21,538 - INFO - Received commentary from openai/gpt-4.1-mini: 3. c4 is an interesting move !...
2025-07-17 22:51:21,793 - INFO - Calling OpenRouter API with model: qwen/qwen-2.5-coder-32b-instruct:free
2025-07-17 22:51:21,793 - INFO - Detected 2.5 move pairs already made in the game
2025-07-17 22:51:21,794 - INFO - Model has suffix: base=qwen/qwen-2.5-coder-32b-instruct, suffix=:free
2025-07-17 22:51:21,794 - INFO - OpenRouter Request for qwen/qwen-2.5-coder-32b-instruct:free (attempt 1): {"model": "qwen/qwen-2.5-coder-32b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . P . P . . .\n. . . . . N . .\nP P . P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. c2c4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:51:24,073 - INFO - OpenRouter response for qwen/qwen-2.5-coder-32b-instruct:free (attempt 1): {"id": "gen-1752785481-uIZhB7lxc9b0zBcvbWcA", "model": "qwen/qwen-2.5-coder-32b-instruct:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:51:24,074 - INFO - Received raw move 'd8d5' from model qwen/qwen-2.5-coder-32b-instruct:free
2025-07-17 22:51:24,075 - INFO - Using default board with active color: b
2025-07-17 22:51:24,075 - INFO - Attempting to interpret ambiguous move with API: 'd8d5'
2025-07-17 22:51:24,104 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd8d5'
2025-07-17 22:51:24,741 - INFO - Interpreted move 'd8d5' as 'd8d5'
2025-07-17 22:51:24,741 - WARNING - Interpreted move 'd8d5' is not legal on the current board
2025-07-17 22:51:24,742 - WARNING - Model qwen/qwen-2.5-coder-32b-instruct:free made an invalid move: 'd8d5' that couldn't be interpreted (attempt 1/5)
2025-07-17 22:51:24,743 - INFO - Calling OpenRouter API with model: qwen/qwen-2.5-coder-32b-instruct:free
2025-07-17 22:51:24,743 - INFO - Detected 2.5 move pairs already made in the game
2025-07-17 22:51:24,743 - INFO - Model has suffix: base=qwen/qwen-2.5-coder-32b-instruct, suffix=:free
2025-07-17 22:51:24,743 - INFO - OpenRouter Request for qwen/qwen-2.5-coder-32b-instruct:free (attempt 1): {"model": "qwen/qwen-2.5-coder-32b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . P . P . . .\n. . . . . N . .\nP P . P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. c2c4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:51:26,910 - INFO - OpenRouter response for qwen/qwen-2.5-coder-32b-instruct:free (attempt 1): {"id": "gen-1752785484-kjvgeF6B70ZPewur2WyS", "model": "qwen/qwen-2.5-coder-32b-instruct:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:51:26,911 - INFO - Retry 1: Received raw move 'c7c5' from model qwen/qwen-2.5-coder-32b-instruct:free
2025-07-17 22:51:26,911 - INFO - Using default board with active color: b
2025-07-17 22:51:26,911 - INFO - Processed move: Raw 'c7c5' -> Interpreted 'c7c5' -> UCI 'c7c5' -> SAN 'c5'
2025-07-17 22:51:26,912 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:51:28,267 - INFO - Received commentary from openai/gpt-4.1-mini: 3...c5 challenges White's cent...
2025-07-17 22:51:28,414 - INFO - Calling OpenRouter API with model: mistralai/mistral-small-3.1-24b-instruct:free
2025-07-17 22:51:28,415 - INFO - Detected 3 move pairs already made in the game
2025-07-17 22:51:28,415 - INFO - Model has suffix: base=mistralai/mistral-small-3.1-24b-instruct, suffix=:free
2025-07-17 22:51:28,415 - INFO - OpenRouter Request for mistralai/mistral-small-3.1-24b-instruct:free (attempt 1): {"model": "mistralai/mistral-small-3.1-24b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . . . p p p\n. . . p . . . .\n. . p . p . . .\n. . P . P . . .\n. . . . . N . .\nP P . P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. c2c4 c7c5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:51:30,275 - INFO - OpenRouter response for mistralai/mistral-small-3.1-24b-instruct:free (attempt 1): {"id": "gen-1752785488-vd6js7BTXriM2z24iaDi", "model": "mistralai/mistral-small-3.1-24b-instruct:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:51:30,276 - INFO - Received raw move 'g2g3' from model mistralai/mistral-small-3.1-24b-instruct:free
2025-07-17 22:51:30,277 - INFO - Using default board with active color: w
2025-07-17 22:51:30,278 - INFO - Processed move: Raw 'g2g3' -> Interpreted 'g2g3' -> UCI 'g2g3' -> SAN 'g3'
2025-07-17 22:51:30,281 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:51:31,512 - INFO - Received commentary from openai/gpt-4.1-mini: 4. g3 is a solid move, prepari...
2025-07-17 22:51:31,783 - INFO - Calling OpenRouter API with model: qwen/qwen-2.5-coder-32b-instruct:free
2025-07-17 22:51:31,783 - INFO - Detected 3.5 move pairs already made in the game
2025-07-17 22:51:31,783 - INFO - Model has suffix: base=qwen/qwen-2.5-coder-32b-instruct, suffix=:free
2025-07-17 22:51:31,783 - INFO - OpenRouter Request for qwen/qwen-2.5-coder-32b-instruct:free (attempt 1): {"model": "qwen/qwen-2.5-coder-32b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p . . . p p p\n. . . p . . . .\n. . p . p . . .\n. . P . P . . .\n. . . . . N P .\nP P . P . P . P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. c2c4 c7c5\n4. g2g3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:51:34,514 - INFO - OpenRouter response for qwen/qwen-2.5-coder-32b-instruct:free (attempt 1): {"id": "gen-1752785491-zIxV4OTSk3rXQ6dPSXmj", "model": "qwen/qwen-2.5-coder-32b-instruct:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:51:34,516 - INFO - Received raw move 'c5c4' from model qwen/qwen-2.5-coder-32b-instruct:free
2025-07-17 22:51:34,516 - INFO - Using default board with active color: b
2025-07-17 22:51:34,517 - INFO - Attempting to interpret ambiguous move with API: 'c5c4'
2025-07-17 22:51:34,550 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'c5c4'
2025-07-17 22:51:35,122 - INFO - Interpreted move 'c5c4' as 'c7c5'
2025-07-17 22:51:35,124 - ERROR - Failed to convert move 'c7c5': ValueError: Illegal move: c7c5
2025-07-17 22:51:35,125 - WARNING - Move parsing attempt 1/5 failed, retrying...
2025-07-17 22:51:35,126 - INFO - Calling OpenRouter API with model: qwen/qwen-2.5-coder-32b-instruct:free
2025-07-17 22:51:35,126 - INFO - Detected 3.5 move pairs already made in the game
2025-07-17 22:51:35,126 - INFO - Model has suffix: base=qwen/qwen-2.5-coder-32b-instruct, suffix=:free
2025-07-17 22:51:35,126 - INFO - OpenRouter Request for qwen/qwen-2.5-coder-32b-instruct:free (attempt 1): {"model": "qwen/qwen-2.5-coder-32b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p . . . p p p\n. . . p . . . .\n. . p . p . . .\n. . P . P . . .\n. . . . . N P .\nP P . P . P . P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. c2c4 c7c5\n4. g2g3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:51:37,254 - INFO - OpenRouter response for qwen/qwen-2.5-coder-32b-instruct:free (attempt 1): {"id": "gen-1752785495-ydyjSARno4GHp8l4h4oo", "model": "qwen/qwen-2.5-coder-32b-instruct:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:51:37,255 - INFO - Move retry 1: Received raw move 'f8d7' from model qwen/qwen-2.5-coder-32b-instruct:free
2025-07-17 22:51:37,255 - INFO - Using default board with active color: b
2025-07-17 22:51:37,255 - INFO - Attempting to interpret ambiguous move with API: 'f8d7'
2025-07-17 22:51:37,289 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'f8d7'
2025-07-17 22:51:37,932 - INFO - Interpreted move 'f8d7' as 'f8d7'
2025-07-17 22:51:37,933 - WARNING - Interpreted move 'f8d7' is not legal on the current board
2025-07-17 22:51:37,933 - WARNING - Interpreted move is still invalid during retry 1
2025-07-17 22:51:37,934 - ERROR - Failed to parse 'INVALID' as SAN: invalid san: 'INVALID'
2025-07-17 22:51:37,934 - ERROR - Failed to convert move 'INVALID': InvalidMoveError: invalid san: 'INVALID'
2025-07-17 22:51:37,934 - WARNING - Move parsing attempt 2/5 failed, retrying...
2025-07-17 22:51:37,934 - INFO - Calling OpenRouter API with model: qwen/qwen-2.5-coder-32b-instruct:free
2025-07-17 22:51:37,934 - INFO - Detected 3.5 move pairs already made in the game
2025-07-17 22:51:37,934 - INFO - Model has suffix: base=qwen/qwen-2.5-coder-32b-instruct, suffix=:free
2025-07-17 22:51:37,935 - INFO - OpenRouter Request for qwen/qwen-2.5-coder-32b-instruct:free (attempt 1): {"model": "qwen/qwen-2.5-coder-32b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p . . . p p p\n. . . p . . . .\n. . p . p . . .\n. . P . P . . .\n. . . . . N P .\nP P . P . P . P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. c2c4 c7c5\n4. g2g3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:51:43,756 - ERROR - Error calling model qwen/qwen-2.5-coder-32b-instruct:free (attempt 1): Server error '500 Internal Server Error' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/500
2025-07-17 22:51:43,756 - ERROR - OpenRouter Error Response: {"error":{"message":"Internal Server Error","code":500}}
2025-07-17 22:51:45,258 - INFO - Retry attempt 1/3 for model qwen/qwen-2.5-coder-32b-instruct:free
2025-07-17 22:51:45,258 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-17 22:51:45,258 - INFO - OpenRouter Request for qwen/qwen-2.5-coder-32b-instruct:free (attempt 2): {"model": "qwen/qwen-2.5-coder-32b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-17 22:51:48,755 - INFO - OpenRouter response for qwen/qwen-2.5-coder-32b-instruct:free (attempt 2): {"id": "gen-1752785505-19rmzZ7Htd9FCeHLZy3F", "model": "qwen/qwen-2.5-coder-32b-instruct:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:51:48,755 - INFO - Move retry 2: Received raw move 'e2e4' from model qwen/qwen-2.5-coder-32b-instruct:free
2025-07-17 22:51:48,755 - INFO - Using default board with active color: b
2025-07-17 22:51:48,756 - INFO - Attempting to interpret ambiguous move with API: 'e2e4'
2025-07-17 22:51:48,779 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e2e4'
2025-07-17 22:51:49,466 - INFO - Interpreted move 'e2e4' as 'e2e4'
2025-07-17 22:51:49,467 - WARNING - Interpreted move 'e2e4' is not legal on the current board
2025-07-17 22:51:49,469 - WARNING - Interpreted move is still invalid during retry 2
2025-07-17 22:51:49,470 - ERROR - Failed to parse 'INVALID' as SAN: invalid san: 'INVALID'
2025-07-17 22:51:49,471 - ERROR - Failed to convert move 'INVALID': InvalidMoveError: invalid san: 'INVALID'
2025-07-17 22:51:49,471 - WARNING - Move parsing attempt 3/5 failed, retrying...
2025-07-17 22:51:49,471 - INFO - Calling OpenRouter API with model: qwen/qwen-2.5-coder-32b-instruct:free
2025-07-17 22:51:49,471 - INFO - Detected 3.5 move pairs already made in the game
2025-07-17 22:51:49,471 - INFO - Model has suffix: base=qwen/qwen-2.5-coder-32b-instruct, suffix=:free
2025-07-17 22:51:49,471 - INFO - OpenRouter Request for qwen/qwen-2.5-coder-32b-instruct:free (attempt 1): {"model": "qwen/qwen-2.5-coder-32b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p . . . p p p\n. . . p . . . .\n. . p . p . . .\n. . P . P . . .\n. . . . . N P .\nP P . P . P . P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. c2c4 c7c5\n4. g2g3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:51:50,175 - ERROR - Error calling model qwen/qwen-2.5-coder-32b-instruct:free (attempt 1): Client error '429 Too Many Requests' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-07-17 22:51:50,176 - ERROR - OpenRouter Error Response: {"error":{"message":"Rate limit exceeded: limit_rpm/qwen/qwen-2.5-coder-32b-instruct/a700bc91-903f-4169-98ac-07135785fda7. High demand for qwen/qwen-2.5-coder-32b-instruct:free on OpenRouter - limited to 1 requests per minute. Please retry shortly.","code":429,"metadata":{"headers":{"X-RateLimit-Limit":"1","X-RateLimit-Remaining":"0","X-RateLimit-Reset":"1752785520000"},"provider_name":null}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-17 22:51:51,677 - INFO - Retry attempt 1/3 for model qwen/qwen-2.5-coder-32b-instruct:free
2025-07-17 22:51:51,677 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-17 22:51:51,678 - INFO - OpenRouter Request for qwen/qwen-2.5-coder-32b-instruct:free (attempt 2): {"model": "qwen/qwen-2.5-coder-32b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-17 22:51:52,431 - ERROR - Error calling model qwen/qwen-2.5-coder-32b-instruct:free (attempt 2): Client error '429 Too Many Requests' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-07-17 22:51:52,431 - ERROR - OpenRouter Error Response: {"error":{"message":"Rate limit exceeded: free-models-per-min. ","code":429,"metadata":{"headers":{"X-RateLimit-Limit":"20","X-RateLimit-Remaining":"0","X-RateLimit-Reset":"1752785520000"},"provider_name":null}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-17 22:51:53,933 - INFO - Retry attempt 2/3 for model qwen/qwen-2.5-coder-32b-instruct:free
2025-07-17 22:51:53,937 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-17 22:51:53,937 - INFO - Trying base model without suffix: qwen/qwen-2.5-coder-32b-instruct
2025-07-17 22:51:53,937 - INFO - OpenRouter Request for qwen/qwen-2.5-coder-32b-instruct (attempt 3): {"model": "qwen/qwen-2.5-coder-32b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-17 22:51:55,830 - INFO - OpenRouter response for qwen/qwen-2.5-coder-32b-instruct (attempt 3): {"id": "gen-1752785514-lQLDPLeq58HbUly0mMAy", "model": "qwen/qwen-2.5-coder-32b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:51:55,831 - INFO - Move retry 3: Received raw move 'e2e4' from model qwen/qwen-2.5-coder-32b-instruct:free
2025-07-17 22:51:55,831 - INFO - Using default board with active color: b
2025-07-17 22:51:55,831 - INFO - Attempting to interpret ambiguous move with API: 'e2e4'
2025-07-17 22:51:55,855 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e2e4'
2025-07-17 22:51:58,346 - INFO - New game created: openai/gpt-4o-2024-11-20 (White) vs mistralai/ministral-8b (Black)
2025-07-17 22:51:58,357 - INFO - WebSocket connection established for game game_1752785518_4809
2025-07-17 22:51:58,357 - INFO - Starting game: openai/gpt-4o-2024-11-20 vs mistralai/ministral-8b
2025-07-17 22:51:58,358 - INFO - Calling OpenRouter API with model: openai/gpt-4o-2024-11-20
2025-07-17 22:51:58,358 - INFO - OpenRouter Request for openai/gpt-4o-2024-11-20 (attempt 1): {"model": "openai/gpt-4o-2024-11-20", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:51:58,642 - INFO - Interpreted move 'e2e4' as 'INVALID'
2025-07-17 22:51:58,642 - WARNING - Interpreted move is still invalid during retry 3
2025-07-17 22:51:58,642 - ERROR - Failed to parse 'INVALID' as SAN: invalid san: 'INVALID'
2025-07-17 22:51:58,642 - ERROR - Failed to convert move 'INVALID': InvalidMoveError: invalid san: 'INVALID'
2025-07-17 22:51:58,642 - WARNING - Move parsing attempt 4/5 failed, retrying...
2025-07-17 22:51:58,643 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-07-17 22:51:58,976 - INFO - OpenRouter response for openai/gpt-4o-2024-11-20 (attempt 1): {"id": "gen-1752785518-vbx7bJ1vRc7X66Gxws5q", "model": "openai/gpt-4o-2024-11-20", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:51:58,977 - INFO - Received raw move 'e2e4' from model openai/gpt-4o-2024-11-20
2025-07-17 22:51:58,977 - INFO - Using default board with active color: w
2025-07-17 22:51:58,978 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-17 22:51:58,979 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:51:59,964 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 ! White stakes a strong ...
2025-07-17 22:51:59,982 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-07-17 22:52:00,008 - INFO - New game created: tngtech/deepseek-r1t-chimera:free (White) vs mistralai/pixtral-large-2411 (Black)
2025-07-17 22:52:00,024 - INFO - WebSocket connection established for game game_1752785520_4821
2025-07-17 22:52:00,024 - INFO - Starting game: tngtech/deepseek-r1t-chimera:free vs mistralai/pixtral-large-2411
2025-07-17 22:52:00,026 - INFO - Calling OpenRouter API with model: tngtech/deepseek-r1t-chimera:free
2025-07-17 22:52:00,026 - INFO - Model has suffix: base=tngtech/deepseek-r1t-chimera, suffix=:free
2025-07-17 22:52:00,026 - INFO - OpenRouter Request for tngtech/deepseek-r1t-chimera:free (attempt 1): {"model": "tngtech/deepseek-r1t-chimera:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:52:00,962 - INFO - New game created: nothingiisreal/mn-celeste-12b (White) vs microsoft/wizardlm-2-8x22b (Black)
2025-07-17 22:52:00,975 - INFO - WebSocket connection established for game game_1752785520_3010
2025-07-17 22:52:00,975 - INFO - Starting game: nothingiisreal/mn-celeste-12b vs microsoft/wizardlm-2-8x22b
2025-07-17 22:52:00,976 - INFO - Calling OpenRouter API with model: nothingiisreal/mn-celeste-12b
2025-07-17 22:52:00,976 - INFO - OpenRouter Request for nothingiisreal/mn-celeste-12b (attempt 1): {"model": "nothingiisreal/mn-celeste-12b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:52:01,670 - INFO - New game created: perplexity/r1-1776 (White) vs cohere/command-r (Black)
2025-07-17 22:52:01,683 - INFO - WebSocket connection established for game game_1752785521_2998
2025-07-17 22:52:01,683 - INFO - Starting game: perplexity/r1-1776 vs cohere/command-r
2025-07-17 22:52:01,684 - INFO - Calling OpenRouter API with model: perplexity/r1-1776
2025-07-17 22:52:01,684 - INFO - OpenRouter Request for perplexity/r1-1776 (attempt 1): {"model": "perplexity/r1-1776", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:52:02,405 - INFO - New game created: openai/o3-mini-high (White) vs morph/morph-v3-fast (Black)
2025-07-17 22:52:02,417 - INFO - WebSocket connection established for game game_1752785522_2677
2025-07-17 22:52:02,417 - INFO - Starting game: openai/o3-mini-high vs morph/morph-v3-fast
2025-07-17 22:52:02,418 - INFO - Calling OpenRouter API with model: openai/o3-mini-high
2025-07-17 22:52:02,418 - INFO - OpenRouter Request for openai/o3-mini-high (attempt 1): {"model": "openai/o3-mini-high", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:52:03,120 - INFO - New game created: mistralai/pixtral-12b (White) vs deepseek/deepseek-r1-distill-qwen-14b:free (Black)
2025-07-17 22:52:03,134 - INFO - WebSocket connection established for game game_1752785523_3600
2025-07-17 22:52:03,134 - INFO - Starting game: mistralai/pixtral-12b vs deepseek/deepseek-r1-distill-qwen-14b:free
2025-07-17 22:52:03,135 - INFO - Calling OpenRouter API with model: mistralai/pixtral-12b
2025-07-17 22:52:03,135 - INFO - OpenRouter Request for mistralai/pixtral-12b (attempt 1): {"model": "mistralai/pixtral-12b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:52:03,826 - INFO - OpenRouter response for mistralai/pixtral-12b (attempt 1): {"id": "gen-1752785523-v05EWoqcgK8KfQGzosef", "model": "mistralai/pixtral-12b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:52:03,826 - INFO - Received raw move 'e4e5' from model mistralai/pixtral-12b
2025-07-17 22:52:03,827 - INFO - Using default board with active color: w
2025-07-17 22:52:03,827 - INFO - Attempting to interpret ambiguous move with API: 'e4e5'
2025-07-17 22:52:03,856 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e4e5'
2025-07-17 22:52:03,883 - INFO - New game created: alpindale/magnum-72b (White) vs openai/gpt-4o:extended (Black)
2025-07-17 22:52:03,898 - INFO - WebSocket connection established for game game_1752785523_6428
2025-07-17 22:52:03,898 - INFO - Starting game: alpindale/magnum-72b vs openai/gpt-4o:extended
2025-07-17 22:52:03,899 - INFO - Calling OpenRouter API with model: alpindale/magnum-72b
2025-07-17 22:52:03,899 - INFO - OpenRouter Request for alpindale/magnum-72b (attempt 1): {"model": "alpindale/magnum-72b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:52:04,838 - INFO - Interpreted move 'e4e5' as 'e4e5'
2025-07-17 22:52:04,838 - WARNING - Interpreted move 'e4e5' is not legal on the current board
2025-07-17 22:52:04,839 - WARNING - Model mistralai/pixtral-12b made an invalid move: 'e4e5' that couldn't be interpreted (attempt 1/5)
2025-07-17 22:52:04,839 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-07-17 22:52:05,191 - INFO - OpenRouter response for perplexity/r1-1776 (attempt 1): {"id": "gen-1752785521-wKYYokhg00xau2y0eZX3", "model": "perplexity/r1-1776", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:52:05,192 - INFO - Received raw move 'e2e4' from model perplexity/r1-1776
2025-07-17 22:52:05,192 - INFO - Using default board with active color: w
2025-07-17 22:52:05,192 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-17 22:52:05,193 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-07-17 22:52:05,193 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:52:06,093 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 ! White takes control of...
2025-07-17 22:52:08,268 - INFO - New game created: mistralai/ministral-3b (White) vs mistralai/mistral-small-3.2-24b-instruct:free (Black)
2025-07-17 22:52:08,281 - INFO - WebSocket connection established for game game_1752785528_7278
2025-07-17 22:52:08,281 - INFO - Starting game: mistralai/ministral-3b vs mistralai/mistral-small-3.2-24b-instruct:free
2025-07-17 22:52:08,282 - INFO - Calling OpenRouter API with model: mistralai/ministral-3b
2025-07-17 22:52:08,282 - INFO - OpenRouter Request for mistralai/ministral-3b (attempt 1): {"model": "mistralai/ministral-3b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:52:08,308 - INFO - OpenRouter response for openai/o3-mini-high (attempt 1): {"id": "gen-1752785522-Vy1GsRkNzTuHDCA7saYz", "model": "openai/o3-mini-high", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:52:08,309 - INFO - Received raw move 'e2e4' from model openai/o3-mini-high
2025-07-17 22:52:08,309 - INFO - Using default board with active color: w
2025-07-17 22:52:08,309 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-17 22:52:08,309 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-07-17 22:52:08,309 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:52:08,641 - INFO - OpenRouter response for mistralai/ministral-3b (attempt 1): {"id": "gen-1752785528-nbbIRc2AHcR4gnClsk8r", "model": "mistralai/ministral-3b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:52:08,642 - INFO - Received raw move 'e4' from model mistralai/ministral-3b
2025-07-17 22:52:08,642 - INFO - Using default board with active color: w
2025-07-17 22:52:08,642 - INFO - Expanded pawn shorthand e4 to e2e4
2025-07-17 22:52:08,642 - INFO - Processed move: Raw 'e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-17 22:52:08,643 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:52:09,406 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a classical and stron...
2025-07-17 22:52:09,721 - INFO - OpenRouter response for tngtech/deepseek-r1t-chimera:free (attempt 1): {"id": "gen-1752785520-vbjzlLOkZXxvuOA4I2Eh", "model": "tngtech/deepseek-r1t-chimera:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:52:09,721 - INFO - Received raw move 'e2e4
e2e4' from model tngtech/deepseek-r1t-chimera:free
2025-07-17 22:52:09,722 - INFO - Model returned multiline response. Using first line: 'e2e4'
2025-07-17 22:52:09,722 - INFO - Using default board with active color: w
2025-07-17 22:52:09,722 - INFO - Processed move: Raw 'e2e4
e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-17 22:52:09,722 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-07-17 22:52:09,722 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:52:09,897 - INFO - New game created: cognitivecomputations/dolphin3.0-r1-mistral-24b:free (White) vs microsoft/phi-4 (Black)
2025-07-17 22:52:09,910 - INFO - WebSocket connection established for game game_1752785529_3058
2025-07-17 22:52:09,910 - INFO - Starting game: cognitivecomputations/dolphin3.0-r1-mistral-24b:free vs microsoft/phi-4
2025-07-17 22:52:09,911 - INFO - Calling OpenRouter API with model: cognitivecomputations/dolphin3.0-r1-mistral-24b:free
2025-07-17 22:52:09,911 - INFO - Model has suffix: base=cognitivecomputations/dolphin3.0-r1-mistral-24b, suffix=:free
2025-07-17 22:52:09,911 - INFO - OpenRouter Request for cognitivecomputations/dolphin3.0-r1-mistral-24b:free (attempt 1): {"model": "cognitivecomputations/dolphin3.0-r1-mistral-24b:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:52:10,103 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a classic and strong ...
2025-07-17 22:52:10,145 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-07-17 22:52:10,613 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a strong and classica...
2025-07-17 22:52:11,840 - INFO - New game created: amazon/nova-pro-v1 (White) vs openai/gpt-4o-mini-search-preview (Black)
2025-07-17 22:52:11,855 - INFO - WebSocket connection established for game game_1752785531_3651
2025-07-17 22:52:11,856 - INFO - Starting game: amazon/nova-pro-v1 vs openai/gpt-4o-mini-search-preview
2025-07-17 22:52:11,857 - INFO - Calling OpenRouter API with model: amazon/nova-pro-v1
2025-07-17 22:52:11,857 - INFO - OpenRouter Request for amazon/nova-pro-v1 (attempt 1): {"model": "amazon/nova-pro-v1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:52:12,639 - INFO - OpenRouter response for amazon/nova-pro-v1 (attempt 1): {"id": "gen-1752785532-GKC2XEjYvhbD2tI8wX5a", "model": "amazon/nova-pro-v1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:52:12,640 - INFO - Received raw move 'e2e4' from model amazon/nova-pro-v1
2025-07-17 22:52:12,640 - INFO - Using default board with active color: w
2025-07-17 22:52:12,640 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-17 22:52:12,641 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-07-17 22:52:12,641 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:52:12,681 - INFO - New game created: perplexity/sonar-deep-research (White) vs openai/gpt-3.5-turbo-instruct (Black)
2025-07-17 22:52:12,695 - INFO - WebSocket connection established for game game_1752785532_6983
2025-07-17 22:52:12,695 - INFO - Starting game: perplexity/sonar-deep-research vs openai/gpt-3.5-turbo-instruct
2025-07-17 22:52:12,695 - INFO - Calling OpenRouter API with model: perplexity/sonar-deep-research
2025-07-17 22:52:12,695 - INFO - OpenRouter Request for perplexity/sonar-deep-research (attempt 1): {"model": "perplexity/sonar-deep-research", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:52:13,253 - INFO - New game created: mistralai/mistral-tiny (White) vs raifle/sorcererlm-8x22b (Black)
2025-07-17 22:52:13,265 - INFO - WebSocket connection established for game game_1752785533_1583
2025-07-17 22:52:13,265 - INFO - Starting game: mistralai/mistral-tiny vs raifle/sorcererlm-8x22b
2025-07-17 22:52:13,268 - INFO - Calling OpenRouter API with model: mistralai/mistral-tiny
2025-07-17 22:52:13,268 - INFO - OpenRouter Request for mistralai/mistral-tiny (attempt 1): {"model": "mistralai/mistral-tiny", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:52:13,528 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a strong opening move...
2025-07-17 22:52:13,684 - INFO - OpenRouter response for mistralai/mistral-tiny (attempt 1): {"id": "gen-1752785533-RVmPsnRHKUBpEOI8U8l5", "model": "mistralai/mistral-tiny", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:52:13,685 - INFO - Received raw move 'e4' from model mistralai/mistral-tiny
2025-07-17 22:52:13,685 - INFO - Using default board with active color: w
2025-07-17 22:52:13,685 - INFO - Expanded pawn shorthand e4 to e2e4
2025-07-17 22:52:13,685 - INFO - Processed move: Raw 'e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-17 22:52:13,687 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:52:14,656 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a strong opening move...
2025-07-17 22:52:14,689 - INFO - Calling OpenRouter API with model: raifle/sorcererlm-8x22b
2025-07-17 22:52:14,689 - INFO - Detected 0.5 move pairs already made in the game
2025-07-17 22:52:14,689 - INFO - OpenRouter Request for raifle/sorcererlm-8x22b (attempt 1): {"model": "raifle/sorcererlm-8x22b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:52:15,289 - INFO - New game created: anthropic/claude-3-opus:beta (White) vs aetherwiing/mn-starcannon-12b (Black)
2025-07-17 22:52:15,302 - INFO - WebSocket connection established for game game_1752785535_4985
2025-07-17 22:52:15,302 - INFO - Starting game: anthropic/claude-3-opus:beta vs aetherwiing/mn-starcannon-12b
2025-07-17 22:52:15,303 - INFO - Calling OpenRouter API with model: anthropic/claude-3-opus:beta
2025-07-17 22:52:15,303 - INFO - Model has suffix: base=anthropic/claude-3-opus, suffix=:beta
2025-07-17 22:52:15,303 - INFO - OpenRouter Request for anthropic/claude-3-opus:beta (attempt 1): {"model": "anthropic/claude-3-opus:beta", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:52:15,620 - INFO - OpenRouter response for raifle/sorcererlm-8x22b (attempt 1): {"id": "gen-1752785534-joVa6ff8PakOgaM2tszG", "model": "raifle/sorcererlm-8x22b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:52:15,620 - INFO - Received raw move 'a7a5' from model raifle/sorcererlm-8x22b
2025-07-17 22:52:15,620 - INFO - Using default board with active color: b
2025-07-17 22:52:15,620 - INFO - Processed move: Raw 'a7a5' -> Interpreted 'a7a5' -> UCI 'a7a5' -> SAN 'a5'
2025-07-17 22:52:15,620 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-07-17 22:52:15,620 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:52:16,551 - INFO - OpenRouter response for anthropic/claude-3-opus:beta (attempt 1): {"id": "gen-1752785535-Ftk96qPYgWDKZLFKLfd3", "model": "anthropic/claude-3-opus:beta", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:52:16,551 - INFO - Received raw move 'e2e4' from model anthropic/claude-3-opus:beta
2025-07-17 22:52:16,551 - INFO - Using default board with active color: w
2025-07-17 22:52:16,552 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-17 22:52:16,552 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-07-17 22:52:16,552 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:52:16,638 - INFO - New game created: qwen/qwq-32b:free (White) vs meta-llama/llama-3.1-405b (Black)
2025-07-17 22:52:16,654 - INFO - WebSocket connection established for game game_1752785536_9461
2025-07-17 22:52:16,654 - INFO - Starting game: qwen/qwq-32b:free vs meta-llama/llama-3.1-405b
2025-07-17 22:52:16,655 - INFO - Calling OpenRouter API with model: qwen/qwq-32b:free
2025-07-17 22:52:16,655 - INFO - Model has suffix: base=qwen/qwq-32b, suffix=:free
2025-07-17 22:52:16,655 - INFO - OpenRouter Request for qwen/qwq-32b:free (attempt 1): {"model": "qwen/qwq-32b:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:52:16,917 - INFO - Received commentary from openai/gpt-4.1-mini: 1...a5 is an early flank pawn ...
2025-07-17 22:52:17,766 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a strong and classica...
2025-07-17 22:52:18,288 - INFO - New game created: qwen/qwen-vl-plus (White) vs cohere/command-r-plus (Black)
2025-07-17 22:52:18,301 - INFO - WebSocket connection established for game game_1752785538_6844
2025-07-17 22:52:18,301 - INFO - Starting game: qwen/qwen-vl-plus vs cohere/command-r-plus
2025-07-17 22:52:18,302 - INFO - Calling OpenRouter API with model: qwen/qwen-vl-plus
2025-07-17 22:52:18,302 - INFO - OpenRouter Request for qwen/qwen-vl-plus (attempt 1): {"model": "qwen/qwen-vl-plus", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:52:19,113 - INFO - New game created: raifle/sorcererlm-8x22b (White) vs mistralai/mistral-7b-instruct-v0.3 (Black)
2025-07-17 22:52:19,127 - INFO - WebSocket connection established for game game_1752785539_3697
2025-07-17 22:52:19,127 - INFO - Starting game: raifle/sorcererlm-8x22b vs mistralai/mistral-7b-instruct-v0.3
2025-07-17 22:52:19,128 - INFO - Calling OpenRouter API with model: raifle/sorcererlm-8x22b
2025-07-17 22:52:19,128 - INFO - OpenRouter Request for raifle/sorcererlm-8x22b (attempt 1): {"model": "raifle/sorcererlm-8x22b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:52:19,529 - INFO - OpenRouter response for qwen/qwen-vl-plus (attempt 1): {"id": "gen-1752785538-9YrysXjql4qYDnXlygg0", "model": "qwen/qwen-vl-plus", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:52:19,530 - INFO - Received raw move 'e4' from model qwen/qwen-vl-plus
2025-07-17 22:52:19,530 - INFO - Using default board with active color: w
2025-07-17 22:52:19,530 - INFO - Expanded pawn shorthand e4 to e2e4
2025-07-17 22:52:19,530 - INFO - Processed move: Raw 'e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-17 22:52:19,531 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-07-17 22:52:19,531 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:52:20,071 - INFO - OpenRouter response for raifle/sorcererlm-8x22b (attempt 1): {"id": "gen-1752785539-dShMgzRr4ovQe4fbWq3I", "model": "raifle/sorcererlm-8x22b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:52:20,072 - INFO - Received raw move 'e4' from model raifle/sorcererlm-8x22b
2025-07-17 22:52:20,072 - INFO - Using default board with active color: w
2025-07-17 22:52:20,073 - INFO - Expanded pawn shorthand e4 to e2e4
2025-07-17 22:52:20,073 - INFO - Processed move: Raw 'e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-17 22:52:20,075 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:52:20,429 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 ! White stakes control o...
2025-07-17 22:52:21,091 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a classical and stron...
2025-07-17 22:52:21,576 - INFO - Calling OpenRouter API with model: mistralai/mistral-7b-instruct-v0.3
2025-07-17 22:52:21,576 - INFO - Detected 0.5 move pairs already made in the game
2025-07-17 22:52:21,576 - INFO - OpenRouter Request for mistralai/mistral-7b-instruct-v0.3 (attempt 1): {"model": "mistralai/mistral-7b-instruct-v0.3", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:52:22,670 - INFO - OpenRouter response for mistralai/mistral-7b-instruct-v0.3 (attempt 1): {"id": "gen-1752785541-yJ5YGUcCRAMUNVZMFF9T", "model": "mistralai/mistral-7b-instruct-v0.3", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:52:22,671 - INFO - Received raw move 'g6' from model mistralai/mistral-7b-instruct-v0.3
2025-07-17 22:52:22,671 - INFO - Using default board with active color: b
2025-07-17 22:52:22,671 - INFO - Expanded pawn shorthand g6 to g7g6
2025-07-17 22:52:22,671 - INFO - Processed move: Raw 'g6' -> Interpreted 'g7g6' -> UCI 'g7g6' -> SAN 'g6'
2025-07-17 22:52:22,673 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:52:23,039 - INFO - OpenRouter response for qwen/qwq-32b:free (attempt 1): {"id": "gen-1752785536-RfXBzeN4jHl3ZAIP8hnS", "model": "qwen/qwq-32b:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:52:23,040 - INFO - Received raw move 'e2e4' from model qwen/qwq-32b:free
2025-07-17 22:52:23,040 - INFO - Using default board with active color: w
2025-07-17 22:52:23,040 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-17 22:52:23,041 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-07-17 22:52:23,041 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:52:23,623 - INFO - Received commentary from openai/gpt-4.1-mini: 1...g6 is a solid choice aimin...
2025-07-17 22:52:23,676 - INFO - Calling OpenRouter API with model: raifle/sorcererlm-8x22b
2025-07-17 22:52:23,678 - INFO - Detected 1 move pairs already made in the game
2025-07-17 22:52:23,678 - INFO - OpenRouter Request for raifle/sorcererlm-8x22b (attempt 1): {"model": "raifle/sorcererlm-8x22b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p . p\n. . . . . . p .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 g7g6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:52:24,000 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 ! This classic opening m...
2025-07-17 22:52:24,279 - INFO - OpenRouter response for raifle/sorcererlm-8x22b (attempt 1): {"id": "gen-1752785543-X0raD5UBa44nQVouTL1G", "model": "raifle/sorcererlm-8x22b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:52:24,280 - INFO - Received raw move 'd2d4' from model raifle/sorcererlm-8x22b
2025-07-17 22:52:24,281 - INFO - Using default board with active color: w
2025-07-17 22:52:24,281 - INFO - Processed move: Raw 'd2d4' -> Interpreted 'd2d4' -> UCI 'd2d4' -> SAN 'd4'
2025-07-17 22:52:24,285 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:52:25,308 - INFO - Received commentary from openai/gpt-4.1-mini: 2. d4!? White asserts central ...
2025-07-17 22:52:25,787 - INFO - Calling OpenRouter API with model: mistralai/mistral-7b-instruct-v0.3
2025-07-17 22:52:25,788 - INFO - Detected 1.5 move pairs already made in the game
2025-07-17 22:52:25,788 - INFO - OpenRouter Request for mistralai/mistral-7b-instruct-v0.3 (attempt 1): {"model": "mistralai/mistral-7b-instruct-v0.3", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p . p\n. . . . . . p .\n. . . . . . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 g7g6\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:52:26,631 - INFO - OpenRouter response for mistralai/mistral-7b-instruct-v0.3 (attempt 1): {"id": "gen-1752785545-brLKpS7RPWZWOZkGMeZ0", "model": "mistralai/mistral-7b-instruct-v0.3", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:52:26,633 - INFO - Received raw move 'd5' from model mistralai/mistral-7b-instruct-v0.3
2025-07-17 22:52:26,633 - INFO - Using default board with active color: b
2025-07-17 22:52:26,633 - INFO - Expanded pawn shorthand d5 to d7d5
2025-07-17 22:52:26,633 - INFO - Processed move: Raw 'd5' -> Interpreted 'd7d5' -> UCI 'd7d5' -> SAN 'd5'
2025-07-17 22:52:26,634 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:52:27,769 - INFO - Received commentary from openai/gpt-4.1-mini: Black's 2...d5 challenges Whit...
2025-07-17 22:52:28,137 - INFO - Calling OpenRouter API with model: raifle/sorcererlm-8x22b
2025-07-17 22:52:28,137 - INFO - Detected 2 move pairs already made in the game
2025-07-17 22:52:28,137 - INFO - OpenRouter Request for raifle/sorcererlm-8x22b (attempt 1): {"model": "raifle/sorcererlm-8x22b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . p p . p\n. . . . . . p .\n. . . p . . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 g7g6\n2. d2d4 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:52:29,386 - INFO - OpenRouter response for raifle/sorcererlm-8x22b (attempt 1): {"id": "gen-1752785548-WmKQnCB5PFL2j1eFyGhC", "model": "raifle/sorcererlm-8x22b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:52:29,387 - INFO - Received raw move 'e4d5' from model raifle/sorcererlm-8x22b
2025-07-17 22:52:29,387 - INFO - Using default board with active color: w
2025-07-17 22:52:29,388 - INFO - Attempting to interpret ambiguous move with API: 'e4d5'
2025-07-17 22:52:29,424 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e4d5'
2025-07-17 22:52:29,931 - INFO - Interpreted move 'e4d5' as 'INVALID'
2025-07-17 22:52:29,934 - WARNING - Model raifle/sorcererlm-8x22b made an invalid move: 'e4d5' that couldn't be interpreted (attempt 1/5)
2025-07-17 22:52:29,934 - INFO - Calling OpenRouter API with model: raifle/sorcererlm-8x22b
2025-07-17 22:52:29,935 - INFO - Detected 2 move pairs already made in the game
2025-07-17 22:52:29,935 - INFO - OpenRouter Request for raifle/sorcererlm-8x22b (attempt 1): {"model": "raifle/sorcererlm-8x22b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . p p . p\n. . . . . . p .\n. . . p . . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 g7g6\n2. d2d4 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:52:30,599 - INFO - OpenRouter response for raifle/sorcererlm-8x22b (attempt 1): {"id": "gen-1752785550-9PQ4OLZVbcNxnfywOhjq", "model": "raifle/sorcererlm-8x22b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:52:30,600 - INFO - Retry 1: Received raw move 'd4e5' from model raifle/sorcererlm-8x22b
2025-07-17 22:52:30,600 - INFO - Using default board with active color: w
2025-07-17 22:52:30,601 - INFO - Attempting to interpret ambiguous move with API: 'd4e5'
2025-07-17 22:52:30,631 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd4e5'
2025-07-17 22:52:31,364 - INFO - Interpreted move 'd4e5' as 'd4e5'
2025-07-17 22:52:31,364 - WARNING - Interpreted move 'd4e5' is not legal on the current board
2025-07-17 22:52:31,365 - WARNING - Model raifle/sorcererlm-8x22b made an invalid move: 'd4e5' that couldn't be interpreted (attempt 2/5)
2025-07-17 22:52:31,365 - INFO - Calling OpenRouter API with model: raifle/sorcererlm-8x22b
2025-07-17 22:52:31,365 - INFO - Detected 2 move pairs already made in the game
2025-07-17 22:52:31,365 - INFO - OpenRouter Request for raifle/sorcererlm-8x22b (attempt 1): {"model": "raifle/sorcererlm-8x22b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . p p . p\n. . . . . . p .\n. . . p . . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 g7g6\n2. d2d4 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:52:32,429 - INFO - OpenRouter response for raifle/sorcererlm-8x22b (attempt 1): {"id": "gen-1752785551-STZyQV1apQmfUSzXiP1V", "model": "raifle/sorcererlm-8x22b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:52:32,430 - INFO - Retry 2: Received raw move 'f1e2' from model raifle/sorcererlm-8x22b
2025-07-17 22:52:32,430 - INFO - Using default board with active color: w
2025-07-17 22:52:32,430 - INFO - Attempting to interpret ambiguous move with API: 'f1e2'
2025-07-17 22:52:32,458 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'f1e2'
2025-07-17 22:52:33,067 - INFO - Interpreted move 'f1e2' as 'f1e2'
2025-07-17 22:52:33,068 - WARNING - Interpreted move 'f1e2' is not legal on the current board
2025-07-17 22:52:33,068 - WARNING - Model raifle/sorcererlm-8x22b made an invalid move: 'f1e2' that couldn't be interpreted (attempt 3/5)
2025-07-17 22:52:33,069 - INFO - Calling OpenRouter API with model: raifle/sorcererlm-8x22b
2025-07-17 22:52:33,069 - INFO - Detected 2 move pairs already made in the game
2025-07-17 22:52:33,069 - INFO - OpenRouter Request for raifle/sorcererlm-8x22b (attempt 1): {"model": "raifle/sorcererlm-8x22b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . p p . p\n. . . . . . p .\n. . . p . . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 g7g6\n2. d2d4 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:52:33,207 - INFO - OpenRouter response for cognitivecomputations/dolphin3.0-r1-mistral-24b:free (attempt 1): {"id": "gen-1752785530-lZZ4qKKdfZu3D7wboVwv", "model": "cognitivecomputations/dolphin3.0-r1-mistral-24b:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:52:33,208 - INFO - Received raw move '<｜Assistant｜>e2e4' from model cognitivecomputations/dolphin3.0-r1-mistral-24b:free
2025-07-17 22:52:33,208 - INFO - Using default board with active color: w
2025-07-17 22:52:33,208 - INFO - Attempting to interpret ambiguous move with API: '<｜Assistant｜>e2e4'
2025-07-17 22:52:33,240 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: '<｜Assistant｜>e2e4'
2025-07-17 22:52:33,871 - INFO - Interpreted move '<｜Assistant｜>e2e4' as 'e2e4'
2025-07-17 22:52:33,871 - INFO - Processed move: Raw '<｜Assistant｜>e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-17 22:52:33,872 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-07-17 22:52:33,872 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:52:34,115 - INFO - OpenRouter response for raifle/sorcererlm-8x22b (attempt 1): {"id": "gen-1752785553-k1hle4czkuGdzB6fxFKX", "model": "raifle/sorcererlm-8x22b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:52:34,116 - INFO - Retry 3: Received raw move 'e4c5' from model raifle/sorcererlm-8x22b
2025-07-17 22:52:34,117 - INFO - Using default board with active color: w
2025-07-17 22:52:34,117 - INFO - Attempting to interpret ambiguous move with API: 'e4c5'
2025-07-17 22:52:34,151 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e4c5'
2025-07-17 22:52:34,664 - INFO - Interpreted move 'e4c5' as 'INVALID'
2025-07-17 22:52:34,665 - WARNING - Model raifle/sorcererlm-8x22b made an invalid move: 'e4c5' that couldn't be interpreted (attempt 4/5)
2025-07-17 22:52:34,666 - INFO - Calling OpenRouter API with model: raifle/sorcererlm-8x22b
2025-07-17 22:52:34,666 - INFO - Detected 2 move pairs already made in the game
2025-07-17 22:52:34,667 - INFO - OpenRouter Request for raifle/sorcererlm-8x22b (attempt 1): {"model": "raifle/sorcererlm-8x22b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . p p . p\n. . . . . . p .\n. . . p . . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 g7g6\n2. d2d4 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:52:34,883 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a strong central adva...
2025-07-17 22:52:35,654 - INFO - OpenRouter response for raifle/sorcererlm-8x22b (attempt 1): {"id": "gen-1752785554-HwT85oHmNwGMWZfg0UCv", "model": "raifle/sorcererlm-8x22b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:52:35,656 - INFO - Retry 4: Received raw move 'c2c4' from model raifle/sorcererlm-8x22b
2025-07-17 22:52:35,656 - INFO - Using default board with active color: w
2025-07-17 22:52:35,656 - INFO - Processed move: Raw 'c2c4' -> Interpreted 'c2c4' -> UCI 'c2c4' -> SAN 'c4'
2025-07-17 22:52:35,658 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:52:37,004 - INFO - Received commentary from openai/gpt-4.1-mini: 3. c4 ! challenges Black's cen...
2025-07-17 22:52:37,162 - INFO - Calling OpenRouter API with model: mistralai/mistral-7b-instruct-v0.3
2025-07-17 22:52:37,162 - INFO - Detected 2.5 move pairs already made in the game
2025-07-17 22:52:37,162 - INFO - OpenRouter Request for mistralai/mistral-7b-instruct-v0.3 (attempt 1): {"model": "mistralai/mistral-7b-instruct-v0.3", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . p p . p\n. . . . . . p .\n. . . p . . . .\n. . P P P . . .\n. . . . . . . .\nP P . . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 g7g6\n2. d2d4 d7d5\n3. c2c4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:52:38,050 - INFO - OpenRouter response for mistralai/mistral-7b-instruct-v0.3 (attempt 1): {"id": "gen-1752785557-MYOr4efZjwzZ0HGII93o", "model": "mistralai/mistral-7b-instruct-v0.3", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:52:38,051 - INFO - Received raw move 'c5' from model mistralai/mistral-7b-instruct-v0.3
2025-07-17 22:52:38,051 - INFO - Using default board with active color: b
2025-07-17 22:52:38,051 - INFO - Expanded pawn shorthand c5 to c7c5
2025-07-17 22:52:38,052 - INFO - Processed move: Raw 'c5' -> Interpreted 'c7c5' -> UCI 'c7c5' -> SAN 'c5'
2025-07-17 22:52:38,053 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:52:39,594 - INFO - Received commentary from openai/gpt-4.1-mini: 3...c5 is a thematic and chall...
2025-07-17 22:52:40,057 - INFO - Calling OpenRouter API with model: raifle/sorcererlm-8x22b
2025-07-17 22:52:40,059 - INFO - Detected 3 move pairs already made in the game
2025-07-17 22:52:40,059 - INFO - OpenRouter Request for raifle/sorcererlm-8x22b (attempt 1): {"model": "raifle/sorcererlm-8x22b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . . p p . p\n. . . . . . p .\n. . p p . . . .\n. . P P P . . .\n. . . . . . . .\nP P . . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 g7g6\n2. d2d4 d7d5\n3. c2c4 c7c5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:52:40,888 - INFO - OpenRouter response for raifle/sorcererlm-8x22b (attempt 1): {"id": "gen-1752785560-OlFpM5QGNgENxWwLDbMz", "model": "raifle/sorcererlm-8x22b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:52:40,889 - INFO - Received raw move 'c4d5' from model raifle/sorcererlm-8x22b
2025-07-17 22:52:40,889 - INFO - Using default board with active color: w
2025-07-17 22:52:40,890 - INFO - Attempting to interpret ambiguous move with API: 'c4d5'
2025-07-17 22:52:40,926 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'c4d5'
2025-07-17 22:52:41,637 - INFO - Interpreted move 'c4d5' as 'c4d5'
2025-07-17 22:52:41,637 - WARNING - Interpreted move 'c4d5' is not legal on the current board
2025-07-17 22:52:41,638 - WARNING - Model raifle/sorcererlm-8x22b made an invalid move: 'c4d5' that couldn't be interpreted (attempt 1/5)
2025-07-17 22:52:41,638 - INFO - Calling OpenRouter API with model: raifle/sorcererlm-8x22b
2025-07-17 22:52:41,639 - INFO - Detected 3 move pairs already made in the game
2025-07-17 22:52:41,639 - INFO - OpenRouter Request for raifle/sorcererlm-8x22b (attempt 1): {"model": "raifle/sorcererlm-8x22b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . . p p . p\n. . . . . . p .\n. . p p . . . .\n. . P P P . . .\n. . . . . . . .\nP P . . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 g7g6\n2. d2d4 d7d5\n3. c2c4 c7c5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:52:42,516 - INFO - OpenRouter response for raifle/sorcererlm-8x22b (attempt 1): {"id": "gen-1752785561-2EDkNn1Ylo42rLR2SglI", "model": "raifle/sorcererlm-8x22b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:52:42,517 - INFO - Retry 1: Received raw move 'c4d5' from model raifle/sorcererlm-8x22b
2025-07-17 22:52:42,518 - INFO - Using default board with active color: w
2025-07-17 22:52:42,518 - INFO - Attempting to interpret ambiguous move with API: 'c4d5'
2025-07-17 22:52:42,550 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'c4d5'
2025-07-17 22:52:43,164 - INFO - Interpreted move 'c4d5' as 'c4d5'
2025-07-17 22:52:43,164 - WARNING - Interpreted move 'c4d5' is not legal on the current board
2025-07-17 22:52:43,164 - WARNING - Model raifle/sorcererlm-8x22b made an invalid move: 'c4d5' that couldn't be interpreted (attempt 2/5)
2025-07-17 22:52:43,165 - INFO - Calling OpenRouter API with model: raifle/sorcererlm-8x22b
2025-07-17 22:52:43,165 - INFO - Detected 3 move pairs already made in the game
2025-07-17 22:52:43,166 - INFO - OpenRouter Request for raifle/sorcererlm-8x22b (attempt 1): {"model": "raifle/sorcererlm-8x22b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . . p p . p\n. . . . . . p .\n. . p p . . . .\n. . P P P . . .\n. . . . . . . .\nP P . . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 g7g6\n2. d2d4 d7d5\n3. c2c4 c7c5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:52:44,094 - INFO - OpenRouter response for raifle/sorcererlm-8x22b (attempt 1): {"id": "gen-1752785563-cB7c6jXk6JhHm5SpXu6o", "model": "raifle/sorcererlm-8x22b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:52:44,094 - INFO - Retry 2: Received raw move 'c4d5' from model raifle/sorcererlm-8x22b
2025-07-17 22:52:44,095 - INFO - Using default board with active color: w
2025-07-17 22:52:44,095 - INFO - Attempting to interpret ambiguous move with API: 'c4d5'
2025-07-17 22:52:44,119 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'c4d5'
2025-07-17 22:52:45,104 - INFO - Interpreted move 'c4d5' as 'c4d5'
2025-07-17 22:52:45,105 - WARNING - Interpreted move 'c4d5' is not legal on the current board
2025-07-17 22:52:45,106 - WARNING - Model raifle/sorcererlm-8x22b made an invalid move: 'c4d5' that couldn't be interpreted (attempt 3/5)
2025-07-17 22:52:45,106 - INFO - Calling OpenRouter API with model: raifle/sorcererlm-8x22b
2025-07-17 22:52:45,106 - INFO - Detected 3 move pairs already made in the game
2025-07-17 22:52:45,106 - INFO - OpenRouter Request for raifle/sorcererlm-8x22b (attempt 1): {"model": "raifle/sorcererlm-8x22b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . . p p . p\n. . . . . . p .\n. . p p . . . .\n. . P P P . . .\n. . . . . . . .\nP P . . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 g7g6\n2. d2d4 d7d5\n3. c2c4 c7c5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:52:45,330 - INFO - OpenRouter response for alpindale/magnum-72b (attempt 1): {"id": "gen-1752785524-YUiUOpMwnArLiBuCljtg", "model": "alpindale/magnum-72b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:52:45,331 - INFO - Received raw move 'e2e4' from model alpindale/magnum-72b
2025-07-17 22:52:45,332 - INFO - Using default board with active color: w
2025-07-17 22:52:45,332 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-17 22:52:45,332 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-07-17 22:52:45,332 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:52:45,683 - INFO - OpenRouter response for raifle/sorcererlm-8x22b (attempt 1): {"id": "gen-1752785565-J7UhN1joJSLfBnoXKWR4", "model": "raifle/sorcererlm-8x22b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:52:45,684 - INFO - Retry 3: Received raw move 'c4xd5' from model raifle/sorcererlm-8x22b
2025-07-17 22:52:45,684 - INFO - Using default board with active color: w
2025-07-17 22:52:45,684 - INFO - Attempting to interpret ambiguous move with API: 'c4xd5'
2025-07-17 22:52:45,706 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'c4xd5'
2025-07-17 22:52:46,210 - INFO - Interpreted move 'c4xd5' as 'INVALID'
2025-07-17 22:52:46,210 - WARNING - Model raifle/sorcererlm-8x22b made an invalid move: 'c4xd5' that couldn't be interpreted (attempt 4/5)
2025-07-17 22:52:46,211 - INFO - Calling OpenRouter API with model: raifle/sorcererlm-8x22b
2025-07-17 22:52:46,211 - INFO - Detected 3 move pairs already made in the game
2025-07-17 22:52:46,211 - INFO - OpenRouter Request for raifle/sorcererlm-8x22b (attempt 1): {"model": "raifle/sorcererlm-8x22b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . . p p . p\n. . . . . . p .\n. . p p . . . .\n. . P P P . . .\n. . . . . . . .\nP P . . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 g7g6\n2. d2d4 d7d5\n3. c2c4 c7c5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:52:46,416 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a classic opening mov...
2025-07-17 22:52:47,056 - INFO - OpenRouter response for raifle/sorcererlm-8x22b (attempt 1): {"id": "gen-1752785566-jfFEIHBtNy91ouPhMuMw", "model": "raifle/sorcererlm-8x22b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:52:47,058 - INFO - Retry 4: Received raw move 'c4xd5' from model raifle/sorcererlm-8x22b
2025-07-17 22:52:47,058 - INFO - Using default board with active color: w
2025-07-17 22:52:47,058 - INFO - Attempting to interpret ambiguous move with API: 'c4xd5'
2025-07-17 22:52:47,082 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'c4xd5'
2025-07-17 22:52:47,942 - INFO - Interpreted move 'c4xd5' as 'c4d5'
2025-07-17 22:52:47,942 - WARNING - Interpreted move 'c4d5' is not legal on the current board
2025-07-17 22:52:47,943 - WARNING - Model raifle/sorcererlm-8x22b made an invalid move: 'c4xd5' that couldn't be interpreted (attempt 5/5)
2025-07-17 22:52:47,943 - ERROR - Model raifle/sorcererlm-8x22b failed to make a valid move after 5 attempts
2025-07-17 22:52:47,943 - INFO - Requesting game over explanation from openai/gpt-4.1-mini
2025-07-17 22:52:49,376 - INFO - Received game over explanation: Raifle/sorcererlm-8x22b lost because they entered ...
2025-07-17 22:53:06,533 - INFO - OpenRouter response for nothingiisreal/mn-celeste-12b (attempt 1): {"id": "unknown", "model": "unknown", "choices": []}
2025-07-17 22:53:06,533 - WARNING - No valid response content from nothingiisreal/mn-celeste-12b (attempt 1)
2025-07-17 22:53:08,035 - INFO - Retry attempt 1/3 for model nothingiisreal/mn-celeste-12b
2025-07-17 22:53:08,035 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-17 22:53:08,035 - INFO - OpenRouter Request for nothingiisreal/mn-celeste-12b (attempt 2): {"model": "nothingiisreal/mn-celeste-12b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-17 22:53:10,935 - INFO - New game created: deepseek/deepseek-r1-0528 (White) vs meta-llama/llama-3.2-3b-instruct:free (Black)
2025-07-17 22:53:10,947 - INFO - WebSocket connection established for game game_1752785590_5386
2025-07-17 22:53:10,947 - INFO - Starting game: deepseek/deepseek-r1-0528 vs meta-llama/llama-3.2-3b-instruct:free
2025-07-17 22:53:10,948 - INFO - Calling OpenRouter API with model: deepseek/deepseek-r1-0528
2025-07-17 22:53:10,948 - INFO - OpenRouter Request for deepseek/deepseek-r1-0528 (attempt 1): {"model": "deepseek/deepseek-r1-0528", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:53:15,267 - INFO - OpenRouter response for deepseek/deepseek-r1-0528 (attempt 1): {"id": "gen-1752785591-YYKeijH9CpMMG4VK9q8B", "model": "deepseek/deepseek-r1-0528", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:53:15,268 - INFO - Received raw move 'e2e4' from model deepseek/deepseek-r1-0528
2025-07-17 22:53:15,269 - INFO - Using default board with active color: w
2025-07-17 22:53:15,270 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-17 22:53:15,273 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:53:16,299 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a strong opening move...
2025-07-17 22:53:16,775 - INFO - Calling OpenRouter API with model: meta-llama/llama-3.2-3b-instruct:free
2025-07-17 22:53:16,776 - INFO - Detected 0.5 move pairs already made in the game
2025-07-17 22:53:16,776 - INFO - Model has suffix: base=meta-llama/llama-3.2-3b-instruct, suffix=:free
2025-07-17 22:53:16,776 - INFO - OpenRouter Request for meta-llama/llama-3.2-3b-instruct:free (attempt 1): {"model": "meta-llama/llama-3.2-3b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:53:17,462 - ERROR - Error calling model meta-llama/llama-3.2-3b-instruct:free (attempt 1): Client error '429 Too Many Requests' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-07-17 22:53:17,462 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":429,"metadata":{"raw":"meta-llama/llama-3.2-3b-instruct:free is temporarily rate-limited upstream. Please retry shortly, or add your own key to accumulate your rate limits: https://openrouter.ai/settings/integrations","provider_name":"Venice"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-17 22:53:18,927 - INFO - New game created: deepseek/deepseek-r1-distill-qwen-32b (White) vs google/gemma-3-12b-it:free (Black)
2025-07-17 22:53:18,942 - INFO - WebSocket connection established for game game_1752785598_6304
2025-07-17 22:53:18,942 - INFO - Starting game: deepseek/deepseek-r1-distill-qwen-32b vs google/gemma-3-12b-it:free
2025-07-17 22:53:18,943 - INFO - Calling OpenRouter API with model: deepseek/deepseek-r1-distill-qwen-32b
2025-07-17 22:53:18,943 - INFO - OpenRouter Request for deepseek/deepseek-r1-distill-qwen-32b (attempt 1): {"model": "deepseek/deepseek-r1-distill-qwen-32b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:53:18,972 - INFO - Retry attempt 1/3 for model meta-llama/llama-3.2-3b-instruct:free
2025-07-17 22:53:18,972 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-17 22:53:18,972 - INFO - OpenRouter Request for meta-llama/llama-3.2-3b-instruct:free (attempt 2): {"model": "meta-llama/llama-3.2-3b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-17 22:53:19,389 - ERROR - Error calling model meta-llama/llama-3.2-3b-instruct:free (attempt 2): Client error '429 Too Many Requests' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-07-17 22:53:19,389 - ERROR - OpenRouter Error Response: {"error":{"message":"Rate limit exceeded: limit_rpm/meta-llama/llama-3.2-3b-instruct/e8440b11-29fb-4887-a222-eff9ba33dfbf. High demand for meta-llama/llama-3.2-3b-instruct:free on OpenRouter - limited to 1 requests per minute. Please retry shortly.","code":429,"metadata":{"headers":{"X-RateLimit-Limit":"1","X-RateLimit-Remaining":"0","X-RateLimit-Reset":"1752785640000"},"provider_name":null}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-17 22:53:20,891 - INFO - Retry attempt 2/3 for model meta-llama/llama-3.2-3b-instruct:free
2025-07-17 22:53:20,891 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-17 22:53:20,891 - INFO - Trying base model without suffix: meta-llama/llama-3.2-3b-instruct
2025-07-17 22:53:20,891 - INFO - OpenRouter Request for meta-llama/llama-3.2-3b-instruct (attempt 3): {"model": "meta-llama/llama-3.2-3b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-17 22:53:21,243 - INFO - OpenRouter response for meta-llama/llama-3.2-3b-instruct (attempt 3): {"id": "gen-1752785601-YLFAnD97ziRANkieLFYU", "model": "meta-llama/llama-3.2-3b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:53:21,244 - INFO - Received raw move 'Nf3' from model meta-llama/llama-3.2-3b-instruct:free
2025-07-17 22:53:21,245 - INFO - Using default board with active color: b
2025-07-17 22:53:21,245 - INFO - Attempting to interpret ambiguous move with API: 'Nf3'
2025-07-17 22:53:21,256 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'Nf3'
2025-07-17 22:53:21,949 - INFO - Interpreted move 'Nf3' as 'INVALID'
2025-07-17 22:53:21,949 - WARNING - Model meta-llama/llama-3.2-3b-instruct:free made an invalid move: 'Nf3' that couldn't be interpreted (attempt 1/5)
2025-07-17 22:53:21,950 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-07-17 22:53:36,878 - INFO - OpenRouter response for deepseek/deepseek-r1-distill-qwen-32b (attempt 1): {"id": "gen-1752785599-ae1VqnF6eW889Cz1jpDQ", "model": "deepseek/deepseek-r1-distill-qwen-32b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:53:36,878 - INFO - Received raw move 'The best initial move to contr' from model deepseek/deepseek-r1-distill-qwen-32b
2025-07-17 22:53:36,878 - INFO - Using default board with active color: w
2025-07-17 22:53:36,878 - INFO - Attempting to interpret ambiguous move with API: 'The best initial move to contr'
2025-07-17 22:53:36,888 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'The best initial move to contr'
2025-07-17 22:53:37,670 - INFO - Interpreted move 'The best initial move to contr' as 'e2e4'
2025-07-17 22:53:37,671 - INFO - Processed move: Raw 'The best initial move to contr' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-17 22:53:37,671 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:53:38,888 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a classic opening mov...
2025-07-17 22:53:39,174 - INFO - Calling OpenRouter API with model: google/gemma-3-12b-it:free
2025-07-17 22:53:39,175 - INFO - Detected 0.5 move pairs already made in the game
2025-07-17 22:53:39,175 - INFO - Model has suffix: base=google/gemma-3-12b-it, suffix=:free
2025-07-17 22:53:39,175 - INFO - OpenRouter Request for google/gemma-3-12b-it:free (attempt 1): {"model": "google/gemma-3-12b-it:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:53:41,401 - INFO - OpenRouter response for google/gemma-3-12b-it:free (attempt 1): {"id": "gen-1752785619-aRSqjIdyon8G9jUilIUy", "model": "google/gemma-3-12b-it:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:53:41,403 - INFO - Received raw move '>
d7d5' from model google/gemma-3-12b-it:free
2025-07-17 22:53:41,403 - INFO - Model returned multiline response. Using first line: '>'
2025-07-17 22:53:41,403 - INFO - Using default board with active color: b
2025-07-17 22:53:41,403 - INFO - Attempting to interpret ambiguous move with API: '>'
2025-07-17 22:53:41,426 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: '>'
2025-07-17 22:53:42,138 - INFO - Interpreted move '>' as 'INVALID'
2025-07-17 22:53:42,139 - WARNING - Model google/gemma-3-12b-it:free made an invalid move: '>
d7d5' that couldn't be interpreted (attempt 1/5)
2025-07-17 22:53:42,139 - INFO - Calling OpenRouter API with model: google/gemma-3-12b-it:free
2025-07-17 22:53:42,139 - INFO - Detected 0.5 move pairs already made in the game
2025-07-17 22:53:42,139 - INFO - Model has suffix: base=google/gemma-3-12b-it, suffix=:free
2025-07-17 22:53:42,139 - INFO - OpenRouter Request for google/gemma-3-12b-it:free (attempt 1): {"model": "google/gemma-3-12b-it:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:53:44,733 - INFO - OpenRouter response for google/gemma-3-12b-it:free (attempt 1): {"id": "gen-1752785622-tMffxiJlRE3YNlTyHX5I", "model": "google/gemma-3-12b-it:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:53:44,734 - INFO - Retry 1: Received raw move '>
c7c5' from model google/gemma-3-12b-it:free
2025-07-17 22:53:44,734 - INFO - Model returned multiline response. Using first line: '>'
2025-07-17 22:53:44,734 - INFO - Using default board with active color: b
2025-07-17 22:53:44,734 - INFO - Attempting to interpret ambiguous move with API: '>'
2025-07-17 22:53:44,758 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: '>'
2025-07-17 22:53:45,367 - INFO - Interpreted move '>' as 'INVALID'
2025-07-17 22:53:45,367 - WARNING - Model google/gemma-3-12b-it:free made an invalid move: '>
c7c5' that couldn't be interpreted (attempt 2/5)
2025-07-17 22:53:45,368 - INFO - Calling OpenRouter API with model: google/gemma-3-12b-it:free
2025-07-17 22:53:45,368 - INFO - Detected 0.5 move pairs already made in the game
2025-07-17 22:53:45,368 - INFO - Model has suffix: base=google/gemma-3-12b-it, suffix=:free
2025-07-17 22:53:45,368 - INFO - OpenRouter Request for google/gemma-3-12b-it:free (attempt 1): {"model": "google/gemma-3-12b-it:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:53:48,336 - INFO - OpenRouter response for google/gemma-3-12b-it:free (attempt 1): {"id": "gen-1752785625-YntbSCDGxanQzWSCRMv9", "model": "google/gemma-3-12b-it:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:53:48,337 - INFO - Retry 2: Received raw move '> c7c5' from model google/gemma-3-12b-it:free
2025-07-17 22:53:48,337 - INFO - Using default board with active color: b
2025-07-17 22:53:48,338 - INFO - Attempting to interpret ambiguous move with API: '> c7c5'
2025-07-17 22:53:48,361 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: '> c7c5'
2025-07-17 22:53:49,053 - INFO - Interpreted move '> c7c5' as 'c7c5'
2025-07-17 22:53:49,054 - INFO - Processed move: Raw '> c7c5' -> Interpreted 'c7c5' -> UCI 'c7c5' -> SAN 'c5'
2025-07-17 22:53:49,055 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:53:50,202 - INFO - Received commentary from openai/gpt-4.1-mini: 1...c5 is a strong and popular...
2025-07-17 22:53:50,560 - INFO - Calling OpenRouter API with model: deepseek/deepseek-r1-distill-qwen-32b
2025-07-17 22:53:50,560 - INFO - Detected 1 move pairs already made in the game
2025-07-17 22:53:50,560 - INFO - OpenRouter Request for deepseek/deepseek-r1-distill-qwen-32b (attempt 1): {"model": "deepseek/deepseek-r1-distill-qwen-32b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . p p p p p\n. . . . . . . .\n. . p . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 c7c5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:54:02,383 - INFO - OpenRouter response for deepseek/deepseek-r1-distill-qwen-32b (attempt 1): {"id": "gen-1752785630-VOvdWdjb7djGPd7WV0sS", "model": "deepseek/deepseek-r1-distill-qwen-32b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:54:02,384 - INFO - Received raw move 'c1g2' from model deepseek/deepseek-r1-distill-qwen-32b
2025-07-17 22:54:02,385 - INFO - Using default board with active color: w
2025-07-17 22:54:02,385 - INFO - Attempting to interpret ambiguous move with API: 'c1g2'
2025-07-17 22:54:02,410 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'c1g2'
2025-07-17 22:54:03,194 - INFO - Interpreted move 'c1g2' as 'INVALID'
2025-07-17 22:54:03,195 - WARNING - Model deepseek/deepseek-r1-distill-qwen-32b made an invalid move: 'c1g2' that couldn't be interpreted (attempt 1/5)
2025-07-17 22:54:03,196 - INFO - Calling OpenRouter API with model: deepseek/deepseek-r1-distill-qwen-32b
2025-07-17 22:54:03,196 - INFO - Detected 1 move pairs already made in the game
2025-07-17 22:54:03,196 - INFO - OpenRouter Request for deepseek/deepseek-r1-distill-qwen-32b (attempt 1): {"model": "deepseek/deepseek-r1-distill-qwen-32b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p . p p p p p\n. . . . . . . .\n. . p . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 c7c5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:54:12,515 - INFO - OpenRouter response for nothingiisreal/mn-celeste-12b (attempt 2): {"id": "unknown", "model": "unknown", "choices": []}
2025-07-17 22:54:12,515 - WARNING - No valid response content from nothingiisreal/mn-celeste-12b (attempt 2)
2025-07-17 22:54:14,016 - INFO - Retry attempt 2/3 for model nothingiisreal/mn-celeste-12b
2025-07-17 22:54:14,016 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-17 22:54:14,016 - INFO - OpenRouter Request for nothingiisreal/mn-celeste-12b (attempt 3): {"model": "nothingiisreal/mn-celeste-12b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-17 22:54:16,651 - INFO - New game created: nothingiisreal/mn-celeste-12b (White) vs openai/gpt-4-turbo (Black)
2025-07-17 22:54:16,666 - INFO - WebSocket connection established for game game_1752785656_8446
2025-07-17 22:54:16,666 - INFO - Starting game: nothingiisreal/mn-celeste-12b vs openai/gpt-4-turbo
2025-07-17 22:54:16,667 - INFO - Calling OpenRouter API with model: nothingiisreal/mn-celeste-12b
2025-07-17 22:54:16,667 - INFO - OpenRouter Request for nothingiisreal/mn-celeste-12b (attempt 1): {"model": "nothingiisreal/mn-celeste-12b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:54:20,756 - INFO - OpenRouter response for perplexity/sonar-deep-research (attempt 1): {"id": "gen-1752785532-b6ElyrcWQ5R9ZwhmKLUM", "model": "perplexity/sonar-deep-research", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:54:20,757 - INFO - Received raw move 'd2d4' from model perplexity/sonar-deep-research
2025-07-17 22:54:20,757 - INFO - Using default board with active color: w
2025-07-17 22:54:20,757 - INFO - Processed move: Raw 'd2d4' -> Interpreted 'd2d4' -> UCI 'd2d4' -> SAN 'd4'
2025-07-17 22:54:20,758 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-07-17 22:54:20,758 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:54:21,870 - INFO - Received commentary from openai/gpt-4.1-mini: 1. d4 ! White stakes a strong ...
2025-07-17 22:54:21,897 - INFO - OpenRouter response for nothingiisreal/mn-celeste-12b (attempt 1): {"id": "gen-1752785656-97DCeVefyDJ18rC7mbNY", "model": "nothingiisreal/mn-celeste-12b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:54:21,897 - INFO - Received raw move 'd2d4' from model nothingiisreal/mn-celeste-12b
2025-07-17 22:54:21,898 - INFO - Using default board with active color: w
2025-07-17 22:54:21,898 - INFO - Processed move: Raw 'd2d4' -> Interpreted 'd2d4' -> UCI 'd2d4' -> SAN 'd4'
2025-07-17 22:54:21,899 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:54:23,437 - INFO - Received commentary from openai/gpt-4.1-mini: 1. d4 ! White takes control of...
2025-07-17 22:54:23,748 - INFO - OpenRouter response for deepseek/deepseek-r1-distill-qwen-32b (attempt 1): {"id": "gen-1752785643-oN4qA898wspTCaxHsNvv", "model": "deepseek/deepseek-r1-distill-qwen-32b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:54:23,749 - INFO - Retry 1: Received raw move 'b1c3' from model deepseek/deepseek-r1-distill-qwen-32b
2025-07-17 22:54:23,749 - INFO - Using default board with active color: w
2025-07-17 22:54:23,749 - INFO - Processed move: Raw 'b1c3' -> Interpreted 'b1c3' -> UCI 'b1c3' -> SAN 'Nc3'
2025-07-17 22:54:23,750 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-07-17 22:54:23,750 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:54:23,904 - INFO - Calling OpenRouter API with model: openai/gpt-4-turbo
2025-07-17 22:54:23,904 - INFO - Detected 0.5 move pairs already made in the game
2025-07-17 22:54:23,904 - INFO - OpenRouter Request for openai/gpt-4-turbo (attempt 1): {"model": "openai/gpt-4-turbo", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . P . . . .\n. . . . . . . .\nP P P . P P P P\nR N B Q K B N R\n\nPrevious moves:\n1. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:54:24,696 - INFO - OpenRouter response for openai/gpt-4-turbo (attempt 1): {"id": "gen-1752785664-1y2cpboNjmcL8REpoq6o", "model": "openai/gpt-4-turbo", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:54:24,697 - INFO - Received raw move 'd7d5' from model openai/gpt-4-turbo
2025-07-17 22:54:24,697 - INFO - Using default board with active color: b
2025-07-17 22:54:24,698 - INFO - Processed move: Raw 'd7d5' -> Interpreted 'd7d5' -> UCI 'd7d5' -> SAN 'd5'
2025-07-17 22:54:24,699 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:54:24,949 - INFO - Received commentary from openai/gpt-4.1-mini: Nc3 develops a knight to contr...
2025-07-17 22:54:25,831 - INFO - Received commentary from openai/gpt-4.1-mini: 1...d5 is a solid response cha...
2025-07-17 22:54:26,201 - INFO - Calling OpenRouter API with model: nothingiisreal/mn-celeste-12b
2025-07-17 22:54:26,201 - INFO - Detected 1 move pairs already made in the game
2025-07-17 22:54:26,201 - INFO - OpenRouter Request for nothingiisreal/mn-celeste-12b (attempt 1): {"model": "nothingiisreal/mn-celeste-12b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . p p p p\n. . . . . . . .\n. . . p . . . .\n. . . P . . . .\n. . . . . . . .\nP P P . P P P P\nR N B Q K B N R\n\nPrevious moves:\n1. d2d4 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:54:30,862 - INFO - OpenRouter response for nothingiisreal/mn-celeste-12b (attempt 1): {"id": "gen-1752785666-3feS4qYRPJoRXTwJ9HS3", "model": "nothingiisreal/mn-celeste-12b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:54:30,863 - INFO - Received raw move 'd4e3' from model nothingiisreal/mn-celeste-12b
2025-07-17 22:54:30,863 - INFO - Using default board with active color: w
2025-07-17 22:54:30,863 - INFO - Attempting to interpret ambiguous move with API: 'd4e3'
2025-07-17 22:54:30,900 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd4e3'
2025-07-17 22:54:31,484 - INFO - Interpreted move 'd4e3' as 'd4e3'
2025-07-17 22:54:31,485 - WARNING - Interpreted move 'd4e3' is not legal on the current board
2025-07-17 22:54:31,485 - WARNING - Model nothingiisreal/mn-celeste-12b made an invalid move: 'd4e3' that couldn't be interpreted (attempt 1/5)
2025-07-17 22:54:31,486 - INFO - Calling OpenRouter API with model: nothingiisreal/mn-celeste-12b
2025-07-17 22:54:31,486 - INFO - Detected 1 move pairs already made in the game
2025-07-17 22:54:31,486 - INFO - OpenRouter Request for nothingiisreal/mn-celeste-12b (attempt 1): {"model": "nothingiisreal/mn-celeste-12b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . p p p p\n. . . . . . . .\n. . . p . . . .\n. . . P . . . .\n. . . . . . . .\nP P P . P P P P\nR N B Q K B N R\n\nPrevious moves:\n1. d2d4 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:54:33,737 - INFO - OpenRouter response for nothingiisreal/mn-celeste-12b (attempt 1): {"id": "gen-1752785671-4krYpNjYoJp2cvHTRbtY", "model": "nothingiisreal/mn-celeste-12b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:54:33,739 - INFO - Retry 1: Received raw move 'd4d5' from model nothingiisreal/mn-celeste-12b
2025-07-17 22:54:33,739 - INFO - Using default board with active color: w
2025-07-17 22:54:33,739 - INFO - Attempting to interpret ambiguous move with API: 'd4d5'
2025-07-17 22:54:33,770 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd4d5'
2025-07-17 22:54:34,383 - INFO - Interpreted move 'd4d5' as 'd4d5'
2025-07-17 22:54:34,384 - WARNING - Interpreted move 'd4d5' is not legal on the current board
2025-07-17 22:54:34,385 - WARNING - Model nothingiisreal/mn-celeste-12b made an invalid move: 'd4d5' that couldn't be interpreted (attempt 2/5)
2025-07-17 22:54:34,385 - INFO - Calling OpenRouter API with model: nothingiisreal/mn-celeste-12b
2025-07-17 22:54:34,385 - INFO - Detected 1 move pairs already made in the game
2025-07-17 22:54:34,386 - INFO - OpenRouter Request for nothingiisreal/mn-celeste-12b (attempt 1): {"model": "nothingiisreal/mn-celeste-12b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . p p p p\n. . . . . . . .\n. . . p . . . .\n. . . P . . . .\n. . . . . . . .\nP P P . P P P P\nR N B Q K B N R\n\nPrevious moves:\n1. d2d4 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:54:39,762 - INFO - OpenRouter response for nothingiisreal/mn-celeste-12b (attempt 1): {"id": "gen-1752785674-TnO89CjgHAvOApaI8sHX", "model": "nothingiisreal/mn-celeste-12b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:54:39,763 - INFO - Retry 2: Received raw move 'd4d5' from model nothingiisreal/mn-celeste-12b
2025-07-17 22:54:39,764 - INFO - Using default board with active color: w
2025-07-17 22:54:39,764 - INFO - Attempting to interpret ambiguous move with API: 'd4d5'
2025-07-17 22:54:39,799 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd4d5'
2025-07-17 22:54:40,453 - INFO - Interpreted move 'd4d5' as 'd2d4'
2025-07-17 22:54:40,454 - ERROR - Failed to convert move 'd2d4': ValueError: Illegal move: d2d4
2025-07-17 22:54:40,454 - WARNING - Move parsing attempt 1/5 failed, retrying...
2025-07-17 22:54:40,455 - INFO - Calling OpenRouter API with model: nothingiisreal/mn-celeste-12b
2025-07-17 22:54:40,455 - INFO - Detected 1 move pairs already made in the game
2025-07-17 22:54:40,455 - INFO - OpenRouter Request for nothingiisreal/mn-celeste-12b (attempt 1): {"model": "nothingiisreal/mn-celeste-12b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . p p p p\n. . . . . . . .\n. . . p . . . .\n. . . P . . . .\n. . . . . . . .\nP P P . P P P P\nR N B Q K B N R\n\nPrevious moves:\n1. d2d4 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:54:42,882 - INFO - OpenRouter response for nothingiisreal/mn-celeste-12b (attempt 1): {"id": "gen-1752785680-yuZGUxlxExau6XXMBWJk", "model": "nothingiisreal/mn-celeste-12b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:54:42,883 - INFO - Move retry 1: Received raw move 'nfc6' from model nothingiisreal/mn-celeste-12b
2025-07-17 22:54:42,883 - INFO - Using default board with active color: w
2025-07-17 22:54:42,883 - INFO - Attempting to interpret ambiguous move with API: 'nfc6'
2025-07-17 22:54:42,916 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'nfc6'
2025-07-17 22:54:43,546 - INFO - Interpreted move 'nfc6' as 'b1c6'
2025-07-17 22:54:43,547 - WARNING - Interpreted move 'b1c6' is not legal on the current board
2025-07-17 22:54:43,547 - WARNING - Interpreted move is still invalid during retry 1
2025-07-17 22:54:43,547 - ERROR - Failed to parse 'INVALID' as SAN: invalid san: 'INVALID'
2025-07-17 22:54:43,547 - ERROR - Failed to convert move 'INVALID': InvalidMoveError: invalid san: 'INVALID'
2025-07-17 22:54:43,547 - WARNING - Move parsing attempt 2/5 failed, retrying...
2025-07-17 22:54:43,548 - INFO - Calling OpenRouter API with model: nothingiisreal/mn-celeste-12b
2025-07-17 22:54:43,548 - INFO - Detected 1 move pairs already made in the game
2025-07-17 22:54:43,548 - INFO - OpenRouter Request for nothingiisreal/mn-celeste-12b (attempt 1): {"model": "nothingiisreal/mn-celeste-12b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . p p p p\n. . . . . . . .\n. . . p . . . .\n. . . P . . . .\n. . . . . . . .\nP P P . P P P P\nR N B Q K B N R\n\nPrevious moves:\n1. d2d4 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:54:48,145 - INFO - OpenRouter response for nothingiisreal/mn-celeste-12b (attempt 1): {"id": "gen-1752785683-VCTQ3xkgOLdf2CjmbsCD", "model": "nothingiisreal/mn-celeste-12b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:54:48,146 - INFO - Move retry 2: Received raw move 'e2e4' from model nothingiisreal/mn-celeste-12b
2025-07-17 22:54:48,146 - INFO - Using default board with active color: w
2025-07-17 22:54:48,146 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-17 22:54:48,148 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:54:49,272 - INFO - Received commentary from openai/gpt-4.1-mini: 2. e4!? challenges Black's paw...
2025-07-17 22:54:49,650 - INFO - Calling OpenRouter API with model: openai/gpt-4-turbo
2025-07-17 22:54:49,651 - INFO - Detected 1.5 move pairs already made in the game
2025-07-17 22:54:49,651 - INFO - OpenRouter Request for openai/gpt-4-turbo (attempt 1): {"model": "openai/gpt-4-turbo", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . p p p p\n. . . . . . . .\n. . . p . . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. d2d4 d7d5\n2. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:54:50,528 - INFO - OpenRouter response for openai/gpt-4-turbo (attempt 1): {"id": "gen-1752785689-iA6UUQAzAFUmjIPBerwr", "model": "openai/gpt-4-turbo", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:54:50,529 - INFO - Received raw move 'd5e4' from model openai/gpt-4-turbo
2025-07-17 22:54:50,530 - INFO - Using default board with active color: b
2025-07-17 22:54:50,530 - INFO - Attempting to interpret ambiguous move with API: 'd5e4'
2025-07-17 22:54:50,564 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd5e4'
2025-07-17 22:54:51,103 - INFO - Interpreted move 'd5e4' as 'd7d5'
2025-07-17 22:54:51,104 - ERROR - Failed to convert move 'd7d5': ValueError: Illegal move: d7d5
2025-07-17 22:54:51,104 - WARNING - Move parsing attempt 1/5 failed, retrying...
2025-07-17 22:54:51,104 - INFO - Calling OpenRouter API with model: openai/gpt-4-turbo
2025-07-17 22:54:51,104 - INFO - Detected 1.5 move pairs already made in the game
2025-07-17 22:54:51,104 - INFO - OpenRouter Request for openai/gpt-4-turbo (attempt 1): {"model": "openai/gpt-4-turbo", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . p p p p\n. . . . . . . .\n. . . p . . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. d2d4 d7d5\n2. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:54:52,016 - INFO - OpenRouter response for openai/gpt-4-turbo (attempt 1): {"id": "gen-1752785691-sFdQyijCl6bu7wW2FFQE", "model": "openai/gpt-4-turbo", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:54:52,017 - INFO - Move retry 1: Received raw move 'd5e4' from model openai/gpt-4-turbo
2025-07-17 22:54:52,017 - INFO - Using default board with active color: b
2025-07-17 22:54:52,018 - INFO - Attempting to interpret ambiguous move with API: 'd5e4'
2025-07-17 22:54:52,053 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd5e4'
2025-07-17 22:54:52,630 - INFO - Interpreted move 'd5e4' as 'd5e4'
2025-07-17 22:54:52,632 - WARNING - Interpreted move 'd5e4' is not legal on the current board
2025-07-17 22:54:52,633 - WARNING - Interpreted move is still invalid during retry 1
2025-07-17 22:54:52,633 - ERROR - Failed to parse 'INVALID' as SAN: invalid san: 'INVALID'
2025-07-17 22:54:52,633 - ERROR - Failed to convert move 'INVALID': InvalidMoveError: invalid san: 'INVALID'
2025-07-17 22:54:52,633 - WARNING - Move parsing attempt 2/5 failed, retrying...
2025-07-17 22:54:52,633 - INFO - Calling OpenRouter API with model: openai/gpt-4-turbo
2025-07-17 22:54:52,634 - INFO - Detected 1.5 move pairs already made in the game
2025-07-17 22:54:52,634 - INFO - OpenRouter Request for openai/gpt-4-turbo (attempt 1): {"model": "openai/gpt-4-turbo", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . p p p p\n. . . . . . . .\n. . . p . . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. d2d4 d7d5\n2. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:54:53,469 - INFO - OpenRouter response for openai/gpt-4-turbo (attempt 1): {"id": "gen-1752785692-LEQz90zQyzTm1lXzqy0d", "model": "openai/gpt-4-turbo", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:54:53,470 - INFO - Move retry 2: Received raw move 'd5e4' from model openai/gpt-4-turbo
2025-07-17 22:54:53,470 - INFO - Using default board with active color: b
2025-07-17 22:54:53,470 - INFO - Attempting to interpret ambiguous move with API: 'd5e4'
2025-07-17 22:54:53,504 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd5e4'
2025-07-17 22:54:54,272 - INFO - Interpreted move 'd5e4' as 'd7d5'
2025-07-17 22:54:54,272 - ERROR - Failed to convert move 'd7d5': ValueError: Illegal move: d7d5
2025-07-17 22:54:54,273 - WARNING - Move parsing attempt 3/5 failed, retrying...
2025-07-17 22:54:54,273 - INFO - Calling OpenRouter API with model: openai/gpt-4-turbo
2025-07-17 22:54:54,273 - INFO - Detected 1.5 move pairs already made in the game
2025-07-17 22:54:54,273 - INFO - OpenRouter Request for openai/gpt-4-turbo (attempt 1): {"model": "openai/gpt-4-turbo", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . p p p p\n. . . . . . . .\n. . . p . . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. d2d4 d7d5\n2. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:54:55,030 - INFO - OpenRouter response for openai/gpt-4-turbo (attempt 1): {"id": "gen-1752785694-jkMEwJXMXFs2Wl6eOXxb", "model": "openai/gpt-4-turbo", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:54:55,031 - INFO - Move retry 3: Received raw move 'd5e4' from model openai/gpt-4-turbo
2025-07-17 22:54:55,032 - INFO - Using default board with active color: b
2025-07-17 22:54:55,032 - INFO - Attempting to interpret ambiguous move with API: 'd5e4'
2025-07-17 22:54:55,063 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd5e4'
2025-07-17 22:54:55,761 - INFO - Interpreted move 'd5e4' as 'd7d5'
2025-07-17 22:54:55,762 - ERROR - Failed to convert move 'd7d5': ValueError: Illegal move: d7d5
2025-07-17 22:54:55,762 - WARNING - Move parsing attempt 4/5 failed, retrying...
2025-07-17 22:54:55,763 - INFO - Calling OpenRouter API with model: openai/gpt-4-turbo
2025-07-17 22:54:55,763 - INFO - Detected 1.5 move pairs already made in the game
2025-07-17 22:54:55,763 - INFO - OpenRouter Request for openai/gpt-4-turbo (attempt 1): {"model": "openai/gpt-4-turbo", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . p p p p\n. . . . . . . .\n. . . p . . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. d2d4 d7d5\n2. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:54:56,747 - INFO - OpenRouter response for openai/gpt-4-turbo (attempt 1): {"id": "gen-1752785695-9cFgXZ4TP51NkVSqZdbk", "model": "openai/gpt-4-turbo", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:54:56,749 - INFO - Move retry 4: Received raw move 'd5e4' from model openai/gpt-4-turbo
2025-07-17 22:54:56,749 - INFO - Using default board with active color: b
2025-07-17 22:54:56,749 - INFO - Attempting to interpret ambiguous move with API: 'd5e4'
2025-07-17 22:54:56,782 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd5e4'
2025-07-17 22:54:57,645 - INFO - Interpreted move 'd5e4' as 'd7d5'
2025-07-17 22:54:57,646 - ERROR - Failed to convert move 'd7d5': ValueError: Illegal move: d7d5
2025-07-17 22:54:57,646 - ERROR - Failed to parse/apply move after 5 attempts
2025-07-17 22:54:57,646 - ERROR - Recovery attempt failed: All move parsing retries failed for 'd7d5'
2025-07-17 22:54:57,647 - INFO - Requesting game over explanation from openai/gpt-4.1-mini
2025-07-17 22:54:59,141 - INFO - Received game over explanation: openai/gpt-4-turbo lost because it tried to make a...
2025-07-17 22:55:00,962 - INFO - New game created: openai/gpt-3.5-turbo-instruct (White) vs eleutherai/llemma_7b (Black)
2025-07-17 22:55:00,973 - INFO - WebSocket connection established for game game_1752785700_2489
2025-07-17 22:55:00,973 - INFO - Starting game: openai/gpt-3.5-turbo-instruct vs eleutherai/llemma_7b
2025-07-17 22:55:00,974 - INFO - Calling OpenRouter API with model: openai/gpt-3.5-turbo-instruct
2025-07-17 22:55:00,974 - INFO - OpenRouter Request for openai/gpt-3.5-turbo-instruct (attempt 1): {"model": "openai/gpt-3.5-turbo-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:55:03,170 - INFO - OpenRouter response for openai/gpt-3.5-turbo-instruct (attempt 1): {"id": "gen-1752785701-WFsH1yte5xhBSrZGYMHN", "model": "openai/gpt-3.5-turbo-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:55:03,172 - INFO - Received raw move 'd2d4' from model openai/gpt-3.5-turbo-instruct
2025-07-17 22:55:03,173 - INFO - Using default board with active color: w
2025-07-17 22:55:03,174 - INFO - Processed move: Raw 'd2d4' -> Interpreted 'd2d4' -> UCI 'd2d4' -> SAN 'd4'
2025-07-17 22:55:03,176 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:55:04,967 - INFO - Received commentary from openai/gpt-4.1-mini: 1. d4 ! White stakes claim in ...
2025-07-17 22:55:05,179 - INFO - Calling OpenRouter API with model: eleutherai/llemma_7b
2025-07-17 22:55:05,180 - INFO - Detected 0.5 move pairs already made in the game
2025-07-17 22:55:05,180 - INFO - OpenRouter Request for eleutherai/llemma_7b (attempt 1): {"model": "eleutherai/llemma_7b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . P . . . .\n. . . . . . . .\nP P P . P P P P\nR N B Q K B N R\n\nPrevious moves:\n1. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:55:06,489 - INFO - New game created: arcee-ai/virtuoso-medium-v2 (White) vs minimax/minimax-m1 (Black)
2025-07-17 22:55:06,502 - INFO - WebSocket connection established for game game_1752785706_8200
2025-07-17 22:55:06,503 - INFO - Starting game: arcee-ai/virtuoso-medium-v2 vs minimax/minimax-m1
2025-07-17 22:55:06,504 - INFO - Calling OpenRouter API with model: arcee-ai/virtuoso-medium-v2
2025-07-17 22:55:06,504 - INFO - OpenRouter Request for arcee-ai/virtuoso-medium-v2 (attempt 1): {"model": "arcee-ai/virtuoso-medium-v2", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:55:07,404 - ERROR - Error calling model arcee-ai/virtuoso-medium-v2 (attempt 1): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-17 22:55:07,404 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"id\": \"o3Ufufw-z1gNr-960ca36b039228ff\",\n  \"error\": {\n    \"message\": \"Input validation error: `inputs` tokens + `max_new_tokens` must be <= 32769. Given: 192 `inputs` tokens and 32768 `max_new_tokens`\",\n    \"type\": \"invalid_request_error\",\n    \"param\": \"max_tokens\",\n    \"code\": null\n  }\n}","provider_name":"Together"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-17 22:55:08,906 - INFO - Retry attempt 1/3 for model arcee-ai/virtuoso-medium-v2
2025-07-17 22:55:08,906 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-17 22:55:08,906 - INFO - OpenRouter Request for arcee-ai/virtuoso-medium-v2 (attempt 2): {"model": "arcee-ai/virtuoso-medium-v2", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-17 22:55:09,399 - ERROR - Error calling model arcee-ai/virtuoso-medium-v2 (attempt 2): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-17 22:55:09,399 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"id\": \"o3UfvGF-z1gNr-960ca379d7a2f7eb\",\n  \"error\": {\n    \"message\": \"Input validation error: `inputs` tokens + `max_new_tokens` must be <= 32769. Given: 81 `inputs` tokens and 32768 `max_new_tokens`\",\n    \"type\": \"invalid_request_error\",\n    \"param\": \"max_tokens\",\n    \"code\": null\n  }\n}","provider_name":"Together"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-17 22:55:10,900 - INFO - Retry attempt 2/3 for model arcee-ai/virtuoso-medium-v2
2025-07-17 22:55:10,901 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-17 22:55:10,901 - INFO - OpenRouter Request for arcee-ai/virtuoso-medium-v2 (attempt 3): {"model": "arcee-ai/virtuoso-medium-v2", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-17 22:55:11,582 - ERROR - Error calling model arcee-ai/virtuoso-medium-v2 (attempt 3): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-17 22:55:11,582 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"id\": \"o3Ufvv6-z1gNr-960ca386519eeeb6\",\n  \"error\": {\n    \"message\": \"Input validation error: `inputs` tokens + `max_new_tokens` must be <= 32769. Given: 83 `inputs` tokens and 32768 `max_new_tokens`\",\n    \"type\": \"invalid_request_error\",\n    \"param\": \"max_tokens\",\n    \"code\": null\n  }\n}","provider_name":"Together"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-17 22:55:13,083 - INFO - Retry attempt 3/3 for model arcee-ai/virtuoso-medium-v2
2025-07-17 22:55:13,084 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-17 22:55:13,084 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-17 22:55:13,084 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as WHITE.\nCurrent board:\n\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-17 22:55:14,398 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752785713-EQtksgBifbUZmee3pJZD", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:55:14,399 - INFO - Received raw move 'e2e4' from model arcee-ai/virtuoso-medium-v2
2025-07-17 22:55:14,399 - INFO - Using default board with active color: w
2025-07-17 22:55:14,399 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-17 22:55:14,400 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:55:15,582 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a good opening move t...
2025-07-17 22:55:15,903 - INFO - Calling OpenRouter API with model: minimax/minimax-m1
2025-07-17 22:55:15,903 - INFO - Detected 0.5 move pairs already made in the game
2025-07-17 22:55:15,904 - INFO - OpenRouter Request for minimax/minimax-m1 (attempt 1): {"model": "minimax/minimax-m1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:55:18,013 - INFO - OpenRouter response for nothingiisreal/mn-celeste-12b (attempt 3): {"id": "unknown", "model": "unknown", "choices": []}
2025-07-17 22:55:18,013 - WARNING - No valid response content from nothingiisreal/mn-celeste-12b (attempt 3)
2025-07-17 22:55:19,515 - INFO - Retry attempt 3/3 for model nothingiisreal/mn-celeste-12b
2025-07-17 22:55:19,516 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-17 22:55:19,516 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-17 22:55:19,516 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as WHITE.\nCurrent board:\n\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-17 22:55:20,332 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752785719-cKjcYTNXIzddb2eP6lyk", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:55:20,333 - INFO - Received raw move 'e2e4' from model nothingiisreal/mn-celeste-12b
2025-07-17 22:55:20,334 - INFO - Using default board with active color: w
2025-07-17 22:55:20,335 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-17 22:55:20,336 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-07-17 22:55:20,336 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:55:21,255 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a classic opening mov...
2025-07-17 22:55:36,656 - INFO - New game created: meta-llama/llama-3-70b-instruct (White) vs anthropic/claude-3.7-sonnet (Black)
2025-07-17 22:55:36,670 - INFO - WebSocket connection established for game game_1752785736_6915
2025-07-17 22:55:36,670 - INFO - Starting game: meta-llama/llama-3-70b-instruct vs anthropic/claude-3.7-sonnet
2025-07-17 22:55:36,671 - INFO - Calling OpenRouter API with model: meta-llama/llama-3-70b-instruct
2025-07-17 22:55:36,671 - INFO - OpenRouter Request for meta-llama/llama-3-70b-instruct (attempt 1): {"model": "meta-llama/llama-3-70b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:55:37,828 - INFO - OpenRouter response for meta-llama/llama-3-70b-instruct (attempt 1): {"id": "gen-1752785736-RKwZEsOCS4YWPWHeXkW7", "model": "meta-llama/llama-3-70b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:55:37,829 - INFO - Received raw move 'e2e4' from model meta-llama/llama-3-70b-instruct
2025-07-17 22:55:37,829 - INFO - Using default board with active color: w
2025-07-17 22:55:37,829 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-17 22:55:37,830 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:55:38,778 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4! White takes control of ...
2025-07-17 22:55:38,832 - INFO - Calling OpenRouter API with model: anthropic/claude-3.7-sonnet
2025-07-17 22:55:38,832 - INFO - Detected 0.5 move pairs already made in the game
2025-07-17 22:55:38,832 - INFO - OpenRouter Request for anthropic/claude-3.7-sonnet (attempt 1): {"model": "anthropic/claude-3.7-sonnet", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:55:40,595 - INFO - OpenRouter response for anthropic/claude-3.7-sonnet (attempt 1): {"id": "gen-1752785739-sNi0bwsvzurnmLFasYOP", "model": "anthropic/claude-3.7-sonnet", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:55:40,596 - INFO - Received raw move 'e7e5' from model anthropic/claude-3.7-sonnet
2025-07-17 22:55:40,597 - INFO - Using default board with active color: b
2025-07-17 22:55:40,597 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-07-17 22:55:40,599 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:55:41,631 - INFO - Received commentary from openai/gpt-4.1-mini: 1... e5 is a classical respons...
2025-07-17 22:55:42,102 - INFO - Calling OpenRouter API with model: meta-llama/llama-3-70b-instruct
2025-07-17 22:55:42,103 - INFO - Detected 1 move pairs already made in the game
2025-07-17 22:55:42,103 - INFO - OpenRouter Request for meta-llama/llama-3-70b-instruct (attempt 1): {"model": "meta-llama/llama-3-70b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:55:42,871 - INFO - OpenRouter response for meta-llama/llama-3-70b-instruct (attempt 1): {"id": "gen-1752785742-4qAtGKftKidIAABdqHqt", "model": "meta-llama/llama-3-70b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:55:42,873 - INFO - Received raw move 'Nb1c3' from model meta-llama/llama-3-70b-instruct
2025-07-17 22:55:42,873 - INFO - Removed piece prefix from move: b1c3
2025-07-17 22:55:42,874 - INFO - Using default board with active color: w
2025-07-17 22:55:42,874 - INFO - Processed move: Raw 'Nb1c3' -> Interpreted 'b1c3' -> UCI 'b1c3' -> SAN 'Nc3'
2025-07-17 22:55:42,876 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:55:43,816 - INFO - Received commentary from openai/gpt-4.1-mini: 2. Nc3 develops a knight to a ...
2025-07-17 22:55:43,878 - INFO - Calling OpenRouter API with model: anthropic/claude-3.7-sonnet
2025-07-17 22:55:43,878 - INFO - Detected 1.5 move pairs already made in the game
2025-07-17 22:55:43,878 - INFO - OpenRouter Request for anthropic/claude-3.7-sonnet (attempt 1): {"model": "anthropic/claude-3.7-sonnet", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . N . . . . .\nP P P P . P P P\nR . B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. b1c3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:55:45,533 - INFO - OpenRouter response for anthropic/claude-3.7-sonnet (attempt 1): {"id": "gen-1752785744-p7BcWY9RWAAuI8MmT1m7", "model": "anthropic/claude-3.7-sonnet", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:55:45,534 - INFO - Received raw move 'g8f6' from model anthropic/claude-3.7-sonnet
2025-07-17 22:55:45,535 - INFO - Using default board with active color: b
2025-07-17 22:55:45,535 - INFO - Processed move: Raw 'g8f6' -> Interpreted 'g8f6' -> UCI 'g8f6' -> SAN 'Nf6'
2025-07-17 22:55:45,536 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:55:46,825 - INFO - Received commentary from openai/gpt-4.1-mini: Black's Nf6 develops a knight ...
2025-07-17 22:55:47,045 - INFO - Calling OpenRouter API with model: meta-llama/llama-3-70b-instruct
2025-07-17 22:55:47,045 - INFO - Detected 2 move pairs already made in the game
2025-07-17 22:55:47,045 - INFO - OpenRouter Request for meta-llama/llama-3-70b-instruct (attempt 1): {"model": "meta-llama/llama-3-70b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p p . p p p\n. . . . . n . .\n. . . . p . . .\n. . . . P . . .\n. . N . . . . .\nP P P P . P P P\nR . B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. b1c3 g8f6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:55:47,586 - INFO - OpenRouter response for meta-llama/llama-3-70b-instruct (attempt 1): {"id": "gen-1752785747-u30c0gJtofUWhR4lZaFv", "model": "meta-llama/llama-3-70b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:55:47,587 - INFO - Received raw move 'nb1c3' from model meta-llama/llama-3-70b-instruct
2025-07-17 22:55:47,587 - INFO - Removed piece prefix from move: b1c3
2025-07-17 22:55:47,587 - INFO - Using default board with active color: w
2025-07-17 22:55:47,588 - ERROR - Failed to convert move 'b1c3': ValueError: Illegal move: b1c3
2025-07-17 22:55:47,589 - WARNING - Move parsing attempt 1/5 failed, retrying...
2025-07-17 22:55:47,590 - INFO - Calling OpenRouter API with model: meta-llama/llama-3-70b-instruct
2025-07-17 22:55:47,590 - INFO - Detected 2 move pairs already made in the game
2025-07-17 22:55:47,590 - INFO - OpenRouter Request for meta-llama/llama-3-70b-instruct (attempt 1): {"model": "meta-llama/llama-3-70b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p p . p p p\n. . . . . n . .\n. . . . p . . .\n. . . . P . . .\n. . N . . . . .\nP P P P . P P P\nR . B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. b1c3 g8f6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:55:48,051 - INFO - OpenRouter response for meta-llama/llama-3-70b-instruct (attempt 1): {"id": "gen-1752785747-nCtXn7zXoBFBPrBurx2Y", "model": "meta-llama/llama-3-70b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:55:48,052 - INFO - Move retry 1: Received raw move 'd2d4' from model meta-llama/llama-3-70b-instruct
2025-07-17 22:55:48,052 - INFO - Using default board with active color: w
2025-07-17 22:55:48,053 - INFO - Processed move: Raw 'd2d4' -> Interpreted 'd2d4' -> UCI 'd2d4' -> SAN 'd4'
2025-07-17 22:55:48,054 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:55:49,096 - INFO - Received commentary from openai/gpt-4.1-mini: 3. d4! challenges Black's cent...
2025-07-17 22:55:49,555 - INFO - Calling OpenRouter API with model: anthropic/claude-3.7-sonnet
2025-07-17 22:55:49,556 - INFO - Detected 2.5 move pairs already made in the game
2025-07-17 22:55:49,556 - INFO - OpenRouter Request for anthropic/claude-3.7-sonnet (attempt 1): {"model": "anthropic/claude-3.7-sonnet", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b . r\np p p p . p p p\n. . . . . n . .\n. . . . p . . .\n. . . P P . . .\n. . N . . . . .\nP P P . . P P P\nR . B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. b1c3 g8f6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:55:51,323 - INFO - OpenRouter response for anthropic/claude-3.7-sonnet (attempt 1): {"id": "gen-1752785749-TdO8PTVofzgO70KuoSzR", "model": "anthropic/claude-3.7-sonnet", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:55:51,324 - INFO - Received raw move 'e5d4' from model anthropic/claude-3.7-sonnet
2025-07-17 22:55:51,324 - INFO - Using default board with active color: b
2025-07-17 22:55:51,324 - INFO - Attempting to interpret ambiguous move with API: 'e5d4'
2025-07-17 22:55:51,351 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5d4'
2025-07-17 22:55:51,958 - INFO - Interpreted move 'e5d4' as 'e5d4'
2025-07-17 22:55:51,958 - WARNING - Interpreted move 'e5d4' is not legal on the current board
2025-07-17 22:55:51,959 - WARNING - Model anthropic/claude-3.7-sonnet made an invalid move: 'e5d4' that couldn't be interpreted (attempt 1/5)
2025-07-17 22:55:51,959 - INFO - Calling OpenRouter API with model: anthropic/claude-3.7-sonnet
2025-07-17 22:55:51,960 - INFO - Detected 2.5 move pairs already made in the game
2025-07-17 22:55:51,960 - INFO - OpenRouter Request for anthropic/claude-3.7-sonnet (attempt 1): {"model": "anthropic/claude-3.7-sonnet", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b . r\np p p p . p p p\n. . . . . n . .\n. . . . p . . .\n. . . P P . . .\n. . N . . . . .\nP P P . . P P P\nR . B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. b1c3 g8f6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:55:54,487 - INFO - OpenRouter response for anthropic/claude-3.7-sonnet (attempt 1): {"id": "gen-1752785752-qd7Yv3kZmaY6dUQYRicW", "model": "anthropic/claude-3.7-sonnet", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:55:54,487 - INFO - Retry 1: Received raw move 'e5d4' from model anthropic/claude-3.7-sonnet
2025-07-17 22:55:54,488 - INFO - Using default board with active color: b
2025-07-17 22:55:54,488 - INFO - Attempting to interpret ambiguous move with API: 'e5d4'
2025-07-17 22:55:54,509 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5d4'
2025-07-17 22:55:55,284 - INFO - Interpreted move 'e5d4' as 'e5d4'
2025-07-17 22:55:55,285 - WARNING - Interpreted move 'e5d4' is not legal on the current board
2025-07-17 22:55:55,286 - WARNING - Model anthropic/claude-3.7-sonnet made an invalid move: 'e5d4' that couldn't be interpreted (attempt 2/5)
2025-07-17 22:55:55,286 - INFO - Calling OpenRouter API with model: anthropic/claude-3.7-sonnet
2025-07-17 22:55:55,286 - INFO - Detected 2.5 move pairs already made in the game
2025-07-17 22:55:55,286 - INFO - OpenRouter Request for anthropic/claude-3.7-sonnet (attempt 1): {"model": "anthropic/claude-3.7-sonnet", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b . r\np p p p . p p p\n. . . . . n . .\n. . . . p . . .\n. . . P P . . .\n. . N . . . . .\nP P P . . P P P\nR . B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. b1c3 g8f6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:55:57,211 - INFO - OpenRouter response for anthropic/claude-3.7-sonnet (attempt 1): {"id": "gen-1752785755-Hidl1WvFogsjgD5fbTzT", "model": "anthropic/claude-3.7-sonnet", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:55:57,212 - INFO - Retry 2: Received raw move 'e5d4' from model anthropic/claude-3.7-sonnet
2025-07-17 22:55:57,212 - INFO - Using default board with active color: b
2025-07-17 22:55:57,212 - INFO - Attempting to interpret ambiguous move with API: 'e5d4'
2025-07-17 22:55:57,229 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5d4'
2025-07-17 22:55:57,881 - INFO - Interpreted move 'e5d4' as 'e5d4'
2025-07-17 22:55:57,882 - WARNING - Interpreted move 'e5d4' is not legal on the current board
2025-07-17 22:55:57,882 - WARNING - Model anthropic/claude-3.7-sonnet made an invalid move: 'e5d4' that couldn't be interpreted (attempt 3/5)
2025-07-17 22:55:57,883 - INFO - Calling OpenRouter API with model: anthropic/claude-3.7-sonnet
2025-07-17 22:55:57,883 - INFO - Detected 2.5 move pairs already made in the game
2025-07-17 22:55:57,883 - INFO - OpenRouter Request for anthropic/claude-3.7-sonnet (attempt 1): {"model": "anthropic/claude-3.7-sonnet", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b . r\np p p p . p p p\n. . . . . n . .\n. . . . p . . .\n. . . P P . . .\n. . N . . . . .\nP P P . . P P P\nR . B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. b1c3 g8f6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:55:59,530 - INFO - OpenRouter response for anthropic/claude-3.7-sonnet (attempt 1): {"id": "gen-1752785758-7LpEmQy1DjH07JLcvhfS", "model": "anthropic/claude-3.7-sonnet", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:55:59,531 - INFO - Retry 3: Received raw move 'e5d4' from model anthropic/claude-3.7-sonnet
2025-07-17 22:55:59,531 - INFO - Using default board with active color: b
2025-07-17 22:55:59,531 - INFO - Attempting to interpret ambiguous move with API: 'e5d4'
2025-07-17 22:55:59,552 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5d4'
2025-07-17 22:56:00,197 - INFO - Interpreted move 'e5d4' as 'e5d4'
2025-07-17 22:56:00,198 - WARNING - Interpreted move 'e5d4' is not legal on the current board
2025-07-17 22:56:00,198 - WARNING - Model anthropic/claude-3.7-sonnet made an invalid move: 'e5d4' that couldn't be interpreted (attempt 4/5)
2025-07-17 22:56:00,199 - INFO - Calling OpenRouter API with model: anthropic/claude-3.7-sonnet
2025-07-17 22:56:00,199 - INFO - Detected 2.5 move pairs already made in the game
2025-07-17 22:56:00,199 - INFO - OpenRouter Request for anthropic/claude-3.7-sonnet (attempt 1): {"model": "anthropic/claude-3.7-sonnet", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b . r\np p p p . p p p\n. . . . . n . .\n. . . . p . . .\n. . . P P . . .\n. . N . . . . .\nP P P . . P P P\nR . B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. b1c3 g8f6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:56:01,364 - INFO - OpenRouter response for anthropic/claude-3.7-sonnet (attempt 1): {"id": "gen-1752785760-MEA4icls92Fg7JyxGcZL", "model": "anthropic/claude-3.7-sonnet", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:56:01,364 - INFO - Retry 4: Received raw move 'e5d4' from model anthropic/claude-3.7-sonnet
2025-07-17 22:56:01,365 - INFO - Using default board with active color: b
2025-07-17 22:56:01,365 - INFO - Attempting to interpret ambiguous move with API: 'e5d4'
2025-07-17 22:56:01,379 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5d4'
2025-07-17 22:56:01,942 - INFO - Interpreted move 'e5d4' as 'e5d4'
2025-07-17 22:56:01,943 - WARNING - Interpreted move 'e5d4' is not legal on the current board
2025-07-17 22:56:01,943 - WARNING - Model anthropic/claude-3.7-sonnet made an invalid move: 'e5d4' that couldn't be interpreted (attempt 5/5)
2025-07-17 22:56:01,943 - ERROR - Model anthropic/claude-3.7-sonnet failed to make a valid move after 5 attempts
2025-07-17 22:56:01,943 - INFO - Requesting game over explanation from openai/gpt-4.1-mini
2025-07-17 22:56:03,166 - INFO - Received game over explanation: anthropic/claude-3.7-sonnet lost because it tried ...
2025-07-17 22:56:16,135 - INFO - New game created: anthropic/claude-3.5-sonnet-20240620:beta (White) vs deepseek/deepseek-r1 (Black)
2025-07-17 22:56:16,146 - INFO - WebSocket connection established for game game_1752785776_6455
2025-07-17 22:56:16,146 - INFO - Starting game: anthropic/claude-3.5-sonnet-20240620:beta vs deepseek/deepseek-r1
2025-07-17 22:56:16,149 - INFO - Calling OpenRouter API with model: anthropic/claude-3.5-sonnet-20240620:beta
2025-07-17 22:56:16,149 - INFO - Model has suffix: base=anthropic/claude-3.5-sonnet-20240620, suffix=:beta
2025-07-17 22:56:16,149 - INFO - OpenRouter Request for anthropic/claude-3.5-sonnet-20240620:beta (attempt 1): {"model": "anthropic/claude-3.5-sonnet-20240620:beta", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:56:17,140 - INFO - OpenRouter response for anthropic/claude-3.5-sonnet-20240620:beta (attempt 1): {"id": "gen-1752785776-BaNp6Zb2bKCE4NsaywKH", "model": "anthropic/claude-3.5-sonnet-20240620:beta", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:56:17,141 - INFO - Received raw move 'e2e4' from model anthropic/claude-3.5-sonnet-20240620:beta
2025-07-17 22:56:17,141 - INFO - Using default board with active color: w
2025-07-17 22:56:17,141 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-17 22:56:17,142 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:56:18,443 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 ! White takes control of...
2025-07-17 22:56:18,645 - INFO - Calling OpenRouter API with model: deepseek/deepseek-r1
2025-07-17 22:56:18,645 - INFO - Detected 0.5 move pairs already made in the game
2025-07-17 22:56:18,645 - INFO - OpenRouter Request for deepseek/deepseek-r1 (attempt 1): {"model": "deepseek/deepseek-r1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:56:39,964 - INFO - OpenRouter response for deepseek/deepseek-r1 (attempt 1): {"id": "gen-1752785778-K0vqtZ8mxShkObMlssd8", "model": "deepseek/deepseek-r1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:56:39,965 - INFO - Received raw move 'e7e5' from model deepseek/deepseek-r1
2025-07-17 22:56:39,965 - INFO - Using default board with active color: b
2025-07-17 22:56:39,965 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-07-17 22:56:39,967 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:56:41,053 - INFO - Received commentary from openai/gpt-4.1-mini: 1...e5 {Black challenges White...
2025-07-17 22:56:41,470 - INFO - Calling OpenRouter API with model: anthropic/claude-3.5-sonnet-20240620:beta
2025-07-17 22:56:41,470 - INFO - Detected 1 move pairs already made in the game
2025-07-17 22:56:41,470 - INFO - Model has suffix: base=anthropic/claude-3.5-sonnet-20240620, suffix=:beta
2025-07-17 22:56:41,470 - INFO - OpenRouter Request for anthropic/claude-3.5-sonnet-20240620:beta (attempt 1): {"model": "anthropic/claude-3.5-sonnet-20240620:beta", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:56:42,453 - INFO - OpenRouter response for anthropic/claude-3.5-sonnet-20240620:beta (attempt 1): {"id": "gen-1752785801-23SLfBfcvqmAahVP9rP3", "model": "anthropic/claude-3.5-sonnet-20240620:beta", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:56:42,454 - INFO - Received raw move 'd2d4' from model anthropic/claude-3.5-sonnet-20240620:beta
2025-07-17 22:56:42,454 - INFO - Using default board with active color: w
2025-07-17 22:56:42,455 - INFO - Processed move: Raw 'd2d4' -> Interpreted 'd2d4' -> UCI 'd2d4' -> SAN 'd4'
2025-07-17 22:56:42,457 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:56:43,532 - INFO - Received commentary from openai/gpt-4.1-mini: 2. d4 is an aggressive thrust ...
2025-07-17 22:56:43,960 - INFO - Calling OpenRouter API with model: deepseek/deepseek-r1
2025-07-17 22:56:43,960 - INFO - Detected 1.5 move pairs already made in the game
2025-07-17 22:56:43,960 - INFO - OpenRouter Request for deepseek/deepseek-r1 (attempt 1): {"model": "deepseek/deepseek-r1", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:57:22,932 - INFO - OpenRouter response for eleutherai/llemma_7b (attempt 1): {"id": "gen-1752785705-Zy9P70x2V5aD2gvgGWxL", "model": "eleutherai/llemma_7b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:57:22,933 - INFO - Received raw move '2r1k1/R1R5/2b1R1p1/pqP3b1/8/4P' from model eleutherai/llemma_7b
2025-07-17 22:57:22,933 - INFO - Using default board with active color: b
2025-07-17 22:57:22,933 - INFO - Attempting to interpret ambiguous move with API: '2r1k1/R1R5/2b1R1p1/pqP3b1/8/4P'
2025-07-17 22:57:22,955 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: '2r1k1/R1R5/2b1R1p1/pqP3b1/8/4P'
2025-07-17 22:57:23,522 - INFO - Interpreted move '2r1k1/R1R5/2b1R1p1/pqP3b1/8/4P' as 'INVALID'
2025-07-17 22:57:23,524 - WARNING - Model eleutherai/llemma_7b made an invalid move: '2r1k1/R1R5/2b1R1p1/pqP3b1/8/4P' that couldn't be interpreted (attempt 1/5)
2025-07-17 22:57:23,524 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-07-17 22:57:31,266 - INFO - New game created: google/gemini-flash-1.5-8b (White) vs openai/gpt-4.1-nano (Black)
2025-07-17 22:57:31,280 - INFO - WebSocket connection established for game game_1752785851_1413
2025-07-17 22:57:31,280 - INFO - Starting game: google/gemini-flash-1.5-8b vs openai/gpt-4.1-nano
2025-07-17 22:57:31,281 - INFO - Calling OpenRouter API with model: google/gemini-flash-1.5-8b
2025-07-17 22:57:31,281 - INFO - OpenRouter Request for google/gemini-flash-1.5-8b (attempt 1): {"model": "google/gemini-flash-1.5-8b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:57:31,870 - INFO - OpenRouter response for google/gemini-flash-1.5-8b (attempt 1): {"id": "gen-1752785851-WtpNXUI2xVc9AUSZBpfV", "model": "google/gemini-flash-1.5-8b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:57:31,871 - INFO - Received raw move 'e2e4' from model google/gemini-flash-1.5-8b
2025-07-17 22:57:31,871 - INFO - Using default board with active color: w
2025-07-17 22:57:31,872 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-17 22:57:31,874 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:57:32,899 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a strong and classica...
2025-07-17 22:57:33,381 - INFO - Calling OpenRouter API with model: openai/gpt-4.1-nano
2025-07-17 22:57:33,382 - INFO - Detected 0.5 move pairs already made in the game
2025-07-17 22:57:33,382 - INFO - OpenRouter Request for openai/gpt-4.1-nano (attempt 1): {"model": "openai/gpt-4.1-nano", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:57:33,696 - INFO - New game created: cognitivecomputations/dolphin3.0-mistral-24b:free (White) vs mistralai/mistral-small-24b-instruct-2501:free (Black)
2025-07-17 22:57:33,709 - INFO - WebSocket connection established for game game_1752785853_3690
2025-07-17 22:57:33,709 - INFO - Starting game: cognitivecomputations/dolphin3.0-mistral-24b:free vs mistralai/mistral-small-24b-instruct-2501:free
2025-07-17 22:57:33,712 - INFO - Calling OpenRouter API with model: cognitivecomputations/dolphin3.0-mistral-24b:free
2025-07-17 22:57:33,712 - INFO - Model has suffix: base=cognitivecomputations/dolphin3.0-mistral-24b, suffix=:free
2025-07-17 22:57:33,712 - INFO - OpenRouter Request for cognitivecomputations/dolphin3.0-mistral-24b:free (attempt 1): {"model": "cognitivecomputations/dolphin3.0-mistral-24b:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:57:34,388 - INFO - OpenRouter response for openai/gpt-4.1-nano (attempt 1): {"id": "gen-1752785853-AMUbX1FwQAcssUABPqrM", "model": "openai/gpt-4.1-nano", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:57:34,389 - INFO - Received raw move 'c7c5' from model openai/gpt-4.1-nano
2025-07-17 22:57:34,389 - INFO - Using default board with active color: b
2025-07-17 22:57:34,390 - INFO - Processed move: Raw 'c7c5' -> Interpreted 'c7c5' -> UCI 'c7c5' -> SAN 'c5'
2025-07-17 22:57:34,390 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-07-17 22:57:34,390 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:57:35,182 - INFO - OpenRouter response for cognitivecomputations/dolphin3.0-mistral-24b:free (attempt 1): {"id": "gen-1752785853-6PsA6Loe6Dk5o9pWKcGb", "model": "cognitivecomputations/dolphin3.0-mistral-24b:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:57:35,182 - INFO - Received raw move 'e2e4' from model cognitivecomputations/dolphin3.0-mistral-24b:free
2025-07-17 22:57:35,183 - INFO - Using default board with active color: w
2025-07-17 22:57:35,183 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-17 22:57:35,184 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:57:35,645 - INFO - Received commentary from openai/gpt-4.1-mini: 1... c5 is the Sicilian Defens...
2025-07-17 22:57:36,273 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 ! White opens with the k...
2025-07-17 22:57:36,686 - INFO - Calling OpenRouter API with model: mistralai/mistral-small-24b-instruct-2501:free
2025-07-17 22:57:36,687 - INFO - Detected 0.5 move pairs already made in the game
2025-07-17 22:57:36,687 - INFO - Model has suffix: base=mistralai/mistral-small-24b-instruct-2501, suffix=:free
2025-07-17 22:57:36,687 - INFO - OpenRouter Request for mistralai/mistral-small-24b-instruct-2501:free (attempt 1): {"model": "mistralai/mistral-small-24b-instruct-2501:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:57:38,185 - INFO - OpenRouter response for mistralai/mistral-small-24b-instruct-2501:free (attempt 1): {"id": "gen-1752785856-ePAw4eSVy9oaczPxzpln", "model": "mistralai/mistral-small-24b-instruct-2501:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:57:38,185 - INFO - Received raw move 'e7e5' from model mistralai/mistral-small-24b-instruct-2501:free
2025-07-17 22:57:38,186 - INFO - Using default board with active color: b
2025-07-17 22:57:38,186 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-07-17 22:57:38,186 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:57:39,407 - INFO - Received commentary from openai/gpt-4.1-mini: Black's move 1...e5 is a class...
2025-07-17 22:57:39,690 - INFO - Calling OpenRouter API with model: cognitivecomputations/dolphin3.0-mistral-24b:free
2025-07-17 22:57:39,690 - INFO - Detected 1 move pairs already made in the game
2025-07-17 22:57:39,690 - INFO - Model has suffix: base=cognitivecomputations/dolphin3.0-mistral-24b, suffix=:free
2025-07-17 22:57:39,690 - INFO - OpenRouter Request for cognitivecomputations/dolphin3.0-mistral-24b:free (attempt 1): {"model": "cognitivecomputations/dolphin3.0-mistral-24b:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:57:41,683 - INFO - OpenRouter response for cognitivecomputations/dolphin3.0-mistral-24b:free (attempt 1): {"id": "gen-1752785859-WaNrPQqV2BNTmcduKiza", "model": "cognitivecomputations/dolphin3.0-mistral-24b:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:57:41,684 - INFO - Received raw move 'N f3' from model cognitivecomputations/dolphin3.0-mistral-24b:free
2025-07-17 22:57:41,688 - INFO - Using default board with active color: w
2025-07-17 22:57:41,688 - INFO - Attempting to interpret ambiguous move with API: 'N f3'
2025-07-17 22:57:41,711 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'N f3'
2025-07-17 22:57:42,413 - INFO - Interpreted move 'N f3' as 'g1f3'
2025-07-17 22:57:42,414 - INFO - Processed move: Raw 'N f3' -> Interpreted 'g1f3' -> UCI 'g1f3' -> SAN 'Nf3'
2025-07-17 22:57:42,414 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:57:43,349 - INFO - Received commentary from openai/gpt-4.1-mini: Nf3 is a natural developing mo...
2025-07-17 22:57:43,417 - INFO - Calling OpenRouter API with model: mistralai/mistral-small-24b-instruct-2501:free
2025-07-17 22:57:43,420 - INFO - Detected 1.5 move pairs already made in the game
2025-07-17 22:57:43,420 - INFO - Model has suffix: base=mistralai/mistral-small-24b-instruct-2501, suffix=:free
2025-07-17 22:57:43,420 - INFO - OpenRouter Request for mistralai/mistral-small-24b-instruct-2501:free (attempt 1): {"model": "mistralai/mistral-small-24b-instruct-2501:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:57:44,775 - INFO - OpenRouter response for mistralai/mistral-small-24b-instruct-2501:free (attempt 1): {"id": "gen-1752785863-eLuXq22b2lEtgsoa1HDm", "model": "mistralai/mistral-small-24b-instruct-2501:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:57:44,777 - INFO - Received raw move 'g8f6' from model mistralai/mistral-small-24b-instruct-2501:free
2025-07-17 22:57:44,778 - INFO - Using default board with active color: b
2025-07-17 22:57:44,778 - INFO - Processed move: Raw 'g8f6' -> Interpreted 'g8f6' -> UCI 'g8f6' -> SAN 'Nf6'
2025-07-17 22:57:44,780 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:57:45,774 - INFO - Received commentary from openai/gpt-4.1-mini: Black's Nf6 challenges White's...
2025-07-17 22:57:45,780 - INFO - Calling OpenRouter API with model: cognitivecomputations/dolphin3.0-mistral-24b:free
2025-07-17 22:57:45,781 - INFO - Detected 2 move pairs already made in the game
2025-07-17 22:57:45,781 - INFO - Model has suffix: base=cognitivecomputations/dolphin3.0-mistral-24b, suffix=:free
2025-07-17 22:57:45,781 - INFO - OpenRouter Request for cognitivecomputations/dolphin3.0-mistral-24b:free (attempt 1): {"model": "cognitivecomputations/dolphin3.0-mistral-24b:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p p . p p p\n. . . . . n . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 g8f6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:57:47,676 - INFO - OpenRouter response for cognitivecomputations/dolphin3.0-mistral-24b:free (attempt 1): {"id": "gen-1752785865-fnM1XpslMqeE1dgJrobY", "model": "cognitivecomputations/dolphin3.0-mistral-24b:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:57:47,677 - INFO - Received raw move 'g1f4' from model cognitivecomputations/dolphin3.0-mistral-24b:free
2025-07-17 22:57:47,677 - INFO - Using default board with active color: w
2025-07-17 22:57:47,677 - INFO - Attempting to interpret ambiguous move with API: 'g1f4'
2025-07-17 22:57:47,699 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'g1f4'
2025-07-17 22:57:48,273 - INFO - Interpreted move 'g1f4' as 'INVALID'
2025-07-17 22:57:48,274 - WARNING - Model cognitivecomputations/dolphin3.0-mistral-24b:free made an invalid move: 'g1f4' that couldn't be interpreted (attempt 1/5)
2025-07-17 22:57:48,274 - INFO - Calling OpenRouter API with model: cognitivecomputations/dolphin3.0-mistral-24b:free
2025-07-17 22:57:48,274 - INFO - Detected 2 move pairs already made in the game
2025-07-17 22:57:48,274 - INFO - Model has suffix: base=cognitivecomputations/dolphin3.0-mistral-24b, suffix=:free
2025-07-17 22:57:48,274 - INFO - OpenRouter Request for cognitivecomputations/dolphin3.0-mistral-24b:free (attempt 1): {"model": "cognitivecomputations/dolphin3.0-mistral-24b:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p p . p p p\n. . . . . n . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 g8f6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:57:50,325 - INFO - OpenRouter response for cognitivecomputations/dolphin3.0-mistral-24b:free (attempt 1): {"id": "gen-1752785868-O9Nj5tXr2RBmj94QA3FJ", "model": "cognitivecomputations/dolphin3.0-mistral-24b:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:57:50,326 - INFO - Retry 1: Received raw move 'Nf3d' from model cognitivecomputations/dolphin3.0-mistral-24b:free
2025-07-17 22:57:50,326 - INFO - Using default board with active color: w
2025-07-17 22:57:50,326 - INFO - Attempting to interpret ambiguous move with API: 'Nf3d'
2025-07-17 22:57:50,348 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'Nf3d'
2025-07-17 22:57:51,156 - INFO - Interpreted move 'Nf3d' as 'g1f3'
2025-07-17 22:57:51,156 - ERROR - Failed to convert move 'g1f3': ValueError: Illegal move: g1f3
2025-07-17 22:57:51,156 - WARNING - Move parsing attempt 1/5 failed, retrying...
2025-07-17 22:57:51,156 - INFO - Calling OpenRouter API with model: cognitivecomputations/dolphin3.0-mistral-24b:free
2025-07-17 22:57:51,156 - INFO - Detected 2 move pairs already made in the game
2025-07-17 22:57:51,156 - INFO - Model has suffix: base=cognitivecomputations/dolphin3.0-mistral-24b, suffix=:free
2025-07-17 22:57:51,156 - INFO - OpenRouter Request for cognitivecomputations/dolphin3.0-mistral-24b:free (attempt 1): {"model": "cognitivecomputations/dolphin3.0-mistral-24b:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p p . p p p\n. . . . . n . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 g8f6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:57:52,468 - INFO - OpenRouter response for cognitivecomputations/dolphin3.0-mistral-24b:free (attempt 1): {"id": "gen-1752785871-M0G70w4fD43KOdJ1NLud", "model": "cognitivecomputations/dolphin3.0-mistral-24b:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:57:52,468 - INFO - Move retry 1: Received raw move 'g2g4' from model cognitivecomputations/dolphin3.0-mistral-24b:free
2025-07-17 22:57:52,469 - INFO - Using default board with active color: w
2025-07-17 22:57:52,469 - INFO - Processed move: Raw 'g2g4' -> Interpreted 'g2g4' -> UCI 'g2g4' -> SAN 'g4'
2025-07-17 22:57:52,469 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:57:53,811 - INFO - Received commentary from openai/gpt-4.1-mini: 3. g4?! is an aggressive but d...
2025-07-17 22:57:53,973 - INFO - Calling OpenRouter API with model: mistralai/mistral-small-24b-instruct-2501:free
2025-07-17 22:57:53,973 - INFO - Detected 2.5 move pairs already made in the game
2025-07-17 22:57:53,973 - INFO - Model has suffix: base=mistralai/mistral-small-24b-instruct-2501, suffix=:free
2025-07-17 22:57:53,973 - INFO - OpenRouter Request for mistralai/mistral-small-24b-instruct-2501:free (attempt 1): {"model": "mistralai/mistral-small-24b-instruct-2501:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b . r\np p p p . p p p\n. . . . . n . .\n. . . . p . . .\n. . . . P . P .\n. . . . . N . .\nP P P P . P . P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 g8f6\n3. g2g4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:57:56,103 - INFO - OpenRouter response for mistralai/mistral-small-24b-instruct-2501:free (attempt 1): {"id": "gen-1752785874-wcwEv00Yv3PRgpkzhN25", "model": "mistralai/mistral-small-24b-instruct-2501:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:57:56,103 - INFO - Received raw move 'd7d6' from model mistralai/mistral-small-24b-instruct-2501:free
2025-07-17 22:57:56,103 - INFO - Using default board with active color: b
2025-07-17 22:57:56,103 - INFO - Processed move: Raw 'd7d6' -> Interpreted 'd7d6' -> UCI 'd7d6' -> SAN 'd6'
2025-07-17 22:57:56,104 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:57:57,117 - INFO - Received commentary from openai/gpt-4.1-mini: 3...d6 is a solid move support...
2025-07-17 22:57:57,607 - INFO - Calling OpenRouter API with model: cognitivecomputations/dolphin3.0-mistral-24b:free
2025-07-17 22:57:57,607 - INFO - Detected 3 move pairs already made in the game
2025-07-17 22:57:57,607 - INFO - Model has suffix: base=cognitivecomputations/dolphin3.0-mistral-24b, suffix=:free
2025-07-17 22:57:57,607 - INFO - OpenRouter Request for cognitivecomputations/dolphin3.0-mistral-24b:free (attempt 1): {"model": "cognitivecomputations/dolphin3.0-mistral-24b:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p . . p p p\n. . . p . n . .\n. . . . p . . .\n. . . . P . P .\n. . . . . N . .\nP P P P . P . P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 g8f6\n3. g2g4 d7d6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:57:58,796 - INFO - OpenRouter response for cognitivecomputations/dolphin3.0-mistral-24b:free (attempt 1): {"id": "gen-1752785877-j2Ho3NL0fZGZmgKsAflF", "model": "cognitivecomputations/dolphin3.0-mistral-24b:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:57:58,798 - INFO - Received raw move 'g4f3' from model cognitivecomputations/dolphin3.0-mistral-24b:free
2025-07-17 22:57:58,798 - INFO - Using default board with active color: w
2025-07-17 22:57:58,798 - INFO - Attempting to interpret ambiguous move with API: 'g4f3'
2025-07-17 22:57:58,826 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'g4f3'
2025-07-17 22:57:59,717 - INFO - Interpreted move 'g4f3' as 'g4f3'
2025-07-17 22:57:59,718 - WARNING - Interpreted move 'g4f3' is not legal on the current board
2025-07-17 22:57:59,718 - WARNING - Model cognitivecomputations/dolphin3.0-mistral-24b:free made an invalid move: 'g4f3' that couldn't be interpreted (attempt 1/5)
2025-07-17 22:57:59,719 - INFO - Calling OpenRouter API with model: cognitivecomputations/dolphin3.0-mistral-24b:free
2025-07-17 22:57:59,719 - INFO - Detected 3 move pairs already made in the game
2025-07-17 22:57:59,719 - INFO - Model has suffix: base=cognitivecomputations/dolphin3.0-mistral-24b, suffix=:free
2025-07-17 22:57:59,719 - INFO - OpenRouter Request for cognitivecomputations/dolphin3.0-mistral-24b:free (attempt 1): {"model": "cognitivecomputations/dolphin3.0-mistral-24b:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p . . p p p\n. . . p . n . .\n. . . . p . . .\n. . . . P . P .\n. . . . . N . .\nP P P P . P . P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 g8f6\n3. g2g4 d7d6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:58:01,134 - INFO - OpenRouter response for cognitivecomputations/dolphin3.0-mistral-24b:free (attempt 1): {"id": "gen-1752785879-VJcnetdtJn7BTcoWHLUX", "model": "cognitivecomputations/dolphin3.0-mistral-24b:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:58:01,134 - INFO - Retry 1: Received raw move 'g2f4' from model cognitivecomputations/dolphin3.0-mistral-24b:free
2025-07-17 22:58:01,135 - INFO - Using default board with active color: w
2025-07-17 22:58:01,135 - INFO - Attempting to interpret ambiguous move with API: 'g2f4'
2025-07-17 22:58:01,157 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'g2f4'
2025-07-17 22:58:01,608 - INFO - Interpreted move 'g2f4' as 'INVALID'
2025-07-17 22:58:01,609 - WARNING - Model cognitivecomputations/dolphin3.0-mistral-24b:free made an invalid move: 'g2f4' that couldn't be interpreted (attempt 2/5)
2025-07-17 22:58:01,609 - INFO - Calling OpenRouter API with model: cognitivecomputations/dolphin3.0-mistral-24b:free
2025-07-17 22:58:01,610 - INFO - Detected 3 move pairs already made in the game
2025-07-17 22:58:01,610 - INFO - Model has suffix: base=cognitivecomputations/dolphin3.0-mistral-24b, suffix=:free
2025-07-17 22:58:01,610 - INFO - OpenRouter Request for cognitivecomputations/dolphin3.0-mistral-24b:free (attempt 1): {"model": "cognitivecomputations/dolphin3.0-mistral-24b:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p . . p p p\n. . . p . n . .\n. . . . p . . .\n. . . . P . P .\n. . . . . N . .\nP P P P . P . P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 g8f6\n3. g2g4 d7d6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:58:02,702 - INFO - OpenRouter response for cognitivecomputations/dolphin3.0-mistral-24b:free (attempt 1): {"id": "gen-1752785881-fokJbnF4iyJzGeptmYjj", "model": "cognitivecomputations/dolphin3.0-mistral-24b:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:58:02,702 - INFO - Retry 2: Received raw move 'g4f3' from model cognitivecomputations/dolphin3.0-mistral-24b:free
2025-07-17 22:58:02,702 - INFO - Using default board with active color: w
2025-07-17 22:58:02,702 - INFO - Attempting to interpret ambiguous move with API: 'g4f3'
2025-07-17 22:58:02,724 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'g4f3'
2025-07-17 22:58:03,253 - INFO - Interpreted move 'g4f3' as 'g4f3'
2025-07-17 22:58:03,254 - WARNING - Interpreted move 'g4f3' is not legal on the current board
2025-07-17 22:58:03,255 - WARNING - Model cognitivecomputations/dolphin3.0-mistral-24b:free made an invalid move: 'g4f3' that couldn't be interpreted (attempt 3/5)
2025-07-17 22:58:03,256 - INFO - Calling OpenRouter API with model: cognitivecomputations/dolphin3.0-mistral-24b:free
2025-07-17 22:58:03,256 - INFO - Detected 3 move pairs already made in the game
2025-07-17 22:58:03,257 - INFO - Model has suffix: base=cognitivecomputations/dolphin3.0-mistral-24b, suffix=:free
2025-07-17 22:58:03,257 - INFO - OpenRouter Request for cognitivecomputations/dolphin3.0-mistral-24b:free (attempt 1): {"model": "cognitivecomputations/dolphin3.0-mistral-24b:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p . . p p p\n. . . p . n . .\n. . . . p . . .\n. . . . P . P .\n. . . . . N . .\nP P P P . P . P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 g8f6\n3. g2g4 d7d6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:58:04,279 - INFO - OpenRouter response for cognitivecomputations/dolphin3.0-mistral-24b:free (attempt 1): {"id": "gen-1752785883-MPUULL7bbQYT153s9X9P", "model": "cognitivecomputations/dolphin3.0-mistral-24b:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:58:04,280 - INFO - Retry 3: Received raw move 'g4d3' from model cognitivecomputations/dolphin3.0-mistral-24b:free
2025-07-17 22:58:04,280 - INFO - Using default board with active color: w
2025-07-17 22:58:04,281 - INFO - Attempting to interpret ambiguous move with API: 'g4d3'
2025-07-17 22:58:04,316 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'g4d3'
2025-07-17 22:58:04,808 - INFO - Interpreted move 'g4d3' as 'g4d3'
2025-07-17 22:58:04,809 - WARNING - Interpreted move 'g4d3' is not legal on the current board
2025-07-17 22:58:04,809 - WARNING - Model cognitivecomputations/dolphin3.0-mistral-24b:free made an invalid move: 'g4d3' that couldn't be interpreted (attempt 4/5)
2025-07-17 22:58:04,809 - INFO - Calling OpenRouter API with model: cognitivecomputations/dolphin3.0-mistral-24b:free
2025-07-17 22:58:04,809 - INFO - Detected 3 move pairs already made in the game
2025-07-17 22:58:04,810 - INFO - Model has suffix: base=cognitivecomputations/dolphin3.0-mistral-24b, suffix=:free
2025-07-17 22:58:04,810 - INFO - OpenRouter Request for cognitivecomputations/dolphin3.0-mistral-24b:free (attempt 1): {"model": "cognitivecomputations/dolphin3.0-mistral-24b:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b . r\np p p . . p p p\n. . . p . n . .\n. . . . p . . .\n. . . . P . P .\n. . . . . N . .\nP P P P . P . P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 g8f6\n3. g2g4 d7d6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:58:06,073 - INFO - OpenRouter response for cognitivecomputations/dolphin3.0-mistral-24b:free (attempt 1): {"id": "gen-1752785884-EFBXio31cYLjR2LyDEKr", "model": "cognitivecomputations/dolphin3.0-mistral-24b:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:58:06,073 - INFO - Retry 4: Received raw move 'g4f3' from model cognitivecomputations/dolphin3.0-mistral-24b:free
2025-07-17 22:58:06,073 - INFO - Using default board with active color: w
2025-07-17 22:58:06,074 - INFO - Attempting to interpret ambiguous move with API: 'g4f3'
2025-07-17 22:58:06,101 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'g4f3'
2025-07-17 22:58:06,683 - INFO - Interpreted move 'g4f3' as 'g4f3'
2025-07-17 22:58:06,683 - WARNING - Interpreted move 'g4f3' is not legal on the current board
2025-07-17 22:58:06,683 - WARNING - Model cognitivecomputations/dolphin3.0-mistral-24b:free made an invalid move: 'g4f3' that couldn't be interpreted (attempt 5/5)
2025-07-17 22:58:06,683 - ERROR - Model cognitivecomputations/dolphin3.0-mistral-24b:free failed to make a valid move after 5 attempts
2025-07-17 22:58:06,683 - INFO - Requesting game over explanation from openai/gpt-4.1-mini
2025-07-17 22:58:08,084 - INFO - Received game over explanation: The game ended because cognitivecomputations/dolph...
2025-07-17 22:58:09,816 - INFO - New game created: alfredpros/codellama-7b-instruct-solidity (White) vs deepseek/deepseek-r1-distill-qwen-1.5b (Black)
2025-07-17 22:58:09,829 - INFO - WebSocket connection established for game game_1752785889_7289
2025-07-17 22:58:09,829 - INFO - Starting game: alfredpros/codellama-7b-instruct-solidity vs deepseek/deepseek-r1-distill-qwen-1.5b
2025-07-17 22:58:09,831 - INFO - Calling OpenRouter API with model: alfredpros/codellama-7b-instruct-solidity
2025-07-17 22:58:09,831 - INFO - OpenRouter Request for alfredpros/codellama-7b-instruct-solidity (attempt 1): {"model": "alfredpros/codellama-7b-instruct-solidity", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:58:13,157 - INFO - OpenRouter response for alfredpros/codellama-7b-instruct-solidity (attempt 1): {"id": "gen-1752785889-F4vexatU2cePkVk2e5sS", "model": "alfredpros/codellama-7b-instruct-solidity", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:58:13,158 - INFO - Received raw move 'e4' from model alfredpros/codellama-7b-instruct-solidity
2025-07-17 22:58:13,158 - INFO - Using default board with active color: w
2025-07-17 22:58:13,159 - INFO - Expanded pawn shorthand e4 to e2e4
2025-07-17 22:58:13,159 - INFO - Processed move: Raw 'e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-17 22:58:13,161 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:58:14,172 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a classic and strong ...
2025-07-17 22:58:14,664 - INFO - Calling OpenRouter API with model: deepseek/deepseek-r1-distill-qwen-1.5b
2025-07-17 22:58:14,664 - INFO - Detected 0.5 move pairs already made in the game
2025-07-17 22:58:14,665 - INFO - OpenRouter Request for deepseek/deepseek-r1-distill-qwen-1.5b (attempt 1): {"model": "deepseek/deepseek-r1-distill-qwen-1.5b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:58:16,818 - INFO - OpenRouter response for deepseek/deepseek-r1-distill-qwen-1.5b (attempt 1): {"id": "gen-1752785894-TWvhRIZCqEIhsme7N1zQ", "model": "deepseek/deepseek-r1-distill-qwen-1.5b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:58:16,821 - INFO - Received raw move 'b5d8' from model deepseek/deepseek-r1-distill-qwen-1.5b
2025-07-17 22:58:16,822 - INFO - Using default board with active color: b
2025-07-17 22:58:16,822 - INFO - Attempting to interpret ambiguous move with API: 'b5d8'
2025-07-17 22:58:16,854 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'b5d8'
2025-07-17 22:58:17,772 - INFO - Interpreted move 'b5d8' as 'b7d8'
2025-07-17 22:58:17,772 - WARNING - Interpreted move 'b7d8' is not legal on the current board
2025-07-17 22:58:17,773 - WARNING - Model deepseek/deepseek-r1-distill-qwen-1.5b made an invalid move: 'b5d8' that couldn't be interpreted (attempt 1/5)
2025-07-17 22:58:17,773 - INFO - Calling OpenRouter API with model: deepseek/deepseek-r1-distill-qwen-1.5b
2025-07-17 22:58:17,773 - INFO - Detected 0.5 move pairs already made in the game
2025-07-17 22:58:17,773 - INFO - OpenRouter Request for deepseek/deepseek-r1-distill-qwen-1.5b (attempt 1): {"model": "deepseek/deepseek-r1-distill-qwen-1.5b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:58:23,515 - INFO - OpenRouter response for deepseek/deepseek-r1-distill-qwen-1.5b (attempt 1): {"id": "gen-1752785897-Klau2mLb9i1tMPnwJHrd", "model": "deepseek/deepseek-r1-distill-qwen-1.5b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:58:23,516 - INFO - Retry 1: Received raw move 'e6e7e5e6e7e8' from model deepseek/deepseek-r1-distill-qwen-1.5b
2025-07-17 22:58:23,516 - INFO - Using default board with active color: b
2025-07-17 22:58:23,516 - INFO - Attempting to interpret ambiguous move with API: 'e6e7e5e6e7e8'
2025-07-17 22:58:23,548 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e6e7e5e6e7e8'
2025-07-17 22:58:24,096 - INFO - Interpreted move 'e6e7e5e6e7e8' as 'INVALID'
2025-07-17 22:58:24,097 - WARNING - Model deepseek/deepseek-r1-distill-qwen-1.5b made an invalid move: 'e6e7e5e6e7e8' that couldn't be interpreted (attempt 2/5)
2025-07-17 22:58:24,098 - INFO - Calling OpenRouter API with model: deepseek/deepseek-r1-distill-qwen-1.5b
2025-07-17 22:58:24,098 - INFO - Detected 0.5 move pairs already made in the game
2025-07-17 22:58:24,098 - INFO - OpenRouter Request for deepseek/deepseek-r1-distill-qwen-1.5b (attempt 1): {"model": "deepseek/deepseek-r1-distill-qwen-1.5b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:58:26,966 - INFO - OpenRouter response for deepseek/deepseek-r1-distill-qwen-1.5b (attempt 1): {"id": "gen-1752785904-1Q1K6LRhT6yxt5nLM0wj", "model": "deepseek/deepseek-r1-distill-qwen-1.5b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:58:26,969 - INFO - Retry 2: Received raw move 'e4' from model deepseek/deepseek-r1-distill-qwen-1.5b
2025-07-17 22:58:26,969 - INFO - Using default board with active color: b
2025-07-17 22:58:26,970 - INFO - Attempting to interpret ambiguous move with API: 'e4'
2025-07-17 22:58:26,992 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e4'
2025-07-17 22:58:27,496 - INFO - Interpreted move 'e4' as 'INVALID'
2025-07-17 22:58:27,496 - WARNING - Model deepseek/deepseek-r1-distill-qwen-1.5b made an invalid move: 'e4' that couldn't be interpreted (attempt 3/5)
2025-07-17 22:58:27,496 - INFO - Calling OpenRouter API with model: deepseek/deepseek-r1-distill-qwen-1.5b
2025-07-17 22:58:27,496 - INFO - Detected 0.5 move pairs already made in the game
2025-07-17 22:58:27,496 - INFO - OpenRouter Request for deepseek/deepseek-r1-distill-qwen-1.5b (attempt 1): {"model": "deepseek/deepseek-r1-distill-qwen-1.5b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:58:29,379 - INFO - OpenRouter response for deepseek/deepseek-r1-distill-qwen-1.5b (attempt 1): {"id": "gen-1752785907-Tbj5qXdJecEdkGF62pdz", "model": "deepseek/deepseek-r1-distill-qwen-1.5b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:58:29,380 - INFO - Retry 3: Received raw move 'The best move is to capture th' from model deepseek/deepseek-r1-distill-qwen-1.5b
2025-07-17 22:58:29,380 - INFO - Using default board with active color: b
2025-07-17 22:58:29,380 - INFO - Attempting to interpret ambiguous move with API: 'The best move is to capture th'
2025-07-17 22:58:29,402 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'The best move is to capture th'
2025-07-17 22:58:30,085 - INFO - Interpreted move 'The best move is to capture th' as 'INVALID'
2025-07-17 22:58:30,086 - WARNING - Model deepseek/deepseek-r1-distill-qwen-1.5b made an invalid move: 'The best move is to capture th' that couldn't be interpreted (attempt 4/5)
2025-07-17 22:58:30,086 - INFO - Calling OpenRouter API with model: deepseek/deepseek-r1-distill-qwen-1.5b
2025-07-17 22:58:30,086 - INFO - Detected 0.5 move pairs already made in the game
2025-07-17 22:58:30,086 - INFO - OpenRouter Request for deepseek/deepseek-r1-distill-qwen-1.5b (attempt 1): {"model": "deepseek/deepseek-r1-distill-qwen-1.5b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:58:32,220 - INFO - OpenRouter response for deepseek/deepseek-r1-distill-qwen-1.5b (attempt 1): {"id": "gen-1752785910-NCoPu8o7rGLdBorwJ9wY", "model": "deepseek/deepseek-r1-distill-qwen-1.5b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:58:32,221 - INFO - Retry 4: Received raw move 'b5xFrom d5 To e4, B3xFrom ["B3' from model deepseek/deepseek-r1-distill-qwen-1.5b
2025-07-17 22:58:32,221 - INFO - Using default board with active color: b
2025-07-17 22:58:32,221 - INFO - Attempting to interpret ambiguous move with API: 'b5xFrom d5 To e4 B3xFrom ["B3'
2025-07-17 22:58:32,241 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'b5xFrom d5 To e4 B3xFrom ["B3'
2025-07-17 22:58:32,756 - INFO - Interpreted move 'b5xFrom d5 To e4 B3xFrom ["B3' as 'INVALID'
2025-07-17 22:58:32,757 - WARNING - Model deepseek/deepseek-r1-distill-qwen-1.5b made an invalid move: 'b5xFrom d5 To e4, B3xFrom ["B3' that couldn't be interpreted (attempt 5/5)
2025-07-17 22:58:32,757 - ERROR - Model deepseek/deepseek-r1-distill-qwen-1.5b failed to make a valid move after 5 attempts
2025-07-17 22:58:32,757 - INFO - Requesting game over explanation from openai/gpt-4.1-mini
2025-07-17 22:58:34,849 - INFO - OpenRouter response for deepseek/deepseek-r1 (attempt 1): {"id": "gen-1752785804-amdiGrs15kVUnh33DEGE", "model": "deepseek/deepseek-r1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:58:34,850 - INFO - Received raw move 'e5d4' from model deepseek/deepseek-r1
2025-07-17 22:58:34,850 - INFO - Using default board with active color: b
2025-07-17 22:58:34,850 - INFO - Attempting to interpret ambiguous move with API: 'e5d4'
2025-07-17 22:58:34,873 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5d4'
2025-07-17 22:58:35,034 - INFO - Received game over explanation: Deepseek/deepseek-r1-distill-qwen-1.5b lost becaus...
2025-07-17 22:58:35,425 - INFO - Interpreted move 'e5d4' as 'e5d4'
2025-07-17 22:58:35,427 - WARNING - Interpreted move 'e5d4' is not legal on the current board
2025-07-17 22:58:35,427 - WARNING - Model deepseek/deepseek-r1 made an invalid move: 'e5d4' that couldn't be interpreted (attempt 1/5)
2025-07-17 22:58:35,428 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-07-17 22:58:39,574 - INFO - New game created: mistralai/mistral-small-24b-instruct-2501 (White) vs thedrummer/unslopnemo-12b (Black)
2025-07-17 22:58:39,588 - INFO - WebSocket connection established for game game_1752785919_8192
2025-07-17 22:58:39,588 - INFO - Starting game: mistralai/mistral-small-24b-instruct-2501 vs thedrummer/unslopnemo-12b
2025-07-17 22:58:39,589 - INFO - Calling OpenRouter API with model: mistralai/mistral-small-24b-instruct-2501
2025-07-17 22:58:39,589 - INFO - OpenRouter Request for mistralai/mistral-small-24b-instruct-2501 (attempt 1): {"model": "mistralai/mistral-small-24b-instruct-2501", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:58:40,035 - INFO - OpenRouter response for mistralai/mistral-small-24b-instruct-2501 (attempt 1): {"id": "gen-1752785919-XfcuJ3ZGikY64XnoQdb1", "model": "mistralai/mistral-small-24b-instruct-2501", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:58:40,036 - INFO - Received raw move 'e2e4' from model mistralai/mistral-small-24b-instruct-2501
2025-07-17 22:58:40,037 - INFO - Using default board with active color: w
2025-07-17 22:58:40,037 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-17 22:58:40,038 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:58:41,408 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a classic opening mov...
2025-07-17 22:58:41,540 - INFO - Calling OpenRouter API with model: thedrummer/unslopnemo-12b
2025-07-17 22:58:41,540 - INFO - Detected 0.5 move pairs already made in the game
2025-07-17 22:58:41,540 - INFO - OpenRouter Request for thedrummer/unslopnemo-12b (attempt 1): {"model": "thedrummer/unslopnemo-12b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:58:42,309 - INFO - OpenRouter response for thedrummer/unslopnemo-12b (attempt 1): {"id": "gen-1752785921-uaIdYUKYiNkbdfb9IOv0", "model": "thedrummer/unslopnemo-12b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:58:42,310 - INFO - Received raw move 'e7e5' from model thedrummer/unslopnemo-12b
2025-07-17 22:58:42,311 - INFO - Using default board with active color: b
2025-07-17 22:58:42,311 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-07-17 22:58:42,312 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:58:43,558 - INFO - Received commentary from openai/gpt-4.1-mini: 1...e5 is a classical response...
2025-07-17 22:58:43,817 - INFO - Calling OpenRouter API with model: mistralai/mistral-small-24b-instruct-2501
2025-07-17 22:58:43,817 - INFO - Detected 1 move pairs already made in the game
2025-07-17 22:58:43,817 - INFO - OpenRouter Request for mistralai/mistral-small-24b-instruct-2501 (attempt 1): {"model": "mistralai/mistral-small-24b-instruct-2501", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:58:45,029 - INFO - OpenRouter response for mistralai/mistral-small-24b-instruct-2501 (attempt 1): {"id": "gen-1752785923-1WGZmKQQWwADy5WbEIaV", "model": "mistralai/mistral-small-24b-instruct-2501", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:58:45,029 - INFO - Received raw move 'g1f3' from model mistralai/mistral-small-24b-instruct-2501
2025-07-17 22:58:45,029 - INFO - Using default board with active color: w
2025-07-17 22:58:45,029 - INFO - Processed move: Raw 'g1f3' -> Interpreted 'g1f3' -> UCI 'g1f3' -> SAN 'Nf3'
2025-07-17 22:58:45,030 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:58:46,001 - INFO - Received commentary from openai/gpt-4.1-mini: The move Nf3! develops a knigh...
2025-07-17 22:58:46,031 - INFO - Calling OpenRouter API with model: thedrummer/unslopnemo-12b
2025-07-17 22:58:46,033 - INFO - Detected 1.5 move pairs already made in the game
2025-07-17 22:58:46,033 - INFO - OpenRouter Request for thedrummer/unslopnemo-12b (attempt 1): {"model": "thedrummer/unslopnemo-12b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:58:47,602 - INFO - OpenRouter response for thedrummer/unslopnemo-12b (attempt 1): {"id": "gen-1752785926-PYRRt5UuwAUZxvRhKjpe", "model": "thedrummer/unslopnemo-12b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:58:47,603 - INFO - Received raw move 'f6' from model thedrummer/unslopnemo-12b
2025-07-17 22:58:47,603 - INFO - Using default board with active color: b
2025-07-17 22:58:47,604 - INFO - Expanded pawn shorthand f6 to f7f6
2025-07-17 22:58:47,604 - INFO - Processed move: Raw 'f6' -> Interpreted 'f7f6' -> UCI 'f7f6' -> SAN 'f6'
2025-07-17 22:58:47,606 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:58:48,528 - INFO - Received commentary from openai/gpt-4.1-mini: 2...f6?! weakens Black's kings...
2025-07-17 22:58:48,608 - INFO - Calling OpenRouter API with model: mistralai/mistral-small-24b-instruct-2501
2025-07-17 22:58:48,608 - INFO - Detected 2 move pairs already made in the game
2025-07-17 22:58:48,608 - INFO - OpenRouter Request for mistralai/mistral-small-24b-instruct-2501 (attempt 1): {"model": "mistralai/mistral-small-24b-instruct-2501", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . . p p\n. . . . . p . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 f7f6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:58:50,352 - INFO - OpenRouter response for mistralai/mistral-small-24b-instruct-2501 (attempt 1): {"id": "gen-1752785928-ykh4Qfb4hW3OwYesVmnN", "model": "mistralai/mistral-small-24b-instruct-2501", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:58:50,353 - INFO - Received raw move 'f3g5' from model mistralai/mistral-small-24b-instruct-2501
2025-07-17 22:58:50,353 - INFO - Using default board with active color: w
2025-07-17 22:58:50,356 - INFO - Attempting to interpret ambiguous move with API: 'f3g5'
2025-07-17 22:58:50,378 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'f3g5'
2025-07-17 22:58:51,229 - INFO - Interpreted move 'f3g5' as 'f3g5'
2025-07-17 22:58:51,229 - WARNING - Interpreted move 'f3g5' is not legal on the current board
2025-07-17 22:58:51,229 - WARNING - Model mistralai/mistral-small-24b-instruct-2501 made an invalid move: 'f3g5' that couldn't be interpreted (attempt 1/5)
2025-07-17 22:58:51,230 - INFO - Calling OpenRouter API with model: mistralai/mistral-small-24b-instruct-2501
2025-07-17 22:58:51,230 - INFO - Detected 2 move pairs already made in the game
2025-07-17 22:58:51,230 - INFO - OpenRouter Request for mistralai/mistral-small-24b-instruct-2501 (attempt 1): {"model": "mistralai/mistral-small-24b-instruct-2501", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . . p p\n. . . . . p . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 f7f6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:58:52,622 - INFO - OpenRouter response for mistralai/mistral-small-24b-instruct-2501 (attempt 1): {"id": "gen-1752785931-2GwUTGT99bytYItzqIVe", "model": "mistralai/mistral-small-24b-instruct-2501", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:58:52,623 - INFO - Retry 1: Received raw move 'd2d4' from model mistralai/mistral-small-24b-instruct-2501
2025-07-17 22:58:52,623 - INFO - Using default board with active color: w
2025-07-17 22:58:52,623 - INFO - Processed move: Raw 'd2d4' -> Interpreted 'd2d4' -> UCI 'd2d4' -> SAN 'd4'
2025-07-17 22:58:52,624 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:58:53,900 - INFO - Received commentary from openai/gpt-4.1-mini: 3. d4!? challenges the center ...
2025-07-17 22:58:54,126 - INFO - Calling OpenRouter API with model: thedrummer/unslopnemo-12b
2025-07-17 22:58:54,126 - INFO - Detected 2.5 move pairs already made in the game
2025-07-17 22:58:54,126 - INFO - OpenRouter Request for thedrummer/unslopnemo-12b (attempt 1): {"model": "thedrummer/unslopnemo-12b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . . p p\n. . . . . p . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 f7f6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:58:54,536 - INFO - OpenRouter response for minimax/minimax-m1 (attempt 1): {"id": "gen-1752785716-cFNkDhGn386pKzLODGNk", "model": "minimax/minimax-m1", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:58:54,537 - INFO - Received raw move 'e7e5' from model minimax/minimax-m1
2025-07-17 22:58:54,537 - INFO - Using default board with active color: b
2025-07-17 22:58:54,537 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-07-17 22:58:54,537 - ERROR - Error sending WebSocket message: received 1001 (going away); then sent 1001 (going away)
2025-07-17 22:58:54,537 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:58:55,555 - INFO - Received commentary from openai/gpt-4.1-mini: Black's 1...e5 is a classical ...
2025-07-17 22:58:59,535 - INFO - OpenRouter response for thedrummer/unslopnemo-12b (attempt 1): {"id": "gen-1752785934-64FrSdl7XaXJsHpElB9A", "model": "thedrummer/unslopnemo-12b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:58:59,535 - INFO - Received raw move '...f6d5' from model thedrummer/unslopnemo-12b
2025-07-17 22:58:59,535 - INFO - Using default board with active color: b
2025-07-17 22:58:59,535 - INFO - Attempting to interpret ambiguous move with API: 'f6d5'
2025-07-17 22:58:59,554 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'f6d5'
2025-07-17 22:59:00,095 - INFO - Interpreted move 'f6d5' as 'INVALID'
2025-07-17 22:59:00,095 - WARNING - Model thedrummer/unslopnemo-12b made an invalid move: '...f6d5' that couldn't be interpreted (attempt 1/5)
2025-07-17 22:59:00,095 - INFO - Calling OpenRouter API with model: thedrummer/unslopnemo-12b
2025-07-17 22:59:00,095 - INFO - Detected 2.5 move pairs already made in the game
2025-07-17 22:59:00,095 - INFO - OpenRouter Request for thedrummer/unslopnemo-12b (attempt 1): {"model": "thedrummer/unslopnemo-12b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . . p p\n. . . . . p . .\n. . . . p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 f7f6\n3. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:59:00,931 - INFO - OpenRouter response for thedrummer/unslopnemo-12b (attempt 1): {"id": "gen-1752785940-q3VoLVPksE2IN7syjhAj", "model": "thedrummer/unslopnemo-12b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:59:00,932 - INFO - Retry 1: Received raw move '...d7d5' from model thedrummer/unslopnemo-12b
2025-07-17 22:59:00,932 - INFO - Using default board with active color: b
2025-07-17 22:59:00,932 - INFO - Processed move: Raw '...d7d5' -> Interpreted 'd7d5' -> UCI 'd7d5' -> SAN 'd5'
2025-07-17 22:59:00,933 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:59:02,208 - INFO - Received commentary from openai/gpt-4.1-mini: 3... d5?! challenges the cente...
2025-07-17 22:59:02,436 - INFO - Calling OpenRouter API with model: mistralai/mistral-small-24b-instruct-2501
2025-07-17 22:59:02,436 - INFO - Detected 3 move pairs already made in the game
2025-07-17 22:59:02,436 - INFO - OpenRouter Request for mistralai/mistral-small-24b-instruct-2501 (attempt 1): {"model": "mistralai/mistral-small-24b-instruct-2501", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . . p p\n. . . . . p . .\n. . . p p . . .\n. . . P P . . .\n. . . . . N . .\nP P P . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 f7f6\n3. d2d4 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:59:03,833 - INFO - OpenRouter response for mistralai/mistral-small-24b-instruct-2501 (attempt 1): {"id": "gen-1752785942-OYuBD1KovusjZKcxif44", "model": "mistralai/mistral-small-24b-instruct-2501", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:59:03,834 - INFO - Received raw move 'c2c3' from model mistralai/mistral-small-24b-instruct-2501
2025-07-17 22:59:03,835 - INFO - Using default board with active color: w
2025-07-17 22:59:03,835 - INFO - Processed move: Raw 'c2c3' -> Interpreted 'c2c3' -> UCI 'c2c3' -> SAN 'c3'
2025-07-17 22:59:03,839 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:59:05,307 - INFO - Received commentary from openai/gpt-4.1-mini: 4. c3 is a solid move supporti...
2025-07-17 22:59:05,342 - INFO - Calling OpenRouter API with model: thedrummer/unslopnemo-12b
2025-07-17 22:59:05,343 - INFO - Detected 3.5 move pairs already made in the game
2025-07-17 22:59:05,343 - INFO - OpenRouter Request for thedrummer/unslopnemo-12b (attempt 1): {"model": "thedrummer/unslopnemo-12b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . . p p\n. . . . . p . .\n. . . p p . . .\n. . . P P . . .\n. . P . . N . .\nP P . . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 f7f6\n3. d2d4 d7d5\n4. c2c3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:59:06,696 - INFO - OpenRouter response for thedrummer/unslopnemo-12b (attempt 1): {"id": "gen-1752785945-8gO8hli9zbOkuNqH6bxV", "model": "thedrummer/unslopnemo-12b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:59:06,697 - INFO - Received raw move 'e5' from model thedrummer/unslopnemo-12b
2025-07-17 22:59:06,697 - INFO - Using default board with active color: b
2025-07-17 22:59:06,697 - INFO - Expanded pawn shorthand e5 to e7e5
2025-07-17 22:59:06,698 - ERROR - Failed to convert move 'e7e5': ValueError: Illegal move: e7e5
2025-07-17 22:59:06,698 - WARNING - Move parsing attempt 1/5 failed, retrying...
2025-07-17 22:59:06,698 - INFO - Calling OpenRouter API with model: thedrummer/unslopnemo-12b
2025-07-17 22:59:06,698 - INFO - Detected 3.5 move pairs already made in the game
2025-07-17 22:59:06,698 - INFO - OpenRouter Request for thedrummer/unslopnemo-12b (attempt 1): {"model": "thedrummer/unslopnemo-12b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . . p p\n. . . . . p . .\n. . . p p . . .\n. . . P P . . .\n. . P . . N . .\nP P . . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 f7f6\n3. d2d4 d7d5\n4. c2c3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:59:07,513 - INFO - OpenRouter response for thedrummer/unslopnemo-12b (attempt 1): {"id": "gen-1752785946-Kbr6NL4aHazyrEqCtmjH", "model": "thedrummer/unslopnemo-12b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:59:07,514 - INFO - Move retry 1: Received raw move '...e5d4' from model thedrummer/unslopnemo-12b
2025-07-17 22:59:07,514 - INFO - Using default board with active color: b
2025-07-17 22:59:07,521 - INFO - Attempting to interpret ambiguous move with API: 'e5d4'
2025-07-17 22:59:07,538 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'e5d4'
2025-07-17 22:59:08,123 - INFO - Interpreted move 'e5d4' as 'e5d4'
2025-07-17 22:59:08,123 - WARNING - Interpreted move 'e5d4' is not legal on the current board
2025-07-17 22:59:08,123 - WARNING - Interpreted move is still invalid during retry 1
2025-07-17 22:59:08,123 - ERROR - Failed to parse 'INVALID' as SAN: invalid san: 'INVALID'
2025-07-17 22:59:08,123 - ERROR - Failed to convert move 'INVALID': InvalidMoveError: invalid san: 'INVALID'
2025-07-17 22:59:08,123 - WARNING - Move parsing attempt 2/5 failed, retrying...
2025-07-17 22:59:08,123 - INFO - Calling OpenRouter API with model: thedrummer/unslopnemo-12b
2025-07-17 22:59:08,123 - INFO - Detected 3.5 move pairs already made in the game
2025-07-17 22:59:08,123 - INFO - OpenRouter Request for thedrummer/unslopnemo-12b (attempt 1): {"model": "thedrummer/unslopnemo-12b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . . p p\n. . . . . p . .\n. . . p p . . .\n. . . P P . . .\n. . P . . N . .\nP P . . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 f7f6\n3. d2d4 d7d5\n4. c2c3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:59:10,882 - INFO - OpenRouter response for thedrummer/unslopnemo-12b (attempt 1): {"id": "gen-1752785948-CAiydjirXT830Dujrz1K", "model": "thedrummer/unslopnemo-12b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:59:10,885 - INFO - Move retry 2: Received raw move '...d6' from model thedrummer/unslopnemo-12b
2025-07-17 22:59:10,886 - INFO - Using default board with active color: b
2025-07-17 22:59:10,887 - INFO - Expanded pawn shorthand d6 to d7d6
2025-07-17 22:59:10,888 - ERROR - Failed to convert move 'd7d6': ValueError: Illegal move: d7d6
2025-07-17 22:59:10,888 - WARNING - Move parsing attempt 3/5 failed, retrying...
2025-07-17 22:59:10,888 - INFO - Calling OpenRouter API with model: thedrummer/unslopnemo-12b
2025-07-17 22:59:10,888 - INFO - Detected 3.5 move pairs already made in the game
2025-07-17 22:59:10,888 - INFO - OpenRouter Request for thedrummer/unslopnemo-12b (attempt 1): {"model": "thedrummer/unslopnemo-12b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . . p p\n. . . . . p . .\n. . . p p . . .\n. . . P P . . .\n. . P . . N . .\nP P . . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 f7f6\n3. d2d4 d7d5\n4. c2c3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:59:13,490 - INFO - OpenRouter response for thedrummer/unslopnemo-12b (attempt 1): {"id": "gen-1752785951-m75ahIO7tFWKjZUHDqFh", "model": "thedrummer/unslopnemo-12b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:59:13,490 - INFO - Move retry 3: Received raw move 'd5c4' from model thedrummer/unslopnemo-12b
2025-07-17 22:59:13,490 - INFO - Using default board with active color: b
2025-07-17 22:59:13,491 - INFO - Attempting to interpret ambiguous move with API: 'd5c4'
2025-07-17 22:59:13,504 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd5c4'
2025-07-17 22:59:14,381 - INFO - Interpreted move 'd5c4' as 'd7d5'
2025-07-17 22:59:14,381 - ERROR - Failed to convert move 'd7d5': ValueError: Illegal move: d7d5
2025-07-17 22:59:14,381 - WARNING - Move parsing attempt 4/5 failed, retrying...
2025-07-17 22:59:14,381 - INFO - Calling OpenRouter API with model: thedrummer/unslopnemo-12b
2025-07-17 22:59:14,382 - INFO - Detected 3.5 move pairs already made in the game
2025-07-17 22:59:14,382 - INFO - OpenRouter Request for thedrummer/unslopnemo-12b (attempt 1): {"model": "thedrummer/unslopnemo-12b", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . . p p\n. . . . . p . .\n. . . p p . . .\n. . . P P . . .\n. . P . . N . .\nP P . . . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 f7f6\n3. d2d4 d7d5\n4. c2c3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:59:15,699 - INFO - OpenRouter response for thedrummer/unslopnemo-12b (attempt 1): {"id": "gen-1752785954-gOJ0JtRBSiv4mxqiJskE", "model": "thedrummer/unslopnemo-12b", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:59:15,700 - INFO - Move retry 4: Received raw move 'f7f6' from model thedrummer/unslopnemo-12b
2025-07-17 22:59:15,700 - INFO - Using default board with active color: b
2025-07-17 22:59:15,700 - ERROR - Failed to convert move 'f7f6': ValueError: Illegal move: f7f6
2025-07-17 22:59:15,700 - ERROR - Failed to parse/apply move after 5 attempts
2025-07-17 22:59:15,700 - ERROR - Recovery attempt failed: All move parsing retries failed for 'f7f6'
2025-07-17 22:59:15,700 - INFO - Requesting game over explanation from openai/gpt-4.1-mini
2025-07-17 22:59:16,916 - INFO - Received game over explanation: The player thedrummer/unslopnemo-12b lost because ...
2025-07-17 22:59:22,089 - INFO - New game created: mistralai/mistral-small-3.1-24b-instruct:free (White) vs google/gemma-3n-e2b-it:free (Black)
2025-07-17 22:59:22,107 - INFO - WebSocket connection established for game game_1752785962_8408
2025-07-17 22:59:22,108 - INFO - Starting game: mistralai/mistral-small-3.1-24b-instruct:free vs google/gemma-3n-e2b-it:free
2025-07-17 22:59:22,110 - INFO - Calling OpenRouter API with model: mistralai/mistral-small-3.1-24b-instruct:free
2025-07-17 22:59:22,110 - INFO - Model has suffix: base=mistralai/mistral-small-3.1-24b-instruct, suffix=:free
2025-07-17 22:59:22,110 - INFO - OpenRouter Request for mistralai/mistral-small-3.1-24b-instruct:free (attempt 1): {"model": "mistralai/mistral-small-3.1-24b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:59:24,031 - INFO - OpenRouter response for mistralai/mistral-small-3.1-24b-instruct:free (attempt 1): {"id": "gen-1752785962-c1zS5q7XBt1G9IAChwtr", "model": "mistralai/mistral-small-3.1-24b-instruct:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:59:24,031 - INFO - Received raw move 'e2e4' from model mistralai/mistral-small-3.1-24b-instruct:free
2025-07-17 22:59:24,032 - INFO - Using default board with active color: w
2025-07-17 22:59:24,032 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-17 22:59:24,032 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:59:25,160 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 opens lines for the quee...
2025-07-17 22:59:25,534 - INFO - Calling OpenRouter API with model: google/gemma-3n-e2b-it:free
2025-07-17 22:59:25,535 - INFO - Detected 0.5 move pairs already made in the game
2025-07-17 22:59:25,535 - INFO - Model has suffix: base=google/gemma-3n-e2b-it, suffix=:free
2025-07-17 22:59:25,535 - INFO - OpenRouter Request for google/gemma-3n-e2b-it:free (attempt 1): {"model": "google/gemma-3n-e2b-it:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:59:26,156 - ERROR - Error calling model google/gemma-3n-e2b-it:free (attempt 1): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-17 22:59:26,157 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"code\": 400,\n    \"message\": \"Developer instruction is not enabled for models/gemma-3n-e2b-it\",\n    \"status\": \"INVALID_ARGUMENT\"\n  }\n}\n","provider_name":"Google AI Studio"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-17 22:59:27,658 - INFO - Retry attempt 1/3 for model google/gemma-3n-e2b-it:free
2025-07-17 22:59:27,659 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-17 22:59:27,659 - INFO - OpenRouter Request for google/gemma-3n-e2b-it:free (attempt 2): {"model": "google/gemma-3n-e2b-it:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-17 22:59:28,132 - ERROR - Error calling model google/gemma-3n-e2b-it:free (attempt 2): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-17 22:59:28,132 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"code\": 400,\n    \"message\": \"Developer instruction is not enabled for models/gemma-3n-e2b-it\",\n    \"status\": \"INVALID_ARGUMENT\"\n  }\n}\n","provider_name":"Google AI Studio"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-17 22:59:29,634 - INFO - Retry attempt 2/3 for model google/gemma-3n-e2b-it:free
2025-07-17 22:59:29,634 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-17 22:59:29,634 - INFO - Trying base model without suffix: google/gemma-3n-e2b-it
2025-07-17 22:59:29,635 - INFO - OpenRouter Request for google/gemma-3n-e2b-it (attempt 3): {"model": "google/gemma-3n-e2b-it", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-17 22:59:29,767 - ERROR - Error calling model google/gemma-3n-e2b-it (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-17 22:59:29,768 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for google/gemma-3n-e2b-it.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-17 22:59:31,269 - INFO - Retry attempt 3/3 for model google/gemma-3n-e2b-it:free
2025-07-17 22:59:31,269 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-17 22:59:31,269 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-17 22:59:31,269 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-17 22:59:31,866 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752785971-4UdWXLwZ4n1Vj6ELTPYW", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:59:31,866 - INFO - Received raw move 'e7e5' from model google/gemma-3n-e2b-it:free
2025-07-17 22:59:31,867 - INFO - Using default board with active color: b
2025-07-17 22:59:31,867 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-07-17 22:59:31,867 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:59:32,940 - INFO - Received commentary from openai/gpt-4.1-mini: Black's 1...e5!? challenges Wh...
2025-07-17 22:59:33,369 - INFO - Calling OpenRouter API with model: mistralai/mistral-small-3.1-24b-instruct:free
2025-07-17 22:59:33,369 - INFO - Detected 1 move pairs already made in the game
2025-07-17 22:59:33,370 - INFO - Model has suffix: base=mistralai/mistral-small-3.1-24b-instruct, suffix=:free
2025-07-17 22:59:33,370 - INFO - OpenRouter Request for mistralai/mistral-small-3.1-24b-instruct:free (attempt 1): {"model": "mistralai/mistral-small-3.1-24b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:59:35,877 - INFO - OpenRouter response for mistralai/mistral-small-3.1-24b-instruct:free (attempt 1): {"id": "gen-1752785973-223JnVhqZHoCDmB0fmIT", "model": "mistralai/mistral-small-3.1-24b-instruct:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:59:35,878 - INFO - Received raw move 'g1f3' from model mistralai/mistral-small-3.1-24b-instruct:free
2025-07-17 22:59:35,879 - INFO - Using default board with active color: w
2025-07-17 22:59:35,879 - INFO - Processed move: Raw 'g1f3' -> Interpreted 'g1f3' -> UCI 'g1f3' -> SAN 'Nf3'
2025-07-17 22:59:35,880 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:59:37,153 - INFO - Received commentary from openai/gpt-4.1-mini: Nf3! develops a knight towards...
2025-07-17 22:59:37,386 - INFO - Calling OpenRouter API with model: google/gemma-3n-e2b-it:free
2025-07-17 22:59:37,387 - INFO - Detected 1.5 move pairs already made in the game
2025-07-17 22:59:37,387 - INFO - Model has suffix: base=google/gemma-3n-e2b-it, suffix=:free
2025-07-17 22:59:37,387 - INFO - OpenRouter Request for google/gemma-3n-e2b-it:free (attempt 1): {"model": "google/gemma-3n-e2b-it:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:59:37,955 - ERROR - Error calling model google/gemma-3n-e2b-it:free (attempt 1): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-17 22:59:37,955 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"code\": 400,\n    \"message\": \"Developer instruction is not enabled for models/gemma-3n-e2b-it\",\n    \"status\": \"INVALID_ARGUMENT\"\n  }\n}\n","provider_name":"Google AI Studio"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-17 22:59:39,456 - INFO - Retry attempt 1/3 for model google/gemma-3n-e2b-it:free
2025-07-17 22:59:39,456 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-17 22:59:39,456 - INFO - OpenRouter Request for google/gemma-3n-e2b-it:free (attempt 2): {"model": "google/gemma-3n-e2b-it:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-17 22:59:39,855 - ERROR - Error calling model google/gemma-3n-e2b-it:free (attempt 2): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-17 22:59:39,855 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"code\": 400,\n    \"message\": \"Developer instruction is not enabled for models/gemma-3n-e2b-it\",\n    \"status\": \"INVALID_ARGUMENT\"\n  }\n}\n","provider_name":"Google AI Studio"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-17 22:59:41,356 - INFO - Retry attempt 2/3 for model google/gemma-3n-e2b-it:free
2025-07-17 22:59:41,356 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-17 22:59:41,356 - INFO - Trying base model without suffix: google/gemma-3n-e2b-it
2025-07-17 22:59:41,357 - INFO - OpenRouter Request for google/gemma-3n-e2b-it (attempt 3): {"model": "google/gemma-3n-e2b-it", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-17 22:59:41,458 - ERROR - Error calling model google/gemma-3n-e2b-it (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-17 22:59:41,459 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for google/gemma-3n-e2b-it.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-17 22:59:42,960 - INFO - Retry attempt 3/3 for model google/gemma-3n-e2b-it:free
2025-07-17 22:59:42,961 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-17 22:59:42,961 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-17 22:59:42,961 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-17 22:59:43,458 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752785983-o6VficvxH7WZ9RCiw5Wp", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:59:43,459 - INFO - Received raw move 'd7d6' from model google/gemma-3n-e2b-it:free
2025-07-17 22:59:43,459 - INFO - Using default board with active color: b
2025-07-17 22:59:43,459 - INFO - Processed move: Raw 'd7d6' -> Interpreted 'd7d6' -> UCI 'd7d6' -> SAN 'd6'
2025-07-17 22:59:43,459 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:59:44,449 - INFO - Received commentary from openai/gpt-4.1-mini: 2...d6 is a solid, though some...
2025-07-17 22:59:44,460 - INFO - Calling OpenRouter API with model: mistralai/mistral-small-3.1-24b-instruct:free
2025-07-17 22:59:44,460 - INFO - Detected 2 move pairs already made in the game
2025-07-17 22:59:44,460 - INFO - Model has suffix: base=mistralai/mistral-small-3.1-24b-instruct, suffix=:free
2025-07-17 22:59:44,460 - INFO - OpenRouter Request for mistralai/mistral-small-3.1-24b-instruct:free (attempt 1): {"model": "mistralai/mistral-small-3.1-24b-instruct:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . N . .\nP P P P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:59:46,773 - INFO - OpenRouter response for mistralai/mistral-small-3.1-24b-instruct:free (attempt 1): {"id": "gen-1752785984-WPB89Q5yMUVwTZJqbOpH", "model": "mistralai/mistral-small-3.1-24b-instruct:free", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:59:46,773 - INFO - Received raw move 'c2c4' from model mistralai/mistral-small-3.1-24b-instruct:free
2025-07-17 22:59:46,773 - INFO - Using default board with active color: w
2025-07-17 22:59:46,773 - INFO - Processed move: Raw 'c2c4' -> Interpreted 'c2c4' -> UCI 'c2c4' -> SAN 'c4'
2025-07-17 22:59:46,774 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 22:59:47,740 - INFO - Received commentary from openai/gpt-4.1-mini: 3. c4!? White challenges Black...
2025-07-17 22:59:47,775 - INFO - Calling OpenRouter API with model: google/gemma-3n-e2b-it:free
2025-07-17 22:59:47,775 - INFO - Detected 2.5 move pairs already made in the game
2025-07-17 22:59:47,775 - INFO - Model has suffix: base=google/gemma-3n-e2b-it, suffix=:free
2025-07-17 22:59:47,775 - INFO - OpenRouter Request for google/gemma-3n-e2b-it:free (attempt 1): {"model": "google/gemma-3n-e2b-it:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . P . P . . .\n. . . . . N . .\nP P . P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. c2c4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:59:48,361 - ERROR - Error calling model google/gemma-3n-e2b-it:free (attempt 1): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-17 22:59:48,361 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"code\": 400,\n    \"message\": \"Developer instruction is not enabled for models/gemma-3n-e2b-it\",\n    \"status\": \"INVALID_ARGUMENT\"\n  }\n}\n","provider_name":"Google AI Studio"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-17 22:59:49,862 - INFO - Retry attempt 1/3 for model google/gemma-3n-e2b-it:free
2025-07-17 22:59:49,862 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-17 22:59:49,862 - INFO - OpenRouter Request for google/gemma-3n-e2b-it:free (attempt 2): {"model": "google/gemma-3n-e2b-it:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-17 22:59:50,317 - ERROR - Error calling model google/gemma-3n-e2b-it:free (attempt 2): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-17 22:59:50,317 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"code\": 400,\n    \"message\": \"Developer instruction is not enabled for models/gemma-3n-e2b-it\",\n    \"status\": \"INVALID_ARGUMENT\"\n  }\n}\n","provider_name":"Google AI Studio"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-17 22:59:51,818 - INFO - Retry attempt 2/3 for model google/gemma-3n-e2b-it:free
2025-07-17 22:59:51,818 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-17 22:59:51,818 - INFO - Trying base model without suffix: google/gemma-3n-e2b-it
2025-07-17 22:59:51,818 - INFO - OpenRouter Request for google/gemma-3n-e2b-it (attempt 3): {"model": "google/gemma-3n-e2b-it", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-17 22:59:51,936 - ERROR - Error calling model google/gemma-3n-e2b-it (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-17 22:59:51,937 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for google/gemma-3n-e2b-it.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-17 22:59:53,438 - INFO - Retry attempt 3/3 for model google/gemma-3n-e2b-it:free
2025-07-17 22:59:53,438 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-17 22:59:53,438 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-17 22:59:53,438 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . P . P . . .\n. . . . . N . .\nP P . P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. c2c4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-17 22:59:54,110 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752785993-bORPpQnauU21QN52EZf9", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 22:59:54,110 - INFO - Received raw move 'd6d5' from model google/gemma-3n-e2b-it:free
2025-07-17 22:59:54,111 - INFO - Using default board with active color: b
2025-07-17 22:59:54,111 - INFO - Attempting to interpret ambiguous move with API: 'd6d5'
2025-07-17 22:59:54,121 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd6d5'
2025-07-17 22:59:54,795 - INFO - Interpreted move 'd6d5' as 'd7d5'
2025-07-17 22:59:54,795 - ERROR - Failed to convert move 'd7d5': ValueError: Illegal move: d7d5
2025-07-17 22:59:54,795 - WARNING - Move parsing attempt 1/5 failed, retrying...
2025-07-17 22:59:54,796 - INFO - Calling OpenRouter API with model: google/gemma-3n-e2b-it:free
2025-07-17 22:59:54,796 - INFO - Detected 2.5 move pairs already made in the game
2025-07-17 22:59:54,796 - INFO - Model has suffix: base=google/gemma-3n-e2b-it, suffix=:free
2025-07-17 22:59:54,796 - INFO - OpenRouter Request for google/gemma-3n-e2b-it:free (attempt 1): {"model": "google/gemma-3n-e2b-it:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . P . P . . .\n. . . . . N . .\nP P . P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. c2c4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 22:59:55,342 - ERROR - Error calling model google/gemma-3n-e2b-it:free (attempt 1): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-17 22:59:55,342 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"code\": 400,\n    \"message\": \"Developer instruction is not enabled for models/gemma-3n-e2b-it\",\n    \"status\": \"INVALID_ARGUMENT\"\n  }\n}\n","provider_name":"Google AI Studio"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-17 22:59:56,843 - INFO - Retry attempt 1/3 for model google/gemma-3n-e2b-it:free
2025-07-17 22:59:56,843 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-17 22:59:56,843 - INFO - OpenRouter Request for google/gemma-3n-e2b-it:free (attempt 2): {"model": "google/gemma-3n-e2b-it:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-17 22:59:57,296 - ERROR - Error calling model google/gemma-3n-e2b-it:free (attempt 2): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-17 22:59:57,296 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"code\": 400,\n    \"message\": \"Developer instruction is not enabled for models/gemma-3n-e2b-it\",\n    \"status\": \"INVALID_ARGUMENT\"\n  }\n}\n","provider_name":"Google AI Studio"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-17 22:59:58,797 - INFO - Retry attempt 2/3 for model google/gemma-3n-e2b-it:free
2025-07-17 22:59:58,797 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-17 22:59:58,797 - INFO - Trying base model without suffix: google/gemma-3n-e2b-it
2025-07-17 22:59:58,797 - INFO - OpenRouter Request for google/gemma-3n-e2b-it (attempt 3): {"model": "google/gemma-3n-e2b-it", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-17 22:59:58,903 - ERROR - Error calling model google/gemma-3n-e2b-it (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-17 22:59:58,903 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for google/gemma-3n-e2b-it.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-17 23:00:00,405 - INFO - Retry attempt 3/3 for model google/gemma-3n-e2b-it:free
2025-07-17 23:00:00,405 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-17 23:00:00,405 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-17 23:00:00,405 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . P . P . . .\n. . . . . N . .\nP P . P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. c2c4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-17 23:00:01,016 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752786000-y0GbdfSrCEl5p0nO1vm1", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 23:00:01,016 - INFO - Move retry 1: Received raw move 'd6d5' from model google/gemma-3n-e2b-it:free
2025-07-17 23:00:01,016 - INFO - Using default board with active color: b
2025-07-17 23:00:01,016 - INFO - Attempting to interpret ambiguous move with API: 'd6d5'
2025-07-17 23:00:01,026 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd6d5'
2025-07-17 23:00:01,848 - INFO - Interpreted move 'd6d5' as 'd7d5'
2025-07-17 23:00:01,848 - ERROR - Failed to convert move 'd7d5': ValueError: Illegal move: d7d5
2025-07-17 23:00:01,848 - WARNING - Move parsing attempt 2/5 failed, retrying...
2025-07-17 23:00:01,848 - INFO - Calling OpenRouter API with model: google/gemma-3n-e2b-it:free
2025-07-17 23:00:01,848 - INFO - Detected 2.5 move pairs already made in the game
2025-07-17 23:00:01,848 - INFO - Model has suffix: base=google/gemma-3n-e2b-it, suffix=:free
2025-07-17 23:00:01,848 - INFO - OpenRouter Request for google/gemma-3n-e2b-it:free (attempt 1): {"model": "google/gemma-3n-e2b-it:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . P . P . . .\n. . . . . N . .\nP P . P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. c2c4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 23:00:02,499 - ERROR - Error calling model google/gemma-3n-e2b-it:free (attempt 1): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-17 23:00:02,499 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"code\": 400,\n    \"message\": \"Developer instruction is not enabled for models/gemma-3n-e2b-it\",\n    \"status\": \"INVALID_ARGUMENT\"\n  }\n}\n","provider_name":"Google AI Studio"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-17 23:00:04,000 - INFO - Retry attempt 1/3 for model google/gemma-3n-e2b-it:free
2025-07-17 23:00:04,000 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-17 23:00:04,001 - INFO - OpenRouter Request for google/gemma-3n-e2b-it:free (attempt 2): {"model": "google/gemma-3n-e2b-it:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-17 23:00:04,438 - ERROR - Error calling model google/gemma-3n-e2b-it:free (attempt 2): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-17 23:00:04,438 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"code\": 400,\n    \"message\": \"Developer instruction is not enabled for models/gemma-3n-e2b-it\",\n    \"status\": \"INVALID_ARGUMENT\"\n  }\n}\n","provider_name":"Google AI Studio"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-17 23:00:05,939 - INFO - Retry attempt 2/3 for model google/gemma-3n-e2b-it:free
2025-07-17 23:00:05,939 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-17 23:00:05,940 - INFO - Trying base model without suffix: google/gemma-3n-e2b-it
2025-07-17 23:00:05,940 - INFO - OpenRouter Request for google/gemma-3n-e2b-it (attempt 3): {"model": "google/gemma-3n-e2b-it", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-17 23:00:06,057 - ERROR - Error calling model google/gemma-3n-e2b-it (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-17 23:00:06,057 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for google/gemma-3n-e2b-it.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-17 23:00:07,557 - INFO - Retry attempt 3/3 for model google/gemma-3n-e2b-it:free
2025-07-17 23:00:07,557 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-17 23:00:07,557 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-17 23:00:07,558 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . P . P . . .\n. . . . . N . .\nP P . P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. c2c4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-17 23:00:08,538 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752786007-It2shXXrwoa6zDhSw4L7", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 23:00:08,539 - INFO - Move retry 2: Received raw move 'd6d5' from model google/gemma-3n-e2b-it:free
2025-07-17 23:00:08,539 - INFO - Using default board with active color: b
2025-07-17 23:00:08,539 - INFO - Attempting to interpret ambiguous move with API: 'd6d5'
2025-07-17 23:00:08,558 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd6d5'
2025-07-17 23:00:09,129 - INFO - Interpreted move 'd6d5' as 'd7d5'
2025-07-17 23:00:09,130 - ERROR - Failed to convert move 'd7d5': ValueError: Illegal move: d7d5
2025-07-17 23:00:09,130 - WARNING - Move parsing attempt 3/5 failed, retrying...
2025-07-17 23:00:09,131 - INFO - Calling OpenRouter API with model: google/gemma-3n-e2b-it:free
2025-07-17 23:00:09,131 - INFO - Detected 2.5 move pairs already made in the game
2025-07-17 23:00:09,131 - INFO - Model has suffix: base=google/gemma-3n-e2b-it, suffix=:free
2025-07-17 23:00:09,131 - INFO - OpenRouter Request for google/gemma-3n-e2b-it:free (attempt 1): {"model": "google/gemma-3n-e2b-it:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . P . P . . .\n. . . . . N . .\nP P . P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. c2c4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 23:00:09,948 - ERROR - Error calling model google/gemma-3n-e2b-it:free (attempt 1): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-17 23:00:09,949 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"code\": 400,\n    \"message\": \"Developer instruction is not enabled for models/gemma-3n-e2b-it\",\n    \"status\": \"INVALID_ARGUMENT\"\n  }\n}\n","provider_name":"Google AI Studio"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-17 23:00:11,451 - INFO - Retry attempt 1/3 for model google/gemma-3n-e2b-it:free
2025-07-17 23:00:11,452 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-17 23:00:11,453 - INFO - OpenRouter Request for google/gemma-3n-e2b-it:free (attempt 2): {"model": "google/gemma-3n-e2b-it:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-17 23:00:11,844 - ERROR - Error calling model google/gemma-3n-e2b-it:free (attempt 2): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-17 23:00:11,844 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"code\": 400,\n    \"message\": \"Developer instruction is not enabled for models/gemma-3n-e2b-it\",\n    \"status\": \"INVALID_ARGUMENT\"\n  }\n}\n","provider_name":"Google AI Studio"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-17 23:00:13,345 - INFO - Retry attempt 2/3 for model google/gemma-3n-e2b-it:free
2025-07-17 23:00:13,346 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-17 23:00:13,346 - INFO - Trying base model without suffix: google/gemma-3n-e2b-it
2025-07-17 23:00:13,346 - INFO - OpenRouter Request for google/gemma-3n-e2b-it (attempt 3): {"model": "google/gemma-3n-e2b-it", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-17 23:00:13,474 - ERROR - Error calling model google/gemma-3n-e2b-it (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-17 23:00:13,475 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for google/gemma-3n-e2b-it.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-17 23:00:14,976 - INFO - Retry attempt 3/3 for model google/gemma-3n-e2b-it:free
2025-07-17 23:00:14,976 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-17 23:00:14,976 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-17 23:00:14,976 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . P . P . . .\n. . . . . N . .\nP P . P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. c2c4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-17 23:00:15,513 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752786015-47LOLHjwnLOGjbxC0pA1", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 23:00:15,518 - INFO - Move retry 3: Received raw move 'd6d5' from model google/gemma-3n-e2b-it:free
2025-07-17 23:00:15,519 - INFO - Using default board with active color: b
2025-07-17 23:00:15,519 - INFO - Attempting to interpret ambiguous move with API: 'd6d5'
2025-07-17 23:00:15,542 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd6d5'
2025-07-17 23:00:16,298 - INFO - Interpreted move 'd6d5' as 'd7d5'
2025-07-17 23:00:16,300 - ERROR - Failed to convert move 'd7d5': ValueError: Illegal move: d7d5
2025-07-17 23:00:16,300 - WARNING - Move parsing attempt 4/5 failed, retrying...
2025-07-17 23:00:16,301 - INFO - Calling OpenRouter API with model: google/gemma-3n-e2b-it:free
2025-07-17 23:00:16,301 - INFO - Detected 2.5 move pairs already made in the game
2025-07-17 23:00:16,302 - INFO - Model has suffix: base=google/gemma-3n-e2b-it, suffix=:free
2025-07-17 23:00:16,302 - INFO - OpenRouter Request for google/gemma-3n-e2b-it:free (attempt 1): {"model": "google/gemma-3n-e2b-it:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . P . P . . .\n. . . . . N . .\nP P . P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. c2c4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 23:00:16,929 - ERROR - Error calling model google/gemma-3n-e2b-it:free (attempt 1): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-17 23:00:16,929 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"code\": 400,\n    \"message\": \"Developer instruction is not enabled for models/gemma-3n-e2b-it\",\n    \"status\": \"INVALID_ARGUMENT\"\n  }\n}\n","provider_name":"Google AI Studio"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-17 23:00:18,431 - INFO - Retry attempt 1/3 for model google/gemma-3n-e2b-it:free
2025-07-17 23:00:18,431 - INFO - Using fallback prompt 1: No explanation needed. Respond...
2025-07-17 23:00:18,431 - INFO - OpenRouter Request for google/gemma-3n-e2b-it:free (attempt 2): {"model": "google/gemma-3n-e2b-it:free", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "No explanation needed. Respond with only a valid chess move in UCI format (e.g., 'e2e4'). Your move:"}]}
2025-07-17 23:00:18,951 - ERROR - Error calling model google/gemma-3n-e2b-it:free (attempt 2): Client error '400 Bad Request' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-17 23:00:18,951 - ERROR - OpenRouter Error Response: {"error":{"message":"Provider returned error","code":400,"metadata":{"raw":"{\n  \"error\": {\n    \"code\": 400,\n    \"message\": \"Developer instruction is not enabled for models/gemma-3n-e2b-it\",\n    \"status\": \"INVALID_ARGUMENT\"\n  }\n}\n","provider_name":"Google AI Studio"}},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-17 23:00:20,453 - INFO - Retry attempt 2/3 for model google/gemma-3n-e2b-it:free
2025-07-17 23:00:20,453 - INFO - Using fallback prompt 2: Provide just the 4-character U...
2025-07-17 23:00:20,453 - INFO - Trying base model without suffix: google/gemma-3n-e2b-it
2025-07-17 23:00:20,454 - INFO - OpenRouter Request for google/gemma-3n-e2b-it (attempt 3): {"model": "google/gemma-3n-e2b-it", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "Provide just the 4-character UCI chess move notation. Example format: 'e2e4', 'g1f3'. Your move:"}]}
2025-07-17 23:00:20,592 - ERROR - Error calling model google/gemma-3n-e2b-it (attempt 3): Client error '404 Not Found' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
2025-07-17 23:00:20,592 - ERROR - OpenRouter Error Response: {"error":{"message":"No endpoints found for google/gemma-3n-e2b-it.","code":404},"user_id":"user_2qwNyQc88KltGsLdtD2aQwj9Wjw"}
2025-07-17 23:00:22,093 - INFO - Retry attempt 3/3 for model google/gemma-3n-e2b-it:free
2025-07-17 23:00:22,093 - INFO - Using fallback prompt 3: Reply with only four character...
2025-07-17 23:00:22,093 - INFO - Final fallback to reliable model: openai/gpt-4.1-mini
2025-07-17 23:00:22,093 - INFO - OpenRouter Request for openai/gpt-4.1-mini (attempt 4): {"model": "openai/gpt-4.1-mini", "messages": [{"role": "system", "content": "You are a chess engine. Output must be ONLY a valid 4-character UCI chess move."}, {"role": "user", "content": "\nYou are playing as BLACK.\nCurrent board:\n\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p . . p p p\n. . . p . . . .\n. . . . p . . .\n. . P . P . . .\n. . . . . N . .\nP P . P . P P P\nR N B Q K B . R\n\nPrevious moves:\n1. e2e4 e7e5\n2. g1f3 d7d6\n3. c2c4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n\n\nOutput only the exact 4-character UCI notation (e.g., 'e2e4', 'g1f3'). No explanation or additional text.\nYour move:\n"}]}
2025-07-17 23:00:22,782 - INFO - OpenRouter response for openai/gpt-4.1-mini (attempt 4): {"id": "gen-1752786022-8vACwfnso1lbcdk5D5ud", "model": "openai/gpt-4.1-mini", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 23:00:22,783 - INFO - Move retry 4: Received raw move 'd6d5' from model google/gemma-3n-e2b-it:free
2025-07-17 23:00:22,783 - INFO - Using default board with active color: b
2025-07-17 23:00:22,784 - INFO - Attempting to interpret ambiguous move with API: 'd6d5'
2025-07-17 23:00:22,808 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd6d5'
2025-07-17 23:00:23,607 - INFO - Interpreted move 'd6d5' as 'd7d5'
2025-07-17 23:00:23,608 - ERROR - Failed to convert move 'd7d5': ValueError: Illegal move: d7d5
2025-07-17 23:00:23,609 - ERROR - Failed to parse/apply move after 5 attempts
2025-07-17 23:00:23,609 - ERROR - Recovery attempt failed: All move parsing retries failed for 'd7d5'
2025-07-17 23:00:23,609 - INFO - Requesting game over explanation from openai/gpt-4.1-mini
2025-07-17 23:00:27,985 - INFO - Received game over explanation: Google/gemma-3n-e2b-it:free lost because it tried ...
2025-07-17 23:00:37,343 - INFO - New game created: openai/gpt-4o-mini-2024-07-18 (White) vs qwen/qwen-2.5-vl-7b-instruct (Black)
2025-07-17 23:00:37,355 - INFO - WebSocket connection established for game game_1752786037_3295
2025-07-17 23:00:37,356 - INFO - Starting game: openai/gpt-4o-mini-2024-07-18 vs qwen/qwen-2.5-vl-7b-instruct
2025-07-17 23:00:37,357 - INFO - Calling OpenRouter API with model: openai/gpt-4o-mini-2024-07-18
2025-07-17 23:00:37,357 - INFO - OpenRouter Request for openai/gpt-4o-mini-2024-07-18 (attempt 1): {"model": "openai/gpt-4o-mini-2024-07-18", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nYou are making the first move of the game.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\n. . . . . . . .\nP P P P P P P P\nR N B Q K B N R\n\n\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 23:00:37,977 - INFO - OpenRouter response for openai/gpt-4o-mini-2024-07-18 (attempt 1): {"id": "gen-1752786037-A6HWl8fQcRAJm5wKpzTQ", "model": "openai/gpt-4o-mini-2024-07-18", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 23:00:37,978 - INFO - Received raw move 'e2e4' from model openai/gpt-4o-mini-2024-07-18
2025-07-17 23:00:37,979 - INFO - Using default board with active color: w
2025-07-17 23:00:37,979 - INFO - Processed move: Raw 'e2e4' -> Interpreted 'e2e4' -> UCI 'e2e4' -> SAN 'e4'
2025-07-17 23:00:37,981 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 23:00:39,064 - INFO - Received commentary from openai/gpt-4.1-mini: 1. e4 is a classic opening mov...
2025-07-17 23:00:39,484 - INFO - Calling OpenRouter API with model: qwen/qwen-2.5-vl-7b-instruct
2025-07-17 23:00:39,484 - INFO - Detected 0.5 move pairs already made in the game
2025-07-17 23:00:39,485 - INFO - OpenRouter Request for qwen/qwen-2.5-vl-7b-instruct (attempt 1): {"model": "qwen/qwen-2.5-vl-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p p p p p\n. . . . . . . .\n. . . . . . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 23:00:40,360 - INFO - OpenRouter response for qwen/qwen-2.5-vl-7b-instruct (attempt 1): {"id": "gen-1752786039-RuEQLvQ5KBtM2VCr3KzN", "model": "qwen/qwen-2.5-vl-7b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 23:00:40,361 - INFO - Received raw move 'e7e5' from model qwen/qwen-2.5-vl-7b-instruct
2025-07-17 23:00:40,364 - INFO - Using default board with active color: b
2025-07-17 23:00:40,365 - INFO - Processed move: Raw 'e7e5' -> Interpreted 'e7e5' -> UCI 'e7e5' -> SAN 'e5'
2025-07-17 23:00:40,366 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 23:00:41,961 - INFO - Received commentary from openai/gpt-4.1-mini: 1... e5 is a classical respons...
2025-07-17 23:00:42,369 - INFO - Calling OpenRouter API with model: openai/gpt-4o-mini-2024-07-18
2025-07-17 23:00:42,370 - INFO - Detected 1 move pairs already made in the game
2025-07-17 23:00:42,370 - INFO - OpenRouter Request for openai/gpt-4o-mini-2024-07-18 (attempt 1): {"model": "openai/gpt-4o-mini-2024-07-18", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . . P . . .\n. . . . . . . .\nP P P P . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 23:00:42,980 - INFO - OpenRouter response for openai/gpt-4o-mini-2024-07-18 (attempt 1): {"id": "gen-1752786042-G89eDrh3MlDY0XQkyy2I", "model": "openai/gpt-4o-mini-2024-07-18", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 23:00:42,981 - INFO - Received raw move 'd2d4' from model openai/gpt-4o-mini-2024-07-18
2025-07-17 23:00:42,982 - INFO - Using default board with active color: w
2025-07-17 23:00:42,982 - INFO - Processed move: Raw 'd2d4' -> Interpreted 'd2d4' -> UCI 'd2d4' -> SAN 'd4'
2025-07-17 23:00:42,983 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 23:00:44,217 - INFO - Received commentary from openai/gpt-4.1-mini: 2.d4 ! White challenges the ce...
2025-07-17 23:00:44,485 - INFO - Calling OpenRouter API with model: qwen/qwen-2.5-vl-7b-instruct
2025-07-17 23:00:44,486 - INFO - Detected 1.5 move pairs already made in the game
2025-07-17 23:00:44,486 - INFO - OpenRouter Request for qwen/qwen-2.5-vl-7b-instruct (attempt 1): {"model": "qwen/qwen-2.5-vl-7b-instruct", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as BLACK in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are lowercase):\nr n b q k b n r\np p p p . p p p\n. . . . . . . .\n. . . . p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 23:00:45,288 - INFO - OpenRouter response for qwen/qwen-2.5-vl-7b-instruct (attempt 1): {"id": "gen-1752786044-OQ9gMWz6POVFcqpQpKBQ", "model": "qwen/qwen-2.5-vl-7b-instruct", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 23:00:45,289 - INFO - Received raw move 'd7d5' from model qwen/qwen-2.5-vl-7b-instruct
2025-07-17 23:00:45,289 - INFO - Using default board with active color: b
2025-07-17 23:00:45,289 - INFO - Processed move: Raw 'd7d5' -> Interpreted 'd7d5' -> UCI 'd7d5' -> SAN 'd5'
2025-07-17 23:00:45,290 - INFO - Requesting commentary from openai/gpt-4.1-mini
2025-07-17 23:00:47,070 - INFO - Received commentary from openai/gpt-4.1-mini: Black's move 2...d5 challenges...
2025-07-17 23:00:47,295 - INFO - Calling OpenRouter API with model: openai/gpt-4o-mini-2024-07-18
2025-07-17 23:00:47,295 - INFO - Detected 2 move pairs already made in the game
2025-07-17 23:00:47,295 - INFO - OpenRouter Request for openai/gpt-4o-mini-2024-07-18 (attempt 1): {"model": "openai/gpt-4o-mini-2024-07-18", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . . . . . .\n. . . p p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 23:00:48,098 - INFO - OpenRouter response for openai/gpt-4o-mini-2024-07-18 (attempt 1): {"id": "gen-1752786047-vkafBHVWSqMT1KilmoCh", "model": "openai/gpt-4o-mini-2024-07-18", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 23:00:48,099 - INFO - Received raw move 'd4d5' from model openai/gpt-4o-mini-2024-07-18
2025-07-17 23:00:48,099 - INFO - Using default board with active color: w
2025-07-17 23:00:48,102 - INFO - Attempting to interpret ambiguous move with API: 'd4d5'
2025-07-17 23:00:48,127 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd4d5'
2025-07-17 23:00:48,646 - INFO - Interpreted move 'd4d5' as 'd2d4'
2025-07-17 23:00:48,647 - ERROR - Failed to convert move 'd2d4': ValueError: Illegal move: d2d4
2025-07-17 23:00:48,648 - WARNING - Move parsing attempt 1/5 failed, retrying...
2025-07-17 23:00:48,648 - INFO - Calling OpenRouter API with model: openai/gpt-4o-mini-2024-07-18
2025-07-17 23:00:48,648 - INFO - Detected 2 move pairs already made in the game
2025-07-17 23:00:48,649 - INFO - OpenRouter Request for openai/gpt-4o-mini-2024-07-18 (attempt 1): {"model": "openai/gpt-4o-mini-2024-07-18", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . . . . . .\n. . . p p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 23:00:50,543 - INFO - OpenRouter response for openai/gpt-4o-mini-2024-07-18 (attempt 1): {"id": "gen-1752786048-PTG1PPFNgUU6MUf3glzM", "model": "openai/gpt-4o-mini-2024-07-18", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 23:00:50,544 - INFO - Move retry 1: Received raw move 'd4d5' from model openai/gpt-4o-mini-2024-07-18
2025-07-17 23:00:50,544 - INFO - Using default board with active color: w
2025-07-17 23:00:50,544 - INFO - Attempting to interpret ambiguous move with API: 'd4d5'
2025-07-17 23:00:50,565 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd4d5'
2025-07-17 23:00:51,094 - INFO - Interpreted move 'd4d5' as 'd2d5'
2025-07-17 23:00:51,094 - WARNING - Interpreted move 'd2d5' is not legal on the current board
2025-07-17 23:00:51,095 - WARNING - Interpreted move is still invalid during retry 1
2025-07-17 23:00:51,095 - ERROR - Failed to parse 'INVALID' as SAN: invalid san: 'INVALID'
2025-07-17 23:00:51,095 - ERROR - Failed to convert move 'INVALID': InvalidMoveError: invalid san: 'INVALID'
2025-07-17 23:00:51,095 - WARNING - Move parsing attempt 2/5 failed, retrying...
2025-07-17 23:00:51,095 - INFO - Calling OpenRouter API with model: openai/gpt-4o-mini-2024-07-18
2025-07-17 23:00:51,096 - INFO - Detected 2 move pairs already made in the game
2025-07-17 23:00:51,096 - INFO - OpenRouter Request for openai/gpt-4o-mini-2024-07-18 (attempt 1): {"model": "openai/gpt-4o-mini-2024-07-18", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . . . . . .\n. . . p p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 23:00:51,884 - INFO - OpenRouter response for openai/gpt-4o-mini-2024-07-18 (attempt 1): {"id": "gen-1752786051-GDXPjJWmkylGRpIXBNHX", "model": "openai/gpt-4o-mini-2024-07-18", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 23:00:51,885 - INFO - Move retry 2: Received raw move 'd4d5' from model openai/gpt-4o-mini-2024-07-18
2025-07-17 23:00:51,885 - INFO - Using default board with active color: w
2025-07-17 23:00:51,886 - INFO - Attempting to interpret ambiguous move with API: 'd4d5'
2025-07-17 23:00:51,910 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd4d5'
2025-07-17 23:00:52,502 - INFO - Interpreted move 'd4d5' as 'd2d4'
2025-07-17 23:00:52,502 - ERROR - Failed to convert move 'd2d4': ValueError: Illegal move: d2d4
2025-07-17 23:00:52,502 - WARNING - Move parsing attempt 3/5 failed, retrying...
2025-07-17 23:00:52,503 - INFO - Calling OpenRouter API with model: openai/gpt-4o-mini-2024-07-18
2025-07-17 23:00:52,503 - INFO - Detected 2 move pairs already made in the game
2025-07-17 23:00:52,503 - INFO - OpenRouter Request for openai/gpt-4o-mini-2024-07-18 (attempt 1): {"model": "openai/gpt-4o-mini-2024-07-18", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . . . . . .\n. . . p p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 23:00:53,309 - INFO - OpenRouter response for openai/gpt-4o-mini-2024-07-18 (attempt 1): {"id": "gen-1752786052-NFyIHE7e9Aa7ls8Eq1IS", "model": "openai/gpt-4o-mini-2024-07-18", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 23:00:53,310 - INFO - Move retry 3: Received raw move 'd4d5' from model openai/gpt-4o-mini-2024-07-18
2025-07-17 23:00:53,310 - INFO - Using default board with active color: w
2025-07-17 23:00:53,310 - INFO - Attempting to interpret ambiguous move with API: 'd4d5'
2025-07-17 23:00:53,336 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd4d5'
2025-07-17 23:00:53,959 - INFO - Interpreted move 'd4d5' as 'd2d4'
2025-07-17 23:00:53,959 - ERROR - Failed to convert move 'd2d4': ValueError: Illegal move: d2d4
2025-07-17 23:00:53,959 - WARNING - Move parsing attempt 4/5 failed, retrying...
2025-07-17 23:00:53,959 - INFO - Calling OpenRouter API with model: openai/gpt-4o-mini-2024-07-18
2025-07-17 23:00:53,959 - INFO - Detected 2 move pairs already made in the game
2025-07-17 23:00:53,959 - INFO - OpenRouter Request for openai/gpt-4o-mini-2024-07-18 (attempt 1): {"model": "openai/gpt-4o-mini-2024-07-18", "messages": [{"role": "system", "content": "You are a chess engine. Respond with only a valid chess move in UCI notation (e.g. 'e2e4', 'g1f3'). No explanations, no other text."}, {"role": "user", "content": "\nYou are playing as WHITE in this chess game.\nIt is YOUR TURN to move now.\n\nCurrent board position (YOUR pieces are UPPERCASE):\nr n b q k b n r\np p p . . p p p\n. . . . . . . .\n. . . p p . . .\n. . . P P . . .\n. . . . . . . .\nP P P . . P P P\nR N B Q K B N R\n\nPrevious moves:\n1. e2e4 e7e5\n2. d2d4 d7d5\n\nNo intro, no outro, only your next move in proper UCI format (e.g., \"e2e4\" for moving from e2 to e4). Your next move is:\n"}]}
2025-07-17 23:00:54,666 - INFO - OpenRouter response for openai/gpt-4o-mini-2024-07-18 (attempt 1): {"id": "gen-1752786054-TGV86ZqcKxhZJDWlm6dd", "model": "openai/gpt-4o-mini-2024-07-18", "choices": [{"index": 0, "message": {"role": "assistant"}}]}
2025-07-17 23:00:54,667 - INFO - Move retry 4: Received raw move 'd4d5' from model openai/gpt-4o-mini-2024-07-18
2025-07-17 23:00:54,667 - INFO - Using default board with active color: w
2025-07-17 23:00:54,668 - INFO - Attempting to interpret ambiguous move with API: 'd4d5'
2025-07-17 23:00:54,689 - INFO - Sending interpretation request to openai/gpt-4.1-mini for move: 'd4d5'
2025-07-17 23:00:55,281 - INFO - Interpreted move 'd4d5' as 'd2d4'
2025-07-17 23:00:55,282 - ERROR - Failed to convert move 'd2d4': ValueError: Illegal move: d2d4
2025-07-17 23:00:55,282 - ERROR - Failed to parse/apply move after 5 attempts
2025-07-17 23:00:55,282 - ERROR - Recovery attempt failed: All move parsing retries failed for 'd2d4'
2025-07-17 23:00:55,282 - INFO - Requesting game over explanation from openai/gpt-4.1-mini
2025-07-17 23:00:57,156 - INFO - Received game over explanation: Openai/gpt-4o-mini-2024-07-18 lost because it trie...
